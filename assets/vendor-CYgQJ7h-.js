var Yd=function(){function t(e,n){n===void 0&&(n=[]),this._eventType=e,this._eventFunctions=n}return t.prototype.init=function(){var e=this;this._eventFunctions.forEach(function(n){typeof window<"u"&&window.addEventListener(e._eventType,n)})},t}(),Jd=function(){function t(){this._instances={Accordion:{},Carousel:{},Collapse:{},Dial:{},Dismiss:{},Drawer:{},Dropdown:{},Modal:{},Popover:{},Tabs:{},Tooltip:{},InputCounter:{},CopyClipboard:{},Datepicker:{}}}return t.prototype.addInstance=function(e,n,r,i){if(i===void 0&&(i=!1),!this._instances[e])return console.warn("Flowbite: Component ".concat(e," does not exist.")),!1;if(this._instances[e][r]&&!i){console.warn("Flowbite: Instance with ID ".concat(r," already exists."));return}i&&this._instances[e][r]&&this._instances[e][r].destroyAndRemoveInstance(),this._instances[e][r||this._generateRandomId()]=n},t.prototype.getAllInstances=function(){return this._instances},t.prototype.getInstances=function(e){return this._instances[e]?this._instances[e]:(console.warn("Flowbite: Component ".concat(e," does not exist.")),!1)},t.prototype.getInstance=function(e,n){if(this._componentAndInstanceCheck(e,n)){if(!this._instances[e][n]){console.warn("Flowbite: Instance with ID ".concat(n," does not exist."));return}return this._instances[e][n]}},t.prototype.destroyAndRemoveInstance=function(e,n){this._componentAndInstanceCheck(e,n)&&(this.destroyInstanceObject(e,n),this.removeInstance(e,n))},t.prototype.removeInstance=function(e,n){this._componentAndInstanceCheck(e,n)&&delete this._instances[e][n]},t.prototype.destroyInstanceObject=function(e,n){this._componentAndInstanceCheck(e,n)&&this._instances[e][n].destroy()},t.prototype.instanceExists=function(e,n){return!(!this._instances[e]||!this._instances[e][n])},t.prototype._generateRandomId=function(){return Math.random().toString(36).substr(2,9)},t.prototype._componentAndInstanceCheck=function(e,n){return this._instances[e]?this._instances[e][n]?!0:(console.warn("Flowbite: Instance with ID ".concat(n," does not exist.")),!1):(console.warn("Flowbite: Component ".concat(e," does not exist.")),!1)},t}(),V=new Jd;typeof window<"u"&&(window.FlowbiteInstances=V);var mi=function(){return mi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mi.apply(this,arguments)},pi={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},Kd={id:null,override:!0},rl=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=pi),i===void 0&&(i=Kd),this._instanceId=i.id?i.id:e.id,this._accordionEl=e,this._items=n,this._options=mi(mi({},pi),r),this._initialized=!1,this.init(),V.addInstance("Accordion",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._items.forEach(function(n){n.active&&e.open(n.id);var r=function(){e.toggle(n.id)};n.triggerEl.addEventListener("click",r),n.clickHandler=r}),this._initialized=!0)},t.prototype.destroy=function(){this._items.length&&this._initialized&&(this._items.forEach(function(e){e.triggerEl.removeEventListener("click",e.clickHandler),delete e.clickHandler}),this._initialized=!1)},t.prototype.removeInstance=function(){V.removeInstance("Accordion",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getItem=function(e){return this._items.filter(function(n){return n.id===e})[0]},t.prototype.open=function(e){var n,r,i=this,s=this.getItem(e);this._options.alwaysOpen||this._items.map(function(a){var o,c;a!==s&&((o=a.triggerEl.classList).remove.apply(o,i._options.activeClasses.split(" ")),(c=a.triggerEl.classList).add.apply(c,i._options.inactiveClasses.split(" ")),a.targetEl.classList.add("hidden"),a.triggerEl.setAttribute("aria-expanded","false"),a.active=!1,a.iconEl&&a.iconEl.classList.add("rotate-180"))}),(n=s.triggerEl.classList).add.apply(n,this._options.activeClasses.split(" ")),(r=s.triggerEl.classList).remove.apply(r,this._options.inactiveClasses.split(" ")),s.triggerEl.setAttribute("aria-expanded","true"),s.targetEl.classList.remove("hidden"),s.active=!0,s.iconEl&&s.iconEl.classList.remove("rotate-180"),this._options.onOpen(this,s)},t.prototype.toggle=function(e){var n=this.getItem(e);n.active?this.close(e):this.open(e),this._options.onToggle(this,n)},t.prototype.close=function(e){var n,r,i=this.getItem(e);(n=i.triggerEl.classList).remove.apply(n,this._options.activeClasses.split(" ")),(r=i.triggerEl.classList).add.apply(r,this._options.inactiveClasses.split(" ")),i.targetEl.classList.add("hidden"),i.triggerEl.setAttribute("aria-expanded","false"),i.active=!1,i.iconEl&&i.iconEl.classList.add("rotate-180"),this._options.onClose(this,i)},t.prototype.updateOnOpen=function(e){this._options.onOpen=e},t.prototype.updateOnClose=function(e){this._options.onClose=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function fa(){document.querySelectorAll("[data-accordion]").forEach(function(t){var e=t.getAttribute("data-accordion"),n=t.getAttribute("data-active-classes"),r=t.getAttribute("data-inactive-classes"),i=[];t.querySelectorAll("[data-accordion-target]").forEach(function(s){if(s.closest("[data-accordion]")===t){var a={id:s.getAttribute("data-accordion-target"),triggerEl:s,targetEl:document.querySelector(s.getAttribute("data-accordion-target")),iconEl:s.querySelector("[data-accordion-icon]"),active:s.getAttribute("aria-expanded")==="true"};i.push(a)}}),new rl(t,i,{alwaysOpen:e==="open",activeClasses:n||pi.activeClasses,inactiveClasses:r||pi.inactiveClasses})})}typeof window<"u"&&(window.Accordion=rl,window.initAccordions=fa);var gi=function(){return gi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},gi.apply(this,arguments)},Vo={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},Qd={id:null,override:!0},Ls=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=Vo),i===void 0&&(i=Qd),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=n,this._options=gi(gi({},Vo),r),this._visible=!1,this._initialized=!1,this.init(),V.addInstance("Collapse",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible=this._triggerEl.getAttribute("aria-expanded")==="true":this._visible=!this._targetEl.classList.contains("hidden"),this._clickHandler=function(){e.toggle()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){V.removeInstance("Collapse",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},t.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},t.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},t.prototype.updateOnCollapse=function(e){this._options.onCollapse=e},t.prototype.updateOnExpand=function(e){this._options.onExpand=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function ha(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(t){var e=t.getAttribute("data-collapse-toggle"),n=document.getElementById(e);n?V.instanceExists("Collapse",n.getAttribute("id"))?new Ls(n,t,{},{id:n.getAttribute("id")+"_"+V._generateRandomId()}):new Ls(n,t):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-collapse-toggle attribute.'))})}typeof window<"u"&&(window.Collapse=Ls,window.initCollapses=ha);var jt=function(){return jt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},jt.apply(this,arguments)},Jr={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},ef={id:null,override:!0},il=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=Jr),i===void 0&&(i=ef),this._instanceId=i.id?i.id:e.id,this._carouselEl=e,this._items=n,this._options=jt(jt(jt({},Jr),r),{indicators:jt(jt({},Jr.indicators),r.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._initialized=!1,this.init(),V.addInstance("Carousel",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._items.map(function(n){n.el.classList.add("absolute","inset-0","transition-transform","transform")}),this.getActiveItem()?this.slideTo(this.getActiveItem().position):this.slideTo(0),this._indicators.map(function(n,r){n.el.addEventListener("click",function(){e.slideTo(r)})}),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},t.prototype.removeInstance=function(){V.removeInstance("Carousel",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getItem=function(e){return this._items[e]},t.prototype.slideTo=function(e){var n=this._items[e],r={left:n.position===0?this._items[this._items.length-1]:this._items[n.position-1],middle:n,right:n.position===this._items.length-1?this._items[0]:this._items[n.position+1]};this._rotate(r),this._setActiveItem(n),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},t.prototype.next=function(){var e=this.getActiveItem(),n=null;e.position===this._items.length-1?n=this._items[0]:n=this._items[e.position+1],this.slideTo(n.position),this._options.onNext(this)},t.prototype.prev=function(){var e=this.getActiveItem(),n=null;e.position===0?n=this._items[this._items.length-1]:n=this._items[e.position-1],this.slideTo(n.position),this._options.onPrev(this)},t.prototype._rotate=function(e){if(this._items.map(function(n){n.el.classList.add("hidden")}),this._items.length===1){e.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),e.middle.el.classList.add("translate-x-0","z-20");return}e.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),e.left.el.classList.add("-translate-x-full","z-10"),e.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),e.middle.el.classList.add("translate-x-0","z-30"),e.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-30"),e.right.el.classList.add("translate-x-full","z-20")},t.prototype.cycle=function(){var e=this;typeof window<"u"&&(this._intervalInstance=window.setInterval(function(){e.next()},this._intervalDuration))},t.prototype.pause=function(){clearInterval(this._intervalInstance)},t.prototype.getActiveItem=function(){return this._activeItem},t.prototype._setActiveItem=function(e){var n,r,i=this;this._activeItem=e;var s=e.position;this._indicators.length&&(this._indicators.map(function(a){var o,c;a.el.setAttribute("aria-current","false"),(o=a.el.classList).remove.apply(o,i._options.indicators.activeClasses.split(" ")),(c=a.el.classList).add.apply(c,i._options.indicators.inactiveClasses.split(" "))}),(n=this._indicators[s].el.classList).add.apply(n,this._options.indicators.activeClasses.split(" ")),(r=this._indicators[s].el.classList).remove.apply(r,this._options.indicators.inactiveClasses.split(" ")),this._indicators[s].el.setAttribute("aria-current","true"))},t.prototype.updateOnNext=function(e){this._options.onNext=e},t.prototype.updateOnPrev=function(e){this._options.onPrev=e},t.prototype.updateOnChange=function(e){this._options.onChange=e},t}();function ma(){document.querySelectorAll("[data-carousel]").forEach(function(t){var e=t.getAttribute("data-carousel-interval"),n=t.getAttribute("data-carousel")==="slide",r=[],i=0;t.querySelectorAll("[data-carousel-item]").length&&Array.from(t.querySelectorAll("[data-carousel-item]")).map(function(l,u){r.push({position:u,el:l}),l.getAttribute("data-carousel-item")==="active"&&(i=u)});var s=[];t.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(t.querySelectorAll("[data-carousel-slide-to]")).map(function(l){s.push({position:parseInt(l.getAttribute("data-carousel-slide-to")),el:l})});var a=new il(t,r,{defaultPosition:i,indicators:{items:s},interval:e||Jr.interval});n&&a.cycle();var o=t.querySelector("[data-carousel-next]"),c=t.querySelector("[data-carousel-prev]");o&&o.addEventListener("click",function(){a.next()}),c&&c.addEventListener("click",function(){a.prev()})})}typeof window<"u"&&(window.Carousel=il,window.initCarousels=ma);var vi=function(){return vi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},vi.apply(this,arguments)},Ho={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},tf={id:null,override:!0},sl=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=Ho),i===void 0&&(i=tf),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=n,this._options=vi(vi({},Ho),r),this._initialized=!1,this.init(),V.addInstance("Dismiss",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._clickHandler=function(){e.hide()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){V.removeInstance("Dismiss",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){var e=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){e._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)},t.prototype.updateOnHide=function(e){this._options.onHide=e},t}();function pa(){document.querySelectorAll("[data-dismiss-target]").forEach(function(t){var e=t.getAttribute("data-dismiss-target"),n=document.querySelector(e);n?new sl(n,t):console.error('The dismiss element with id "'.concat(e,'" does not exist. Please check the data-dismiss-target attribute.'))})}typeof window<"u"&&(window.Dismiss=sl,window.initDismisses=pa);var fe="top",Ae="bottom",Ee="right",he="left",ga="auto",wr=[fe,Ae,Ee,he],yn="start",tr="end",nf="clippingParents",al="viewport",Dn="popper",rf="reference",zo=wr.reduce(function(t,e){return t.concat([e+"-"+yn,e+"-"+tr])},[]),ol=[].concat(wr,[ga]).reduce(function(t,e){return t.concat([e,e+"-"+yn,e+"-"+tr])},[]),sf="beforeRead",af="read",of="afterRead",cf="beforeMain",lf="main",uf="afterMain",df="beforeWrite",ff="write",hf="afterWrite",mf=[sf,af,of,cf,lf,uf,df,ff,hf];function ze(t){return t?(t.nodeName||"").toLowerCase():null}function we(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function zt(t){var e=we(t).Element;return t instanceof e||t instanceof Element}function ke(t){var e=we(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function va(t){if(typeof ShadowRoot>"u")return!1;var e=we(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function pf(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!ke(s)||!ze(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(a){var o=i[a];o===!1?s.removeAttribute(a):s.setAttribute(a,o===!0?"":o)}))})}function gf(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),o=a.reduce(function(c,l){return c[l]="",c},{});!ke(i)||!ze(i)||(Object.assign(i.style,o),Object.keys(s).forEach(function(c){i.removeAttribute(c)}))})}}const vf={name:"applyStyles",enabled:!0,phase:"write",fn:pf,effect:gf,requires:["computeStyles"]};function Ve(t){return t.split("-")[0]}var Vt=Math.max,yi=Math.min,_n=Math.round;function Ns(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function cl(){return!/^((?!chrome|android).)*safari/i.test(Ns())}function bn(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&ke(t)&&(i=t.offsetWidth>0&&_n(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&_n(r.height)/t.offsetHeight||1);var a=zt(t)?we(t):window,o=a.visualViewport,c=!cl()&&n,l=(r.left+(c&&o?o.offsetLeft:0))/i,u=(r.top+(c&&o?o.offsetTop:0))/s,d=r.width/i,f=r.height/s;return{width:d,height:f,top:u,right:l+d,bottom:u+f,left:l,x:l,y:u}}function ya(t){var e=bn(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function ll(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&va(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function tt(t){return we(t).getComputedStyle(t)}function yf(t){return["table","td","th"].indexOf(ze(t))>=0}function Mt(t){return((zt(t)?t.ownerDocument:t.document)||window.document).documentElement}function Yi(t){return ze(t)==="html"?t:t.assignedSlot||t.parentNode||(va(t)?t.host:null)||Mt(t)}function Wo(t){return!ke(t)||tt(t).position==="fixed"?null:t.offsetParent}function _f(t){var e=/firefox/i.test(Ns()),n=/Trident/i.test(Ns());if(n&&ke(t)){var r=tt(t);if(r.position==="fixed")return null}var i=Yi(t);for(va(i)&&(i=i.host);ke(i)&&["html","body"].indexOf(ze(i))<0;){var s=tt(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Pr(t){for(var e=we(t),n=Wo(t);n&&yf(n)&&tt(n).position==="static";)n=Wo(n);return n&&(ze(n)==="html"||ze(n)==="body"&&tt(n).position==="static")?e:n||_f(t)||e}function _a(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function qn(t,e,n){return Vt(t,yi(e,n))}function bf(t,e,n){var r=qn(t,e,n);return r>n?n:r}function ul(){return{top:0,right:0,bottom:0,left:0}}function dl(t){return Object.assign({},ul(),t)}function fl(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var wf=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,dl(typeof e!="number"?e:fl(e,wr))};function Pf(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,o=Ve(n.placement),c=_a(o),l=[he,Ee].indexOf(o)>=0,u=l?"height":"width";if(!(!s||!a)){var d=wf(i.padding,n),f=ya(s),h=c==="y"?fe:he,g=c==="y"?Ae:Ee,m=n.rects.reference[u]+n.rects.reference[c]-a[c]-n.rects.popper[u],p=a[c]-n.rects.reference[c],x=Pr(s),_=x?c==="y"?x.clientHeight||0:x.clientWidth||0:0,k=m/2-p/2,v=d[h],A=_-f[u]-d[g],w=_/2-f[u]/2+k,P=qn(v,w,A),N=c;n.modifiersData[r]=(e={},e[N]=P,e.centerOffset=P-w,e)}}function Mf(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||ll(e.elements.popper,i)&&(e.elements.arrow=i))}const xf={name:"arrow",enabled:!0,phase:"main",fn:Pf,effect:Mf,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function wn(t){return t.split("-")[1]}var kf={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Af(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:_n(n*i)/i||0,y:_n(r*i)/i||0}}function Uo(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,a=t.offsets,o=t.position,c=t.gpuAcceleration,l=t.adaptive,u=t.roundOffsets,d=t.isFixed,f=a.x,h=f===void 0?0:f,g=a.y,m=g===void 0?0:g,p=typeof u=="function"?u({x:h,y:m}):{x:h,y:m};h=p.x,m=p.y;var x=a.hasOwnProperty("x"),_=a.hasOwnProperty("y"),k=he,v=fe,A=window;if(l){var w=Pr(n),P="clientHeight",N="clientWidth";if(w===we(n)&&(w=Mt(n),tt(w).position!=="static"&&o==="absolute"&&(P="scrollHeight",N="scrollWidth")),w=w,i===fe||(i===he||i===Ee)&&s===tr){v=Ae;var O=d&&w===A&&A.visualViewport?A.visualViewport.height:w[P];m-=O-r.height,m*=c?1:-1}if(i===he||(i===fe||i===Ae)&&s===tr){k=Ee;var E=d&&w===A&&A.visualViewport?A.visualViewport.width:w[N];h-=E-r.width,h*=c?1:-1}}var C=Object.assign({position:o},l&&kf),U=u===!0?Af({x:h,y:m},we(n)):{x:h,y:m};if(h=U.x,m=U.y,c){var q;return Object.assign({},C,(q={},q[v]=_?"0":"",q[k]=x?"0":"",q.transform=(A.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",q))}return Object.assign({},C,(e={},e[v]=_?m+"px":"",e[k]=x?h+"px":"",e.transform="",e))}function Ef(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,a=s===void 0?!0:s,o=n.roundOffsets,c=o===void 0?!0:o,l={placement:Ve(e.placement),variation:wn(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Uo(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Uo(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Sf={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ef,data:{}};var Nr={passive:!0};function Cf(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,a=r.resize,o=a===void 0?!0:a,c=we(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&l.forEach(function(u){u.addEventListener("scroll",n.update,Nr)}),o&&c.addEventListener("resize",n.update,Nr),function(){s&&l.forEach(function(u){u.removeEventListener("scroll",n.update,Nr)}),o&&c.removeEventListener("resize",n.update,Nr)}}const If={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Cf,data:{}};var Of={left:"right",right:"left",bottom:"top",top:"bottom"};function Kr(t){return t.replace(/left|right|bottom|top/g,function(e){return Of[e]})}var Df={start:"end",end:"start"};function Zo(t){return t.replace(/start|end/g,function(e){return Df[e]})}function ba(t){var e=we(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function wa(t){return bn(Mt(t)).left+ba(t).scrollLeft}function Tf(t,e){var n=we(t),r=Mt(t),i=n.visualViewport,s=r.clientWidth,a=r.clientHeight,o=0,c=0;if(i){s=i.width,a=i.height;var l=cl();(l||!l&&e==="fixed")&&(o=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:o+wa(t),y:c}}function Rf(t){var e,n=Mt(t),r=ba(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Vt(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Vt(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-r.scrollLeft+wa(t),c=-r.scrollTop;return tt(i||n).direction==="rtl"&&(o+=Vt(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:o,y:c}}function Pa(t){var e=tt(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function hl(t){return["html","body","#document"].indexOf(ze(t))>=0?t.ownerDocument.body:ke(t)&&Pa(t)?t:hl(Yi(t))}function Gn(t,e){var n;e===void 0&&(e=[]);var r=hl(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=we(r),a=i?[s].concat(s.visualViewport||[],Pa(r)?r:[]):r,o=e.concat(a);return i?o:o.concat(Gn(Yi(a)))}function js(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Lf(t,e){var n=bn(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function qo(t,e,n){return e===al?js(Tf(t,n)):zt(e)?Lf(e,n):js(Rf(Mt(t)))}function Nf(t){var e=Gn(Yi(t)),n=["absolute","fixed"].indexOf(tt(t).position)>=0,r=n&&ke(t)?Pr(t):t;return zt(r)?e.filter(function(i){return zt(i)&&ll(i,r)&&ze(i)!=="body"}):[]}function jf(t,e,n,r){var i=e==="clippingParents"?Nf(t):[].concat(e),s=[].concat(i,[n]),a=s[0],o=s.reduce(function(c,l){var u=qo(t,l,r);return c.top=Vt(u.top,c.top),c.right=yi(u.right,c.right),c.bottom=yi(u.bottom,c.bottom),c.left=Vt(u.left,c.left),c},qo(t,a,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function ml(t){var e=t.reference,n=t.element,r=t.placement,i=r?Ve(r):null,s=r?wn(r):null,a=e.x+e.width/2-n.width/2,o=e.y+e.height/2-n.height/2,c;switch(i){case fe:c={x:a,y:e.y-n.height};break;case Ae:c={x:a,y:e.y+e.height};break;case Ee:c={x:e.x+e.width,y:o};break;case he:c={x:e.x-n.width,y:o};break;default:c={x:e.x,y:e.y}}var l=i?_a(i):null;if(l!=null){var u=l==="y"?"height":"width";switch(s){case yn:c[l]=c[l]-(e[u]/2-n[u]/2);break;case tr:c[l]=c[l]+(e[u]/2-n[u]/2);break}}return c}function nr(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,a=s===void 0?t.strategy:s,o=n.boundary,c=o===void 0?nf:o,l=n.rootBoundary,u=l===void 0?al:l,d=n.elementContext,f=d===void 0?Dn:d,h=n.altBoundary,g=h===void 0?!1:h,m=n.padding,p=m===void 0?0:m,x=dl(typeof p!="number"?p:fl(p,wr)),_=f===Dn?rf:Dn,k=t.rects.popper,v=t.elements[g?_:f],A=jf(zt(v)?v:v.contextElement||Mt(t.elements.popper),c,u,a),w=bn(t.elements.reference),P=ml({reference:w,element:k,placement:i}),N=js(Object.assign({},k,P)),O=f===Dn?N:w,E={top:A.top-O.top+x.top,bottom:O.bottom-A.bottom+x.bottom,left:A.left-O.left+x.left,right:O.right-A.right+x.right},C=t.modifiersData.offset;if(f===Dn&&C){var U=C[i];Object.keys(E).forEach(function(q){var re=[Ee,Ae].indexOf(q)>=0?1:-1,W=[fe,Ae].indexOf(q)>=0?"y":"x";E[q]+=U[W]*re})}return E}function Ff(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,a=n.padding,o=n.flipVariations,c=n.allowedAutoPlacements,l=c===void 0?ol:c,u=wn(r),d=u?o?zo:zo.filter(function(g){return wn(g)===u}):wr,f=d.filter(function(g){return l.indexOf(g)>=0});f.length===0&&(f=d);var h=f.reduce(function(g,m){return g[m]=nr(t,{placement:m,boundary:i,rootBoundary:s,padding:a})[Ve(m)],g},{});return Object.keys(h).sort(function(g,m){return h[g]-h[m]})}function $f(t){if(Ve(t)===ga)return[];var e=Kr(t);return[Zo(t),e,Zo(e)]}function Bf(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,o=a===void 0?!0:a,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,g=h===void 0?!0:h,m=n.allowedAutoPlacements,p=e.options.placement,x=Ve(p),_=x===p,k=c||(_||!g?[Kr(p)]:$f(p)),v=[p].concat(k).reduce(function(at,Ne){return at.concat(Ve(Ne)===ga?Ff(e,{placement:Ne,boundary:u,rootBoundary:d,padding:l,flipVariations:g,allowedAutoPlacements:m}):Ne)},[]),A=e.rects.reference,w=e.rects.popper,P=new Map,N=!0,O=v[0],E=0;E<v.length;E++){var C=v[E],U=Ve(C),q=wn(C)===yn,re=[fe,Ae].indexOf(U)>=0,W=re?"width":"height",K=nr(e,{placement:C,boundary:u,rootBoundary:d,altBoundary:f,padding:l}),z=re?q?Ee:he:q?Ae:fe;A[W]>w[W]&&(z=Kr(z));var At=Kr(z),Ge=[];if(s&&Ge.push(K[U]<=0),o&&Ge.push(K[z]<=0,K[At]<=0),Ge.every(function(at){return at})){O=C,N=!1;break}P.set(C,Ge)}if(N)for(var Et=g?3:1,In=function(Ne){var On=v.find(function(Rr){var Ct=P.get(Rr);if(Ct)return Ct.slice(0,Ne).every(function(fs){return fs})});if(On)return O=On,"break"},St=Et;St>0;St--){var Jt=In(St);if(Jt==="break")break}e.placement!==O&&(e.modifiersData[r]._skip=!0,e.placement=O,e.reset=!0)}}const Vf={name:"flip",enabled:!0,phase:"main",fn:Bf,requiresIfExists:["offset"],data:{_skip:!1}};function Go(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Xo(t){return[fe,Ee,Ae,he].some(function(e){return t[e]>=0})}function Hf(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,a=nr(e,{elementContext:"reference"}),o=nr(e,{altBoundary:!0}),c=Go(a,r),l=Go(o,i,s),u=Xo(c),d=Xo(l);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const zf={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Hf};function Wf(t,e,n){var r=Ve(t),i=[he,fe].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=s[0],o=s[1];return a=a||0,o=(o||0)*i,[he,Ee].indexOf(r)>=0?{x:o,y:a}:{x:a,y:o}}function Uf(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,a=ol.reduce(function(u,d){return u[d]=Wf(d,e.rects,s),u},{}),o=a[e.placement],c=o.x,l=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=a}const Zf={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Uf};function qf(t){var e=t.state,n=t.name;e.modifiersData[n]=ml({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Gf={name:"popperOffsets",enabled:!0,phase:"read",fn:qf,data:{}};function Xf(t){return t==="x"?"y":"x"}function Yf(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,o=a===void 0?!1:a,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,g=n.tetherOffset,m=g===void 0?0:g,p=nr(e,{boundary:c,rootBoundary:l,padding:d,altBoundary:u}),x=Ve(e.placement),_=wn(e.placement),k=!_,v=_a(x),A=Xf(v),w=e.modifiersData.popperOffsets,P=e.rects.reference,N=e.rects.popper,O=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,E=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),C=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(w){if(s){var q,re=v==="y"?fe:he,W=v==="y"?Ae:Ee,K=v==="y"?"height":"width",z=w[v],At=z+p[re],Ge=z-p[W],Et=h?-N[K]/2:0,In=_===yn?P[K]:N[K],St=_===yn?-N[K]:-P[K],Jt=e.elements.arrow,at=h&&Jt?ya(Jt):{width:0,height:0},Ne=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:ul(),On=Ne[re],Rr=Ne[W],Ct=qn(0,P[K],at[K]),fs=k?P[K]/2-Et-Ct-On-E.mainAxis:In-Ct-On-E.mainAxis,Wd=k?-P[K]/2+Et+Ct+Rr+E.mainAxis:St+Ct+Rr+E.mainAxis,hs=e.elements.arrow&&Pr(e.elements.arrow),Ud=hs?v==="y"?hs.clientTop||0:hs.clientLeft||0:0,Do=(q=C==null?void 0:C[v])!=null?q:0,Zd=z+fs-Do-Ud,qd=z+Wd-Do,To=qn(h?yi(At,Zd):At,z,h?Vt(Ge,qd):Ge);w[v]=To,U[v]=To-z}if(o){var Ro,Gd=v==="x"?fe:he,Xd=v==="x"?Ae:Ee,It=w[A],Lr=A==="y"?"height":"width",Lo=It+p[Gd],No=It-p[Xd],ms=[fe,he].indexOf(x)!==-1,jo=(Ro=C==null?void 0:C[A])!=null?Ro:0,Fo=ms?Lo:It-P[Lr]-N[Lr]-jo+E.altAxis,$o=ms?It+P[Lr]+N[Lr]-jo-E.altAxis:No,Bo=h&&ms?bf(Fo,It,$o):qn(h?Fo:Lo,It,h?$o:No);w[A]=Bo,U[A]=Bo-It}e.modifiersData[r]=U}}const Jf={name:"preventOverflow",enabled:!0,phase:"main",fn:Yf,requiresIfExists:["offset"]};function Kf(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Qf(t){return t===we(t)||!ke(t)?ba(t):Kf(t)}function eh(t){var e=t.getBoundingClientRect(),n=_n(e.width)/t.offsetWidth||1,r=_n(e.height)/t.offsetHeight||1;return n!==1||r!==1}function th(t,e,n){n===void 0&&(n=!1);var r=ke(e),i=ke(e)&&eh(e),s=Mt(e),a=bn(t,i,n),o={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((ze(e)!=="body"||Pa(s))&&(o=Qf(e)),ke(e)?(c=bn(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=wa(s))),{x:a.left+o.scrollLeft-c.x,y:a.top+o.scrollTop-c.y,width:a.width,height:a.height}}function nh(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!n.has(o)){var c=e.get(o);c&&i(c)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function rh(t){var e=nh(t);return mf.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function ih(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function sh(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Yo={placement:"bottom",modifiers:[],strategy:"absolute"};function Jo(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function ah(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?Yo:i;return function(o,c,l){l===void 0&&(l=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Yo,s),modifiersData:{},elements:{reference:o,popper:c},attributes:{},styles:{}},d=[],f=!1,h={state:u,setOptions:function(x){var _=typeof x=="function"?x(u.options):x;m(),u.options=Object.assign({},s,u.options,_),u.scrollParents={reference:zt(o)?Gn(o):o.contextElement?Gn(o.contextElement):[],popper:Gn(c)};var k=rh(sh([].concat(r,u.options.modifiers)));return u.orderedModifiers=k.filter(function(v){return v.enabled}),g(),h.update()},forceUpdate:function(){if(!f){var x=u.elements,_=x.reference,k=x.popper;if(Jo(_,k)){u.rects={reference:th(_,Pr(k),u.options.strategy==="fixed"),popper:ya(k)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(E){return u.modifiersData[E.name]=Object.assign({},E.data)});for(var v=0;v<u.orderedModifiers.length;v++){if(u.reset===!0){u.reset=!1,v=-1;continue}var A=u.orderedModifiers[v],w=A.fn,P=A.options,N=P===void 0?{}:P,O=A.name;typeof w=="function"&&(u=w({state:u,options:N,name:O,instance:h})||u)}}}},update:ih(function(){return new Promise(function(p){h.forceUpdate(),p(u)})}),destroy:function(){m(),f=!0}};if(!Jo(o,c))return h;h.setOptions(l).then(function(p){!f&&l.onFirstUpdate&&l.onFirstUpdate(p)});function g(){u.orderedModifiers.forEach(function(p){var x=p.name,_=p.options,k=_===void 0?{}:_,v=p.effect;if(typeof v=="function"){var A=v({state:u,name:x,instance:h,options:k}),w=function(){};d.push(A||w)}})}function m(){d.forEach(function(p){return p()}),d=[]}return h}}var oh=[If,Gf,Sf,vf,Zf,Vf,Jf,xf,zf],Ma=ah({defaultModifiers:oh}),dt=function(){return dt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},dt.apply(this,arguments)},jr=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},ft={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onShow:function(){},onHide:function(){},onToggle:function(){}},ch={id:null,override:!0},pl=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=ft),i===void 0&&(i=ch),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=n,this._options=dt(dt({},ft),r),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),V.addInstance("Dropdown",this,this._instanceId,i.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._popperInstance=this._createPopperInstance(),this._setupEventListeners(),this._initialized=!0)},t.prototype.destroy=function(){var e=this,n=this._getTriggerEvents();this._options.triggerType==="click"&&n.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._clickHandler)}),this._options.triggerType==="hover"&&(n.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hoverShowTriggerElHandler),e._targetEl.removeEventListener(r,e._hoverShowTargetElHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hoverHideHandler),e._targetEl.removeEventListener(r,e._hoverHideHandler)})),this._popperInstance.destroy(),this._initialized=!1},t.prototype.removeInstance=function(){V.removeInstance("Dropdown",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var e=this,n=this._getTriggerEvents();this._clickHandler=function(){e.toggle()},this._options.triggerType==="click"&&n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._clickHandler)}),this._hoverShowTriggerElHandler=function(r){r.type==="click"?e.toggle():setTimeout(function(){e.show()},e._options.delay)},this._hoverShowTargetElHandler=function(){e.show()},this._hoverHideHandler=function(){setTimeout(function(){e._targetEl.matches(":hover")||e.hide()},e._options.delay)},this._options.triggerType==="hover"&&(n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hoverShowTriggerElHandler),e._targetEl.addEventListener(r,e._hoverShowTargetElHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hoverHideHandler),e._targetEl.addEventListener(r,e._hoverHideHandler)}))},t.prototype._createPopperInstance=function(){return Ma(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},t.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(n){e._handleClickOutside(n,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(e,n){var r=e.target,i=this._options.ignoreClickOutsideClass,s=!1;if(i){var a=document.querySelectorAll(".".concat(i));a.forEach(function(o){if(o.contains(r)){s=!0;return}})}r!==n&&!n.contains(r)&&!this._triggerEl.contains(r)&&!s&&this.isVisible()&&this.hide()},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["click"],hideEvents:[]}}},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},t.prototype.isVisible=function(){return this._visible},t.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._targetEl.removeAttribute("aria-hidden"),this._popperInstance.setOptions(function(e){return dt(dt({},e),{modifiers:jr(jr([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._targetEl.setAttribute("aria-hidden","true"),this._popperInstance.setOptions(function(e){return dt(dt({},e),{modifiers:jr(jr([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function xa(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(t){var e=t.getAttribute("data-dropdown-toggle"),n=document.getElementById(e);if(n){var r=t.getAttribute("data-dropdown-placement"),i=t.getAttribute("data-dropdown-offset-skidding"),s=t.getAttribute("data-dropdown-offset-distance"),a=t.getAttribute("data-dropdown-trigger"),o=t.getAttribute("data-dropdown-delay"),c=t.getAttribute("data-dropdown-ignore-click-outside-class");new pl(n,t,{placement:r||ft.placement,triggerType:a||ft.triggerType,offsetSkidding:i?parseInt(i):ft.offsetSkidding,offsetDistance:s?parseInt(s):ft.offsetDistance,delay:o?parseInt(o):ft.delay,ignoreClickOutsideClass:c||ft.ignoreClickOutsideClass})}else console.error('The dropdown element with id "'.concat(e,'" does not exist. Please check the data-dropdown-toggle attribute.'))})}typeof window<"u"&&(window.Dropdown=pl,window.initDropdowns=xa);var _i=function(){return _i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},_i.apply(this,arguments)},bi={placement:"center",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},lh={id:null,override:!0},gl=function(){function t(e,n,r){e===void 0&&(e=null),n===void 0&&(n=bi),r===void 0&&(r=lh),this._eventListenerInstances=[],this._instanceId=r.id?r.id:e.id,this._targetEl=e,this._options=_i(_i({},bi),n),this._isHidden=!0,this._backdropEl=null,this._initialized=!1,this.init(),V.addInstance("Modal",this,this._instanceId,r.override)}return t.prototype.init=function(){var e=this;this._targetEl&&!this._initialized&&(this._getPlacementClasses().map(function(n){e._targetEl.classList.add(n)}),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),this._initialized=!1)},t.prototype.removeInstance=function(){V.removeInstance("Modal",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._createBackdrop=function(){var e;if(this._isHidden){var n=document.createElement("div");(e=n.classList).add.apply(e,this._options.backdropClasses.split(" ")),document.querySelector("body").append(n),this._backdropEl=n}},t.prototype._destroyBackdropEl=function(){!this._isHidden&&this._backdropEl&&(this._backdropEl.remove(),this._backdropEl=null)},t.prototype._setupModalCloseEventListeners=function(){var e=this;this._options.backdrop==="dynamic"&&(this._clickOutsideEventListener=function(n){e._handleOutsideClick(n.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(n){n.key==="Escape"&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeModalCloseEventListeners=function(){this._options.backdrop==="dynamic"&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._handleOutsideClick=function(e){(e===this._targetEl||e===this._backdropEl&&this.isVisible())&&this.hide()},t.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"];default:return["justify-center","items-center"]}},t.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},t.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,this._options.closable&&this._setupModalCloseEventListeners(),document.body.classList.add("overflow-hidden"),this._options.onShow(this))},t.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},t.prototype.isVisible=function(){return!this._isHidden},t.prototype.isHidden=function(){return this._isHidden},t.prototype.addEventListenerInstance=function(e,n,r){this._eventListenerInstances.push({element:e,type:n,handler:r})},t.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(e){e.element.removeEventListener(e.type,e.handler)}),this._eventListenerInstances=[]},t.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function ka(){document.querySelectorAll("[data-modal-target]").forEach(function(t){var e=t.getAttribute("data-modal-target"),n=document.getElementById(e);if(n){var r=n.getAttribute("data-modal-placement"),i=n.getAttribute("data-modal-backdrop");new gl(n,{placement:r||bi.placement,backdrop:i||bi.backdrop})}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))}),document.querySelectorAll("[data-modal-toggle]").forEach(function(t){var e=t.getAttribute("data-modal-toggle"),n=document.getElementById(e);if(n){var r=V.getInstance("Modal",e);if(r){var i=function(){r.toggle()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-show]").forEach(function(t){var e=t.getAttribute("data-modal-show"),n=document.getElementById(e);if(n){var r=V.getInstance("Modal",e);if(r){var i=function(){r.show()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-hide]").forEach(function(t){var e=t.getAttribute("data-modal-hide"),n=document.getElementById(e);if(n){var r=V.getInstance("Modal",e);if(r){var i=function(){r.hide()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))})}typeof window<"u"&&(window.Modal=gl,window.initModals=ka);var wi=function(){return wi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},wi.apply(this,arguments)},Ft={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},uh={id:null,override:!0},vl=function(){function t(e,n,r){e===void 0&&(e=null),n===void 0&&(n=Ft),r===void 0&&(r=uh),this._eventListenerInstances=[],this._instanceId=r.id?r.id:e.id,this._targetEl=e,this._options=wi(wi({},Ft),n),this._visible=!1,this._initialized=!1,this.init(),V.addInstance("Drawer",this,this._instanceId,r.override)}return t.prototype.init=function(){var e=this;this._targetEl&&!this._initialized&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform"),this._getPlacementClasses(this._options.placement).base.map(function(n){e._targetEl.classList.add(n)}),this._handleEscapeKey=function(n){n.key==="Escape"&&e.isVisible()&&e.hide()},document.addEventListener("keydown",this._handleEscapeKey),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),document.removeEventListener("keydown",this._handleEscapeKey),this._initialized=!1)},t.prototype.removeInstance=function(){V.removeInstance("Drawer",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){var e=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(n){e._targetEl.classList.remove(n)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(n){e._targetEl.classList.add(n)})):(this._getPlacementClasses(this._options.placement).active.map(function(n){e._targetEl.classList.remove(n)}),this._getPlacementClasses(this._options.placement).inactive.map(function(n){e._targetEl.classList.add(n)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},t.prototype.show=function(){var e=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(n){e._targetEl.classList.add(n)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(n){e._targetEl.classList.remove(n)})):(this._getPlacementClasses(this._options.placement).active.map(function(n){e._targetEl.classList.add(n)}),this._getPlacementClasses(this._options.placement).inactive.map(function(n){e._targetEl.classList.remove(n)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},t.prototype._createBackdrop=function(){var e,n=this;if(!this._visible){var r=document.createElement("div");r.setAttribute("drawer-backdrop",""),(e=r.classList).add.apply(e,this._options.backdropClasses.split(" ")),document.querySelector("body").append(r),r.addEventListener("click",function(){n.hide()})}},t.prototype._destroyBackdropEl=function(){this._visible&&document.querySelector("[drawer-backdrop]")!==null&&document.querySelector("[drawer-backdrop]").remove()},t.prototype._getPlacementClasses=function(e){switch(e){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]};default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]}}},t.prototype.isHidden=function(){return!this._visible},t.prototype.isVisible=function(){return this._visible},t.prototype.addEventListenerInstance=function(e,n,r){this._eventListenerInstances.push({element:e,type:n,handler:r})},t.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(e){e.element.removeEventListener(e.type,e.handler)}),this._eventListenerInstances=[]},t.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function Aa(){document.querySelectorAll("[data-drawer-target]").forEach(function(t){var e=t.getAttribute("data-drawer-target"),n=document.getElementById(e);if(n){var r=t.getAttribute("data-drawer-placement"),i=t.getAttribute("data-drawer-body-scrolling"),s=t.getAttribute("data-drawer-backdrop"),a=t.getAttribute("data-drawer-edge"),o=t.getAttribute("data-drawer-edge-offset");new vl(n,{placement:r||Ft.placement,bodyScrolling:i?i==="true":Ft.bodyScrolling,backdrop:s?s==="true":Ft.backdrop,edge:a?a==="true":Ft.edge,edgeOffset:o||Ft.edgeOffset})}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(t){var e=t.getAttribute("data-drawer-toggle"),n=document.getElementById(e);if(n){var r=V.getInstance("Drawer",e);if(r){var i=function(){r.toggle()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach(function(t){var e=t.getAttribute("data-drawer-dismiss")?t.getAttribute("data-drawer-dismiss"):t.getAttribute("data-drawer-hide"),n=document.getElementById(e);if(n){var r=V.getInstance("Drawer",e);if(r){var i=function(){r.hide()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))}),document.querySelectorAll("[data-drawer-show]").forEach(function(t){var e=t.getAttribute("data-drawer-show"),n=document.getElementById(e);if(n){var r=V.getInstance("Drawer",e);if(r){var i=function(){r.show()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})}typeof window<"u"&&(window.Drawer=vl,window.initDrawers=Aa);var Pi=function(){return Pi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Pi.apply(this,arguments)},Mi={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},dh={id:null,override:!0},yl=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=Mi),i===void 0&&(i=dh),this._instanceId=i.id?i.id:e.id,this._tabsEl=e,this._items=n,this._activeTab=r?this.getTab(r.defaultTabId):null,this._options=Pi(Pi({},Mi),r),this._initialized=!1,this.init(),V.addInstance("Tabs",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._activeTab||this.setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function(n){n.triggerEl.addEventListener("click",function(r){r.preventDefault(),e.show(n.id)})}))},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},t.prototype.removeInstance=function(){this.destroy(),V.removeInstance("Tabs",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getActiveTab=function(){return this._activeTab},t.prototype.setActiveTab=function(e){this._activeTab=e},t.prototype.getTab=function(e){return this._items.filter(function(n){return n.id===e})[0]},t.prototype.show=function(e,n){var r,i,s=this;n===void 0&&(n=!1);var a=this.getTab(e);a===this._activeTab&&!n||(this._items.map(function(o){var c,l;o!==a&&((c=o.triggerEl.classList).remove.apply(c,s._options.activeClasses.split(" ")),(l=o.triggerEl.classList).add.apply(l,s._options.inactiveClasses.split(" ")),o.targetEl.classList.add("hidden"),o.triggerEl.setAttribute("aria-selected","false"))}),(r=a.triggerEl.classList).add.apply(r,this._options.activeClasses.split(" ")),(i=a.triggerEl.classList).remove.apply(i,this._options.inactiveClasses.split(" ")),a.triggerEl.setAttribute("aria-selected","true"),a.targetEl.classList.remove("hidden"),this.setActiveTab(a),this._options.onShow(this,a))},t.prototype.updateOnShow=function(e){this._options.onShow=e},t}();function Ea(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(t){var e=[],n=t.getAttribute("data-tabs-active-classes"),r=t.getAttribute("data-tabs-inactive-classes"),i=null;t.querySelectorAll('[role="tab"]').forEach(function(s){var a=s.getAttribute("aria-selected")==="true",o={id:s.getAttribute("data-tabs-target"),triggerEl:s,targetEl:document.querySelector(s.getAttribute("data-tabs-target"))};e.push(o),a&&(i=o.id)}),new yl(t,e,{defaultTabId:i,activeClasses:n||Mi.activeClasses,inactiveClasses:r||Mi.inactiveClasses})})}typeof window<"u"&&(window.Tabs=yl,window.initTabs=Ea);var ht=function(){return ht=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ht.apply(this,arguments)},Fr=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},xi={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},fh={id:null,override:!0},_l=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=xi),i===void 0&&(i=fh),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=n,this._options=ht(ht({},xi),r),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),V.addInstance("Tooltip",this,this._instanceId,i.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},t.prototype.destroy=function(){var e=this;if(this._initialized){var n=this._getTriggerEvents();n.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._showHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},t.prototype.removeInstance=function(){V.removeInstance("Tooltip",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var e=this,n=this._getTriggerEvents();this._showHandler=function(){e.show()},this._hideHandler=function(){e.hide()},n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._showHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hideHandler)})},t.prototype._createPopperInstance=function(){return Ma(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},t.prototype._setupKeydownListener=function(){var e=this;this._keydownEventListener=function(n){n.key==="Escape"&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(n){e._handleClickOutside(n,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(e,n){var r=e.target;r!==n&&!n.contains(r)&&!this._triggerEl.contains(r)&&this.isVisible()&&this.hide()},t.prototype.isVisible=function(){return this._visible},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},t.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(e){return ht(ht({},e),{modifiers:Fr(Fr([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(e){return ht(ht({},e),{modifiers:Fr(Fr([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function Sa(){document.querySelectorAll("[data-tooltip-target]").forEach(function(t){var e=t.getAttribute("data-tooltip-target"),n=document.getElementById(e);if(n){var r=t.getAttribute("data-tooltip-trigger"),i=t.getAttribute("data-tooltip-placement");new _l(n,t,{placement:i||xi.placement,triggerType:r||xi.triggerType})}else console.error('The tooltip element with id "'.concat(e,'" does not exist. Please check the data-tooltip-target attribute.'))})}typeof window<"u"&&(window.Tooltip=_l,window.initTooltips=Sa);var mt=function(){return mt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mt.apply(this,arguments)},$r=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},Xn={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},hh={id:null,override:!0},bl=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=Xn),i===void 0&&(i=hh),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=n,this._options=mt(mt({},Xn),r),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),V.addInstance("Popover",this,i.id?i.id:this._targetEl.id,i.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},t.prototype.destroy=function(){var e=this;if(this._initialized){var n=this._getTriggerEvents();n.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._showHandler),e._targetEl.removeEventListener(r,e._showHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hideHandler),e._targetEl.removeEventListener(r,e._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},t.prototype.removeInstance=function(){V.removeInstance("Popover",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var e=this,n=this._getTriggerEvents();this._showHandler=function(){e.show()},this._hideHandler=function(){setTimeout(function(){e._targetEl.matches(":hover")||e.hide()},100)},n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._showHandler),e._targetEl.addEventListener(r,e._showHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hideHandler),e._targetEl.addEventListener(r,e._hideHandler)})},t.prototype._createPopperInstance=function(){return Ma(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},t.prototype._setupKeydownListener=function(){var e=this;this._keydownEventListener=function(n){n.key==="Escape"&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(n){e._handleClickOutside(n,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(e,n){var r=e.target;r!==n&&!n.contains(r)&&!this._triggerEl.contains(r)&&this.isVisible()&&this.hide()},t.prototype.isVisible=function(){return this._visible},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},t.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(e){return mt(mt({},e),{modifiers:$r($r([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(e){return mt(mt({},e),{modifiers:$r($r([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function Ca(){document.querySelectorAll("[data-popover-target]").forEach(function(t){var e=t.getAttribute("data-popover-target"),n=document.getElementById(e);if(n){var r=t.getAttribute("data-popover-trigger"),i=t.getAttribute("data-popover-placement"),s=t.getAttribute("data-popover-offset");new bl(n,t,{placement:i||Xn.placement,offset:s?parseInt(s):Xn.offset,triggerType:r||Xn.triggerType})}else console.error('The popover element with id "'.concat(e,'" does not exist. Please check the data-popover-target attribute.'))})}typeof window<"u"&&(window.Popover=bl,window.initPopovers=Ca);var ki=function(){return ki=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ki.apply(this,arguments)},Fs={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},mh={id:null,override:!0},wl=function(){function t(e,n,r,i,s){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=null),i===void 0&&(i=Fs),s===void 0&&(s=mh),this._instanceId=s.id?s.id:r.id,this._parentEl=e,this._triggerEl=n,this._targetEl=r,this._options=ki(ki({},Fs),i),this._visible=!1,this._initialized=!1,this.init(),V.addInstance("Dial",this,this._instanceId,s.override)}return t.prototype.init=function(){var e=this;if(this._triggerEl&&this._targetEl&&!this._initialized){var n=this._getTriggerEventTypes(this._options.triggerType);this._showEventHandler=function(){e.show()},n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._showEventHandler),e._targetEl.addEventListener(r,e._showEventHandler)}),this._hideEventHandler=function(){e._parentEl.matches(":hover")||e.hide()},n.hideEvents.forEach(function(r){e._parentEl.addEventListener(r,e._hideEventHandler)}),this._initialized=!0}},t.prototype.destroy=function(){var e=this;if(this._initialized){var n=this._getTriggerEventTypes(this._options.triggerType);n.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._showEventHandler),e._targetEl.removeEventListener(r,e._showEventHandler)}),n.hideEvents.forEach(function(r){e._parentEl.removeEventListener(r,e._hideEventHandler)}),this._initialized=!1}},t.prototype.removeInstance=function(){V.removeInstance("Dial",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},t.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},t.prototype.toggle=function(){this._visible?this.hide():this.show()},t.prototype.isHidden=function(){return!this._visible},t.prototype.isVisible=function(){return this._visible},t.prototype._getTriggerEventTypes=function(e){switch(e){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function Ia(){document.querySelectorAll("[data-dial-init]").forEach(function(t){var e=t.querySelector("[data-dial-toggle]");if(e){var n=e.getAttribute("data-dial-toggle"),r=document.getElementById(n);if(r){var i=e.getAttribute("data-dial-trigger");new wl(t,e,r,{triggerType:i||Fs.triggerType})}else console.error("Dial with id ".concat(n," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(t.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))})}typeof window<"u"&&(window.Dial=wl,window.initDials=Ia);var Ai=function(){return Ai=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ai.apply(this,arguments)},Ko={minValue:null,maxValue:null,onIncrement:function(){},onDecrement:function(){}},ph={id:null,override:!0},Pl=function(){function t(e,n,r,i,s){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=null),i===void 0&&(i=Ko),s===void 0&&(s=ph),this._instanceId=s.id?s.id:e.id,this._targetEl=e,this._incrementEl=n,this._decrementEl=r,this._options=Ai(Ai({},Ko),i),this._initialized=!1,this.init(),V.addInstance("InputCounter",this,this._instanceId,s.override)}return t.prototype.init=function(){var e=this;this._targetEl&&!this._initialized&&(this._inputHandler=function(n){{var r=n.target;/^\d*$/.test(r.value)||(r.value=r.value.replace(/[^\d]/g,"")),e._options.maxValue!==null&&parseInt(r.value)>e._options.maxValue&&(r.value=e._options.maxValue.toString()),e._options.minValue!==null&&parseInt(r.value)<e._options.minValue&&(r.value=e._options.minValue.toString())}},this._incrementClickHandler=function(){e.increment()},this._decrementClickHandler=function(){e.decrement()},this._targetEl.addEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.addEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.addEventListener("click",this._decrementClickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._targetEl&&this._initialized&&(this._targetEl.removeEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.removeEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.removeEventListener("click",this._decrementClickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){V.removeInstance("InputCounter",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getCurrentValue=function(){return parseInt(this._targetEl.value)||0},t.prototype.increment=function(){this._options.maxValue!==null&&this.getCurrentValue()>=this._options.maxValue||(this._targetEl.value=(this.getCurrentValue()+1).toString(),this._options.onIncrement(this))},t.prototype.decrement=function(){this._options.minValue!==null&&this.getCurrentValue()<=this._options.minValue||(this._targetEl.value=(this.getCurrentValue()-1).toString(),this._options.onDecrement(this))},t.prototype.updateOnIncrement=function(e){this._options.onIncrement=e},t.prototype.updateOnDecrement=function(e){this._options.onDecrement=e},t}();function Oa(){document.querySelectorAll("[data-input-counter]").forEach(function(t){var e=t.id,n=document.querySelector('[data-input-counter-increment="'+e+'"]'),r=document.querySelector('[data-input-counter-decrement="'+e+'"]'),i=t.getAttribute("data-input-counter-min"),s=t.getAttribute("data-input-counter-max");t?V.instanceExists("InputCounter",t.getAttribute("id"))||new Pl(t,n||null,r||null,{minValue:i?parseInt(i):null,maxValue:s?parseInt(s):null}):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-input-counter attribute.'))})}typeof window<"u"&&(window.InputCounter=Pl,window.initInputCounters=Oa);var Ei=function(){return Ei=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ei.apply(this,arguments)},Si={htmlEntities:!1,contentType:"input",onCopy:function(){}},gh={id:null,override:!0},Ml=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=Si),i===void 0&&(i=gh),this._instanceId=i.id?i.id:n.id,this._triggerEl=e,this._targetEl=n,this._options=Ei(Ei({},Si),r),this._initialized=!1,this.init(),V.addInstance("CopyClipboard",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._targetEl&&this._triggerEl&&!this._initialized&&(this._triggerElClickHandler=function(){e.copy()},this._triggerEl&&this._triggerEl.addEventListener("click",this._triggerElClickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._targetEl&&this._initialized&&(this._triggerEl&&this._triggerEl.removeEventListener("click",this._triggerElClickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){V.removeInstance("CopyClipboard",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getTargetValue=function(){if(this._options.contentType==="input")return this._targetEl.value;if(this._options.contentType==="innerHTML")return this._targetEl.innerHTML;if(this._options.contentType==="textContent")return this._targetEl.textContent.replace(/\s+/g," ").trim()},t.prototype.copy=function(){var e=this.getTargetValue();this._options.htmlEntities&&(e=this.decodeHTML(e));var n=document.createElement("textarea");return n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),this._options.onCopy(this),e},t.prototype.decodeHTML=function(e){var n=document.createElement("textarea");return n.innerHTML=e,n.textContent},t.prototype.updateOnCopyCallback=function(e){this._options.onCopy=e},t}();function Da(){document.querySelectorAll("[data-copy-to-clipboard-target]").forEach(function(t){var e=t.getAttribute("data-copy-to-clipboard-target"),n=document.getElementById(e),r=t.getAttribute("data-copy-to-clipboard-content-type"),i=t.getAttribute("data-copy-to-clipboard-html-entities");n?V.instanceExists("CopyClipboard",n.getAttribute("id"))||new Ml(t,n,{htmlEntities:i&&i==="true"?!0:Si.htmlEntities,contentType:r||Si.contentType}):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-copy-to-clipboard-target attribute.'))})}typeof window<"u"&&(window.CopyClipboard=Ml,window.initClipboards=Da);function $s(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function vh(t){if(Array.isArray(t))return t}function yh(t){if(Array.isArray(t))return $s(t)}function _h(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ta(t,e,n){return e=yt(e),xh(t,xl()?Reflect.construct(e,n||[],yt(t).constructor):e.apply(t,n))}function Gt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Eh(r.key),r)}}function Xt(t,e,n){return e&&Qo(t.prototype,e),n&&Qo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rr(){return rr=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=kh(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},rr.apply(null,arguments)}function yt(t){return yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yt(t)}function Ra(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bs(t,e)}function xl(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xl=function(){return!!t})()}function bh(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wh(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,l=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return o}}function Ph(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xh(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _h(t)}function Bs(t,e){return Bs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Bs(t,e)}function _e(t,e){return vh(t)||wh(t,e)||kl(t,e)||Ph()}function kh(t,e){for(;!{}.hasOwnProperty.call(t,e)&&(t=yt(t))!==null;);return t}function Mr(t){return yh(t)||bh(t)||kl(t)||Mh()}function Ah(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Eh(t){var e=Ah(t,"string");return typeof e=="symbol"?e:e+""}function Ci(t){"@babel/helpers - typeof";return Ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ci(t)}function kl(t,e){if(t){if(typeof t=="string")return $s(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$s(t,e):void 0}}function nt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function La(t){return t[t.length-1]}function Wt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.forEach(function(i){t.includes(i)||t.push(i)}),t}function ps(t,e){return t?t.split(e):[]}function Na(t,e,n){var r=e===void 0||t>=e,i=n===void 0||t<=n;return r&&i}function Al(t,e,n){return t<e?e:t>n?n:t}function Pn(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",s=Object.keys(n).reduce(function(o,c){var l=n[c];return typeof l=="function"&&(l=l(r)),"".concat(o," ").concat(c,'="').concat(l,'"')},t);i+="<".concat(s,"></").concat(t,">");var a=r+1;return a<e?Pn(t,e,n,a,i):i}function ja(t){return t.replace(/>\s+/g,">").replace(/\s+</,"<")}function Vs(t){return new Date(t).setHours(0,0,0,0)}function Yt(){return new Date().setHours(0,0,0,0)}function pt(){switch(arguments.length){case 0:return Yt();case 1:return Vs(arguments.length<=0?void 0:arguments[0])}var t=new Date(0);return t.setFullYear.apply(t,arguments),t.setHours(0,0,0,0)}function dn(t,e){var n=new Date(t);return n.setDate(n.getDate()+e)}function Sh(t,e){return dn(t,e*7)}function Ii(t,e){var n=new Date(t),r=n.getMonth()+e,i=r%12;i<0&&(i+=12);var s=n.setMonth(r);return n.getMonth()!==i?n.setDate(0):s}function fn(t,e){var n=new Date(t),r=n.getMonth(),i=n.setFullYear(n.getFullYear()+e);return r===1&&n.getMonth()===2?n.setDate(0):i}function ec(t,e){return(t-e+7)%7}function Oi(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=new Date(t).getDay();return dn(t,ec(e,n)-ec(r,n))}function Ch(t){var e=Oi(t,4,1),n=Oi(new Date(e).setMonth(0,4),4,1);return Math.round((e-n)/6048e5)+1}function Dt(t,e){var n=new Date(t).getFullYear();return Math.floor(n/e)*e}var Hs=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,Ih=/[\s!-/:-@[-`{-~年月日]+/,gs={},tc={y:function(e,n){return new Date(e).setFullYear(parseInt(n,10))},m:function(e,n,r){var i=new Date(e),s=parseInt(n,10)-1;if(isNaN(s)){if(!n)return NaN;var a=n.toLowerCase(),o=function(l){return l.toLowerCase().startsWith(a)};if(s=r.monthsShort.findIndex(o),s<0&&(s=r.months.findIndex(o)),s<0)return NaN}return i.setMonth(s),i.getMonth()!==El(s)?i.setDate(0):i.getTime()},d:function(e,n){return new Date(e).setDate(parseInt(n,10))}},Oh={d:function(e){return e.getDate()},dd:function(e){return Br(e.getDate(),2)},D:function(e,n){return n.daysShort[e.getDay()]},DD:function(e,n){return n.days[e.getDay()]},m:function(e){return e.getMonth()+1},mm:function(e){return Br(e.getMonth()+1,2)},M:function(e,n){return n.monthsShort[e.getMonth()]},MM:function(e,n){return n.months[e.getMonth()]},y:function(e){return e.getFullYear()},yy:function(e){return Br(e.getFullYear(),2).slice(-2)},yyyy:function(e){return Br(e.getFullYear(),4)}};function El(t){return t>-1?t%12:El(t+12)}function Br(t,e){return t.toString().padStart(e,"0")}function Sl(t){if(typeof t!="string")throw new Error("Invalid date format.");if(t in gs)return gs[t];var e=t.split(Hs),n=t.match(new RegExp(Hs,"g"));if(e.length===0||!n)throw new Error("Invalid date format.");var r=n.map(function(s){return Oh[s]}),i=Object.keys(tc).reduce(function(s,a){var o=n.find(function(c){return c[0]!=="D"&&c[0].toLowerCase()===a});return o&&s.push(a),s},[]);return gs[t]={parser:function(a,o){var c=a.split(Ih).reduce(function(l,u,d){if(u.length>0&&n[d]){var f=n[d][0];f==="M"?l.m=u:f!=="D"&&(l[f]=u)}return l},{});return i.reduce(function(l,u){var d=tc[u](l,c[u],o);return isNaN(d)?l:d},Yt())},formatter:function(a,o){var c=r.reduce(function(l,u,d){return l+="".concat(e[d]).concat(u(a,o))},"");return c+=La(e)}}}function ir(t,e,n){if(t instanceof Date||typeof t=="number"){var r=Vs(t);return isNaN(r)?void 0:r}if(t){if(t==="today")return Yt();if(e&&e.toValue){var i=e.toValue(t,e,n);return isNaN(i)?void 0:Vs(i)}return Sl(e).parser(t,n)}}function sr(t,e,n){if(isNaN(t)||!t&&t!==0)return"";var r=typeof t=="number"?new Date(t):t;return e.toDisplay?e.toDisplay(r,e,n):Sl(e).formatter(r,n)}var Di=new WeakMap,Cl=EventTarget.prototype,nc=Cl.addEventListener,rc=Cl.removeEventListener;function Fa(t,e){var n=Di.get(t);n||(n=[],Di.set(t,n)),e.forEach(function(r){nc.call.apply(nc,Mr(r)),n.push(r)})}function Il(t){var e=Di.get(t);e&&(e.forEach(function(n){rc.call.apply(rc,Mr(n))}),Di.delete(t))}if(!Event.prototype.composedPath){var Dh=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];n.push(e);var r;return e.parentNode?r=e.parentNode:e.host?r=e.host:e.defaultView&&(r=e.defaultView),r?t(r,n):n};Event.prototype.composedPath=function(){return Dh(this.target)}}function Ol(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=t[r];return e(i)?i:i===n||!i.parentElement?void 0:Ol(t,e,n,r+1)}function Dl(t,e){var n=typeof e=="function"?e:function(r){return r.matches(e)};return Ol(t.composedPath(),n,t.currentTarget)}var Tn={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},xr={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,calendarWeeks:!1,clearBtn:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/></svg>',orientation:"auto",pickLevel:0,prevArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5H1m0 0 4 4M1 5l4-4"/></svg>',showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayBtn:!1,todayBtnMode:0,todayHighlight:!1,updateOnBlur:!0,weekStart:0},vs=null;function rt(t){return vs==null&&(vs=document.createRange()),vs.createContextualFragment(t)}function Yn(t){t.style.display!=="none"&&(t.style.display&&(t.dataset.styleDisplay=t.style.display),t.style.display="none")}function Jn(t){t.style.display==="none"&&(t.dataset.styleDisplay?(t.style.display=t.dataset.styleDisplay,delete t.dataset.styleDisplay):t.style.display="")}function Ti(t){t.firstChild&&(t.removeChild(t.firstChild),Ti(t))}function Th(t,e){Ti(t),e instanceof DocumentFragment?t.appendChild(e):typeof e=="string"?t.appendChild(rt(e)):typeof e.forEach=="function"&&e.forEach(function(n){t.appendChild(n)})}var ys=xr.language,Rh=xr.format,Lh=xr.weekStart;function ic(t,e){return t.length<6&&e>=0&&e<7?Wt(t,e):t}function sc(t){return(t+6)%7}function ac(t,e,n,r){var i=ir(t,e,n);return i!==void 0?i:r}function _s(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:3,r=parseInt(t,10);return r>=0&&r<=n?r:e}function bs(t,e){var n=Object.assign({},t),r={},i=e.constructor.locales,s=e.config||{},a=s.format,o=s.language,c=s.locale,l=s.maxDate,u=s.maxView,d=s.minDate,f=s.pickLevel,h=s.startView,g=s.weekStart;if(n.language){var m;if(n.language!==o&&(i[n.language]?m=n.language:(m=n.language.split("-")[0],i[m]===void 0&&(m=!1))),delete n.language,m){o=r.language=m;var p=c||i[ys];c=Object.assign({format:Rh,weekStart:Lh},i[ys]),o!==ys&&Object.assign(c,i[o]),r.locale=c,a===p.format&&(a=r.format=c.format),g===p.weekStart&&(g=r.weekStart=c.weekStart,r.weekEnd=sc(c.weekStart))}}if(n.format){var x=typeof n.format.toDisplay=="function",_=typeof n.format.toValue=="function",k=Hs.test(n.format);(x&&_||k)&&(a=r.format=n.format),delete n.format}var v=d,A=l;if(n.minDate!==void 0&&(v=n.minDate===null?pt(0,0,1):ac(n.minDate,a,c,v),delete n.minDate),n.maxDate!==void 0&&(A=n.maxDate===null?void 0:ac(n.maxDate,a,c,A),delete n.maxDate),A<v?(d=r.minDate=A,l=r.maxDate=v):(d!==v&&(d=r.minDate=v),l!==A&&(l=r.maxDate=A)),n.datesDisabled&&(r.datesDisabled=n.datesDisabled.reduce(function(W,K){var z=ir(K,a,c);return z!==void 0?Wt(W,z):W},[]),delete n.datesDisabled),n.defaultViewDate!==void 0){var w=ir(n.defaultViewDate,a,c);w!==void 0&&(r.defaultViewDate=w),delete n.defaultViewDate}if(n.weekStart!==void 0){var P=Number(n.weekStart)%7;isNaN(P)||(g=r.weekStart=P,r.weekEnd=sc(P)),delete n.weekStart}if(n.daysOfWeekDisabled&&(r.daysOfWeekDisabled=n.daysOfWeekDisabled.reduce(ic,[]),delete n.daysOfWeekDisabled),n.daysOfWeekHighlighted&&(r.daysOfWeekHighlighted=n.daysOfWeekHighlighted.reduce(ic,[]),delete n.daysOfWeekHighlighted),n.maxNumberOfDates!==void 0){var N=parseInt(n.maxNumberOfDates,10);N>=0&&(r.maxNumberOfDates=N,r.multidate=N!==1),delete n.maxNumberOfDates}n.dateDelimiter&&(r.dateDelimiter=String(n.dateDelimiter),delete n.dateDelimiter);var O=f;n.pickLevel!==void 0&&(O=_s(n.pickLevel,2),delete n.pickLevel),O!==f&&(f=r.pickLevel=O);var E=u;n.maxView!==void 0&&(E=_s(n.maxView,u),delete n.maxView),E=f>E?f:E,E!==u&&(u=r.maxView=E);var C=h;if(n.startView!==void 0&&(C=_s(n.startView,C),delete n.startView),C<f?C=f:C>u&&(C=u),C!==h&&(r.startView=C),n.prevArrow){var U=rt(n.prevArrow);U.childNodes.length>0&&(r.prevArrow=U.childNodes),delete n.prevArrow}if(n.nextArrow){var q=rt(n.nextArrow);q.childNodes.length>0&&(r.nextArrow=q.childNodes),delete n.nextArrow}if(n.disableTouchKeyboard!==void 0&&(r.disableTouchKeyboard="ontouchstart"in document&&!!n.disableTouchKeyboard,delete n.disableTouchKeyboard),n.orientation){var re=n.orientation.toLowerCase().split(/\s+/g);r.orientation={x:re.find(function(W){return W==="left"||W==="right"})||"auto",y:re.find(function(W){return W==="top"||W==="bottom"})||"auto"},delete n.orientation}if(n.todayBtnMode!==void 0){switch(n.todayBtnMode){case 0:case 1:r.todayBtnMode=n.todayBtnMode}delete n.todayBtnMode}return Object.keys(n).forEach(function(W){n[W]!==void 0&&nt(xr,W)&&(r[W]=n[W])}),r}var Nh=ja(`<div class="datepicker hidden">
  <div class="datepicker-picker inline-block rounded-lg bg-white dark:bg-gray-700 shadow-lg p-4">
    <div class="datepicker-header">
      <div class="datepicker-title bg-white dark:bg-gray-700 dark:text-white px-2 py-3 text-center font-semibold"></div>
      <div class="datepicker-controls flex justify-between mb-2">
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 prev-btn"></button>
        <button type="button" class="text-sm rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 font-semibold py-2.5 px-5 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-200 view-switch"></button>
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 next-btn"></button>
      </div>
    </div>
    <div class="datepicker-main p-1"></div>
    <div class="datepicker-footer">
      <div class="datepicker-controls flex space-x-2 rtl:space-x-reverse mt-2">
        <button type="button" class="%buttonClass% today-btn text-white bg-blue-700 !bg-primary-700 dark:bg-blue-600 dark:!bg-primary-600 hover:bg-blue-800 hover:!bg-primary-800 dark:hover:bg-blue-700 dark:hover:!bg-primary-700 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
        <button type="button" class="%buttonClass% clear-btn text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
      </div>
    </div>
  </div>
</div>`),jh=ja(`<div class="days">
  <div class="days-of-week grid grid-cols-7 mb-1">`.concat(Pn("span",7,{class:"dow block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),`</div>
  <div class="datepicker-grid w-64 grid grid-cols-7">`).concat(Pn("span",42,{class:"block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"}),`</div>
</div>`)),Fh=ja(`<div class="calendar-weeks">
  <div class="days-of-week flex"><span class="dow h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"></span></div>
  <div class="weeks">`.concat(Pn("span",6,{class:"week block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),`</div>
</div>`)),$a=function(){function t(e,n){Gt(this,t),Object.assign(this,n,{picker:e,element:rt('<div class="datepicker-view flex"></div>').firstChild,selected:[]}),this.init(this.picker.datepicker.config)}return Xt(t,[{key:"init",value:function(n){n.pickLevel!==void 0&&(this.isMinView=this.id===n.pickLevel),this.setOptions(n),this.updateFocus(),this.updateSelection()}},{key:"performBeforeHook",value:function(n,r,i){var s=this.beforeShow(new Date(i));switch(Ci(s)){case"boolean":s={enabled:s};break;case"string":s={classes:s}}if(s){if(s.enabled===!1&&(n.classList.add("disabled"),Wt(this.disabled,r)),s.classes){var a,o=s.classes.split(/\s+/);(a=n.classList).add.apply(a,Mr(o)),o.includes("disabled")&&Wt(this.disabled,r)}s.content&&Th(n,s.content)}}}])}(),$h=function(t){function e(n){return Gt(this,e),Ta(this,e,[n,{id:0,name:"days",cellClass:"day"}])}return Ra(e,t),Xt(e,[{key:"init",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(i){var s=rt(jh).firstChild;this.dow=s.firstChild,this.grid=s.lastChild,this.element.appendChild(s)}rr(yt(e.prototype),"init",this).call(this,r)}},{key:"setOptions",value:function(r){var i=this,s;if(nt(r,"minDate")&&(this.minDate=r.minDate),nt(r,"maxDate")&&(this.maxDate=r.maxDate),r.datesDisabled&&(this.datesDisabled=r.datesDisabled),r.daysOfWeekDisabled&&(this.daysOfWeekDisabled=r.daysOfWeekDisabled,s=!0),r.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=r.daysOfWeekHighlighted),r.todayHighlight!==void 0&&(this.todayHighlight=r.todayHighlight),r.weekStart!==void 0&&(this.weekStart=r.weekStart,this.weekEnd=r.weekEnd,s=!0),r.locale){var a=this.locale=r.locale;this.dayNames=a.daysMin,this.switchLabelFormat=a.titleFormat,s=!0}if(r.beforeShowDay!==void 0&&(this.beforeShow=typeof r.beforeShowDay=="function"?r.beforeShowDay:void 0),r.calendarWeeks!==void 0)if(r.calendarWeeks&&!this.calendarWeeks){var o=rt(Fh).firstChild;this.calendarWeeks={element:o,dow:o.firstChild,weeks:o.lastChild},this.element.insertBefore(o,this.element.firstChild)}else this.calendarWeeks&&!r.calendarWeeks&&(this.element.removeChild(this.calendarWeeks.element),this.calendarWeeks=null);r.showDaysOfWeek!==void 0&&(r.showDaysOfWeek?(Jn(this.dow),this.calendarWeeks&&Jn(this.calendarWeeks.dow)):(Yn(this.dow),this.calendarWeeks&&Yn(this.calendarWeeks.dow))),s&&Array.from(this.dow.children).forEach(function(c,l){var u=(i.weekStart+l)%7;c.textContent=i.dayNames[u],c.className=i.daysOfWeekDisabled.includes(u)?"dow disabled text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400 cursor-not-allowed":"dow text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"})}},{key:"updateFocus",value:function(){var r=new Date(this.picker.viewDate),i=r.getFullYear(),s=r.getMonth(),a=pt(i,s,1),o=Oi(a,this.weekStart,this.weekStart);this.first=a,this.last=pt(i,s+1,0),this.start=o,this.focused=this.picker.viewDate}},{key:"updateSelection",value:function(){var r=this.picker.datepicker,i=r.dates,s=r.rangepicker;this.selected=i,s&&(this.range=s.dates)}},{key:"render",value:function(){var r=this;this.today=this.todayHighlight?Yt():void 0,this.disabled=Mr(this.datesDisabled);var i=sr(this.focused,this.switchLabelFormat,this.locale);if(this.picker.setViewSwitchLabel(i),this.picker.setPrevBtnDisabled(this.first<=this.minDate),this.picker.setNextBtnDisabled(this.last>=this.maxDate),this.calendarWeeks){var s=Oi(this.first,1,1);Array.from(this.calendarWeeks.weeks.children).forEach(function(a,o){a.textContent=Ch(Sh(s,o))})}Array.from(this.grid.children).forEach(function(a,o){var c=a.classList,l=dn(r.start,o),u=new Date(l),d=u.getDay();if(a.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(r.cellClass),a.dataset.date=l,a.textContent=u.getDate(),l<r.first?c.add("prev","text-gray-500","dark:text-white"):l>r.last&&c.add("next","text-gray-500","dark:text-white"),r.today===l&&c.add("today","bg-gray-100","dark:bg-gray-600"),(l<r.minDate||l>r.maxDate||r.disabled.includes(l))&&(c.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),c.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer")),r.daysOfWeekDisabled.includes(d)&&(c.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),c.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer"),Wt(r.disabled,l)),r.daysOfWeekHighlighted.includes(d)&&c.add("highlighted"),r.range){var f=_e(r.range,2),h=f[0],g=f[1];l>h&&l<g&&(c.add("range","bg-gray-200","dark:bg-gray-600"),c.remove("rounded-lg","rounded-l-lg","rounded-r-lg")),l===h&&(c.add("range-start","bg-gray-100","dark:bg-gray-600","rounded-l-lg"),c.remove("rounded-lg","rounded-r-lg")),l===g&&(c.add("range-end","bg-gray-100","dark:bg-gray-600","rounded-r-lg"),c.remove("rounded-lg","rounded-l-lg"))}r.selected.includes(l)&&(c.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),c.remove("text-gray-900","text-gray-500","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","dark:bg-gray-600","bg-gray-100","bg-gray-200")),l===r.focused&&c.add("focused"),r.beforeShow&&r.performBeforeHook(a,l,l)})}},{key:"refresh",value:function(){var r=this,i=this.range||[],s=_e(i,2),a=s[0],o=s[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(c){c.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white","focused"),c.classList.add("text-gray-900","rounded-lg","dark:text-white")}),Array.from(this.grid.children).forEach(function(c){var l=Number(c.dataset.date),u=c.classList;u.remove("bg-gray-200","dark:bg-gray-600","rounded-l-lg","rounded-r-lg"),l>a&&l<o&&(u.add("range","bg-gray-200","dark:bg-gray-600"),u.remove("rounded-lg")),l===a&&(u.add("range-start","bg-gray-200","dark:bg-gray-600","rounded-l-lg"),u.remove("rounded-lg")),l===o&&(u.add("range-end","bg-gray-200","dark:bg-gray-600","rounded-r-lg"),u.remove("rounded-lg")),r.selected.includes(l)&&(u.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),u.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","bg-gray-100","bg-gray-200","dark:bg-gray-600")),l===r.focused&&u.add("focused")})}},{key:"refreshFocus",value:function(){var r=Math.round((this.focused-this.start)/864e5);this.grid.querySelectorAll(".focused").forEach(function(i){i.classList.remove("focused")}),this.grid.children[r].classList.add("focused")}}])}($a);function oc(t,e){if(!(!t||!t[0]||!t[1])){var n=_e(t,2),r=_e(n[0],2),i=r[0],s=r[1],a=_e(n[1],2),o=a[0],c=a[1];if(!(i>e||o<e))return[i===e?s:-1,o===e?c:12]}}var Bh=function(t){function e(n){return Gt(this,e),Ta(this,e,[n,{id:1,name:"months",cellClass:"month"}])}return Ra(e,t),Xt(e,[{key:"init",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(rt(Pn("span",12,{"data-month":function(a){return a}})))),rr(yt(e.prototype),"init",this).call(this,r)}},{key:"setOptions",value:function(r){if(r.locale&&(this.monthNames=r.locale.monthsShort),nt(r,"minDate"))if(r.minDate===void 0)this.minYear=this.minMonth=this.minDate=void 0;else{var i=new Date(r.minDate);this.minYear=i.getFullYear(),this.minMonth=i.getMonth(),this.minDate=i.setDate(1)}if(nt(r,"maxDate"))if(r.maxDate===void 0)this.maxYear=this.maxMonth=this.maxDate=void 0;else{var s=new Date(r.maxDate);this.maxYear=s.getFullYear(),this.maxMonth=s.getMonth(),this.maxDate=pt(this.maxYear,this.maxMonth+1,0)}r.beforeShowMonth!==void 0&&(this.beforeShow=typeof r.beforeShowMonth=="function"?r.beforeShowMonth:void 0)}},{key:"updateFocus",value:function(){var r=new Date(this.picker.viewDate);this.year=r.getFullYear(),this.focused=r.getMonth()}},{key:"updateSelection",value:function(){var r=this.picker.datepicker,i=r.dates,s=r.rangepicker;this.selected=i.reduce(function(a,o){var c=new Date(o),l=c.getFullYear(),u=c.getMonth();return a[l]===void 0?a[l]=[u]:Wt(a[l],u),a},{}),s&&s.dates&&(this.range=s.dates.map(function(a){var o=new Date(a);return isNaN(o)?void 0:[o.getFullYear(),o.getMonth()]}))}},{key:"render",value:function(){var r=this;this.disabled=[],this.picker.setViewSwitchLabel(this.year),this.picker.setPrevBtnDisabled(this.year<=this.minYear),this.picker.setNextBtnDisabled(this.year>=this.maxYear);var i=this.selected[this.year]||[],s=this.year<this.minYear||this.year>this.maxYear,a=this.year===this.minYear,o=this.year===this.maxYear,c=oc(this.range,this.year);Array.from(this.grid.children).forEach(function(l,u){var d=l.classList,f=pt(r.year,u,1);if(l.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(r.cellClass),r.isMinView&&(l.dataset.date=f),l.textContent=r.monthNames[u],(s||a&&u<r.minMonth||o&&u>r.maxMonth)&&d.add("disabled"),c){var h=_e(c,2),g=h[0],m=h[1];u>g&&u<m&&d.add("range"),u===g&&d.add("range-start"),u===m&&d.add("range-end")}i.includes(u)&&(d.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),d.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),u===r.focused&&d.add("focused"),r.beforeShow&&r.performBeforeHook(l,u,f)})}},{key:"refresh",value:function(){var r=this,i=this.selected[this.year]||[],s=oc(this.range,this.year)||[],a=_e(s,2),o=a[0],c=a[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(l){l.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","dark:bg-blue-600","dark:!bg-primary-700","dark:text-white","text-white","focused"),l.classList.add("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")}),Array.from(this.grid.children).forEach(function(l,u){var d=l.classList;u>o&&u<c&&d.add("range"),u===o&&d.add("range-start"),u===c&&d.add("range-end"),i.includes(u)&&(d.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),d.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),u===r.focused&&d.add("focused")})}},{key:"refreshFocus",value:function(){this.grid.querySelectorAll(".focused").forEach(function(r){r.classList.remove("focused")}),this.grid.children[this.focused].classList.add("focused")}}])}($a);function Vh(t){return Mr(t).reduce(function(e,n,r){return e+=r?n:n.toUpperCase()},"")}var cc=function(t){function e(n,r){return Gt(this,e),Ta(this,e,[n,r])}return Ra(e,t),Xt(e,[{key:"init",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i&&(this.navStep=this.step*10,this.beforeShowOption="beforeShow".concat(Vh(this.cellClass)),this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(rt(Pn("span",12)))),rr(yt(e.prototype),"init",this).call(this,r)}},{key:"setOptions",value:function(r){if(nt(r,"minDate")&&(r.minDate===void 0?this.minYear=this.minDate=void 0:(this.minYear=Dt(r.minDate,this.step),this.minDate=pt(this.minYear,0,1))),nt(r,"maxDate")&&(r.maxDate===void 0?this.maxYear=this.maxDate=void 0:(this.maxYear=Dt(r.maxDate,this.step),this.maxDate=pt(this.maxYear,11,31))),r[this.beforeShowOption]!==void 0){var i=r[this.beforeShowOption];this.beforeShow=typeof i=="function"?i:void 0}}},{key:"updateFocus",value:function(){var r=new Date(this.picker.viewDate),i=Dt(r,this.navStep),s=i+9*this.step;this.first=i,this.last=s,this.start=i-this.step,this.focused=Dt(r,this.step)}},{key:"updateSelection",value:function(){var r=this,i=this.picker.datepicker,s=i.dates,a=i.rangepicker;this.selected=s.reduce(function(o,c){return Wt(o,Dt(c,r.step))},[]),a&&a.dates&&(this.range=a.dates.map(function(o){if(o!==void 0)return Dt(o,r.step)}))}},{key:"render",value:function(){var r=this;this.disabled=[],this.picker.setViewSwitchLabel("".concat(this.first,"-").concat(this.last)),this.picker.setPrevBtnDisabled(this.first<=this.minYear),this.picker.setNextBtnDisabled(this.last>=this.maxYear),Array.from(this.grid.children).forEach(function(i,s){var a=i.classList,o=r.start+s*r.step,c=pt(o,0,1);if(i.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(r.cellClass),r.isMinView&&(i.dataset.date=c),i.textContent=i.dataset.year=o,s===0?a.add("prev"):s===11&&a.add("next"),(o<r.minYear||o>r.maxYear)&&a.add("disabled"),r.range){var l=_e(r.range,2),u=l[0],d=l[1];o>u&&o<d&&a.add("range"),o===u&&a.add("range-start"),o===d&&a.add("range-end")}r.selected.includes(o)&&(a.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),a.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),o===r.focused&&a.add("focused"),r.beforeShow&&r.performBeforeHook(i,o,c)})}},{key:"refresh",value:function(){var r=this,i=this.range||[],s=_e(i,2),a=s[0],o=s[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(c){c.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark!bg-primary-600","dark:text-white","focused")}),Array.from(this.grid.children).forEach(function(c){var l=Number(c.textContent),u=c.classList;l>a&&l<o&&u.add("range"),l===a&&u.add("range-start"),l===o&&u.add("range-end"),r.selected.includes(l)&&(u.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),u.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),l===r.focused&&u.add("focused")})}},{key:"refreshFocus",value:function(){var r=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach(function(i){i.classList.remove("focused")}),this.grid.children[r].classList.add("focused")}}])}($a);function hn(t,e){var n={date:t.getDate(),viewDate:new Date(t.picker.viewDate),viewId:t.picker.currentView.id,datepicker:t};t.element.dispatchEvent(new CustomEvent(e,{detail:n}))}function Ri(t,e){var n=t.config,r=n.minDate,i=n.maxDate,s=t.picker,a=s.currentView,o=s.viewDate,c;switch(a.id){case 0:c=Ii(o,e);break;case 1:c=fn(o,e);break;default:c=fn(o,e*a.navStep)}c=Al(c,r,i),t.picker.changeFocus(c).render()}function Tl(t){var e=t.picker.currentView.id;e!==t.config.maxView&&t.picker.changeView(e+1).render()}function Rl(t){t.config.updateOnBlur?t.update({autohide:!0}):(t.refresh("input"),t.hide())}function lc(t,e){var n=t.picker,r=new Date(n.viewDate),i=n.currentView.id,s=i===1?Ii(r,e-r.getMonth()):fn(r,e-r.getFullYear());n.changeFocus(s).changeView(i-1).render()}function Hh(t){var e=t.picker,n=Yt();if(t.config.todayBtnMode===1){if(t.config.autohide){t.setDate(n);return}t.setDate(n,{render:!1}),e.update()}e.viewDate!==n&&e.changeFocus(n),e.changeView(0).render()}function zh(t){t.setDate({clear:!0})}function Wh(t){Tl(t)}function Uh(t){Ri(t,-1)}function Zh(t){Ri(t,1)}function qh(t,e){var n=Dl(e,".datepicker-cell");if(!(!n||n.classList.contains("disabled"))){var r=t.picker.currentView,i=r.id,s=r.isMinView;s?t.setDate(Number(n.dataset.date)):i===1?lc(t,Number(n.dataset.month)):lc(t,Number(n.dataset.year))}}function Gh(t){!t.inline&&!t.config.disableTouchKeyboard&&t.inputField.focus()}function uc(t,e){if(e.title!==void 0&&(e.title?(t.controls.title.textContent=e.title,Jn(t.controls.title)):(t.controls.title.textContent="",Yn(t.controls.title))),e.prevArrow){var n=t.controls.prevBtn;Ti(n),e.prevArrow.forEach(function(o){n.appendChild(o.cloneNode(!0))})}if(e.nextArrow){var r=t.controls.nextBtn;Ti(r),e.nextArrow.forEach(function(o){r.appendChild(o.cloneNode(!0))})}if(e.locale&&(t.controls.todayBtn.textContent=e.locale.today,t.controls.clearBtn.textContent=e.locale.clear),e.todayBtn!==void 0&&(e.todayBtn?Jn(t.controls.todayBtn):Yn(t.controls.todayBtn)),nt(e,"minDate")||nt(e,"maxDate")){var i=t.datepicker.config,s=i.minDate,a=i.maxDate;t.controls.todayBtn.disabled=!Na(Yt(),s,a)}e.clearBtn!==void 0&&(e.clearBtn?Jn(t.controls.clearBtn):Yn(t.controls.clearBtn))}function dc(t){var e=t.dates,n=t.config,r=e.length>0?La(e):n.defaultViewDate;return Al(r,n.minDate,n.maxDate)}function fc(t,e){var n=new Date(t.viewDate),r=new Date(e),i=t.currentView,s=i.id,a=i.year,o=i.first,c=i.last,l=r.getFullYear();switch(t.viewDate=e,l!==n.getFullYear()&&hn(t.datepicker,"changeYear"),r.getMonth()!==n.getMonth()&&hn(t.datepicker,"changeMonth"),s){case 0:return e<o||e>c;case 1:return l!==a;default:return l<o||l>c}}function ws(t){return window.getComputedStyle(t).direction}var Xh=function(){function t(e){Gt(this,t),this.datepicker=e;var n=Nh.replace(/%buttonClass%/g,e.config.buttonClass),r=this.element=rt(n).firstChild,i=_e(r.firstChild.children,3),s=i[0],a=i[1],o=i[2],c=s.firstElementChild,l=_e(s.lastElementChild.children,3),u=l[0],d=l[1],f=l[2],h=_e(o.firstChild.children,2),g=h[0],m=h[1],p={title:c,prevBtn:u,viewSwitch:d,nextBtn:f,todayBtn:g,clearBtn:m};this.main=a,this.controls=p;var x=e.inline?"inline":"dropdown";r.classList.add("datepicker-".concat(x)),x==="dropdown"&&r.classList.add("dropdown","absolute","top-0","left-0","z-50","pt-2"),uc(this,e.config),this.viewDate=dc(e),Fa(e,[[r,"click",Gh.bind(null,e),{capture:!0}],[a,"click",qh.bind(null,e)],[p.viewSwitch,"click",Wh.bind(null,e)],[p.prevBtn,"click",Uh.bind(null,e)],[p.nextBtn,"click",Zh.bind(null,e)],[p.todayBtn,"click",Hh.bind(null,e)],[p.clearBtn,"click",zh.bind(null,e)]]),this.views=[new $h(this),new Bh(this),new cc(this,{id:2,name:"years",cellClass:"year",step:1}),new cc(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[e.config.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),e.config.container.appendChild(this.element)}return Xt(t,[{key:"setOptions",value:function(n){uc(this,n),this.views.forEach(function(r){r.init(n,!1)}),this.currentView.render()}},{key:"detach",value:function(){this.datepicker.config.container.removeChild(this.element)}},{key:"show",value:function(){if(!this.active){this.element.classList.add("active","block"),this.element.classList.remove("hidden"),this.active=!0;var n=this.datepicker;if(!n.inline){var r=ws(n.inputField);r!==ws(n.config.container)?this.element.dir=r:this.element.dir&&this.element.removeAttribute("dir"),this.place(),n.config.disableTouchKeyboard&&n.inputField.blur()}hn(n,"show")}}},{key:"hide",value:function(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active","block"),this.element.classList.add("active","block","hidden"),this.active=!1,hn(this.datepicker,"hide"))}},{key:"place",value:function(){var n=this.element,r=n.classList,i=n.style,s=this.datepicker,a=s.config,o=s.inputField,c=a.container,l=this.element.getBoundingClientRect(),u=l.width,d=l.height,f=c.getBoundingClientRect(),h=f.left,g=f.top,m=f.width,p=o.getBoundingClientRect(),x=p.left,_=p.top,k=p.width,v=p.height,A=a.orientation,w=A.x,P=A.y,N,O,E;c===document.body?(N=window.scrollY,O=x+window.scrollX,E=_+N):(N=c.scrollTop,O=x-h,E=_-g+N),w==="auto"&&(O<0?(w="left",O=10):O+u>m?w="right":w=ws(o)==="rtl"?"right":"left"),w==="right"&&(O-=u-k),P==="auto"&&(P=E-d<N?"bottom":"top"),P==="top"?E-=d:E+=v,r.remove("datepicker-orient-top","datepicker-orient-bottom","datepicker-orient-right","datepicker-orient-left"),r.add("datepicker-orient-".concat(P),"datepicker-orient-".concat(w)),i.top=E&&"".concat(E,"px"),i.left=O&&"".concat(O,"px")}},{key:"setViewSwitchLabel",value:function(n){this.controls.viewSwitch.textContent=n}},{key:"setPrevBtnDisabled",value:function(n){this.controls.prevBtn.disabled=n}},{key:"setNextBtnDisabled",value:function(n){this.controls.nextBtn.disabled=n}},{key:"changeView",value:function(n){var r=this.currentView,i=this.views[n];return i.id!==r.id&&(this.currentView=i,this._renderMethod="render",hn(this.datepicker,"changeView"),this.main.replaceChild(i.element,r.element)),this}},{key:"changeFocus",value:function(n){return this._renderMethod=fc(this,n)?"render":"refreshFocus",this.views.forEach(function(r){r.updateFocus()}),this}},{key:"update",value:function(){var n=dc(this.datepicker);return this._renderMethod=fc(this,n)?"render":"refresh",this.views.forEach(function(r){r.updateFocus(),r.updateSelection()}),this}},{key:"render",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,r=n&&this._renderMethod||"render";delete this._renderMethod,this.currentView[r]()}}])}();function Ll(t,e,n,r,i,s){if(Na(t,i,s)){if(r(t)){var a=e(t,n);return Ll(a,e,n,r,i,s)}return t}}function Vr(t,e,n,r){var i=t.picker,s=i.currentView,a=s.step||1,o=i.viewDate,c,l;switch(s.id){case 0:r?o=dn(o,n*7):e.ctrlKey||e.metaKey?o=fn(o,n):o=dn(o,n),c=dn,l=function(d){return s.disabled.includes(d)};break;case 1:o=Ii(o,r?n*4:n),c=Ii,l=function(d){var f=new Date(d),h=s.year,g=s.disabled;return f.getFullYear()===h&&g.includes(f.getMonth())};break;default:o=fn(o,n*(r?4:1)*a),c=fn,l=function(d){return s.disabled.includes(Dt(d,a))}}o=Ll(o,c,n<0?-a:a,l,s.minDate,s.maxDate),o!==void 0&&i.changeFocus(o).render()}function Yh(t,e){if(e.key==="Tab"){Rl(t);return}var n=t.picker,r=n.currentView,i=r.id,s=r.isMinView;if(n.active)if(t.editMode)switch(e.key){case"Escape":n.hide();break;case"Enter":t.exitEditMode({update:!0,autohide:t.config.autohide});break;default:return}else switch(e.key){case"Escape":n.hide();break;case"ArrowLeft":if(e.ctrlKey||e.metaKey)Ri(t,-1);else if(e.shiftKey){t.enterEditMode();return}else Vr(t,e,-1,!1);break;case"ArrowRight":if(e.ctrlKey||e.metaKey)Ri(t,1);else if(e.shiftKey){t.enterEditMode();return}else Vr(t,e,1,!1);break;case"ArrowUp":if(e.ctrlKey||e.metaKey)Tl(t);else if(e.shiftKey){t.enterEditMode();return}else Vr(t,e,-1,!0);break;case"ArrowDown":if(e.shiftKey&&!e.ctrlKey&&!e.metaKey){t.enterEditMode();return}Vr(t,e,1,!0);break;case"Enter":s?t.setDate(n.viewDate):n.changeView(i-1).render();break;case"Backspace":case"Delete":t.enterEditMode();return;default:e.key.length===1&&!e.ctrlKey&&!e.metaKey&&t.enterEditMode();return}else switch(e.key){case"ArrowDown":case"Escape":n.show();break;case"Enter":t.update();break;default:return}e.preventDefault(),e.stopPropagation()}function Jh(t){t.config.showOnFocus&&!t._showing&&t.show()}function Kh(t,e){var n=e.target;(t.picker.active||t.config.showOnClick)&&(n._active=n===document.activeElement,n._clicking=setTimeout(function(){delete n._active,delete n._clicking},2e3))}function Qh(t,e){var n=e.target;n._clicking&&(clearTimeout(n._clicking),delete n._clicking,n._active&&t.enterEditMode(),delete n._active,t.config.showOnClick&&t.show())}function em(t,e){e.clipboardData.types.includes("text/plain")&&t.enterEditMode()}function tm(t,e){var n=t.element;if(n===document.activeElement){var r=t.picker.element;Dl(e,function(i){return i===n||i===r})||Rl(t)}}function Nl(t,e){return t.map(function(n){return sr(n,e.format,e.locale)}).join(e.dateDelimiter)}function jl(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=t.config,i=t.dates,s=t.rangepicker;if(e.length===0)return n?[]:void 0;var a=s&&t===s.datepickers[1],o=e.reduce(function(c,l){var u=ir(l,r.format,r.locale);if(u===void 0)return c;if(r.pickLevel>0){var d=new Date(u);r.pickLevel===1?u=a?d.setMonth(d.getMonth()+1,0):d.setDate(1):u=a?d.setFullYear(d.getFullYear()+1,0,0):d.setMonth(0,1)}return Na(u,r.minDate,r.maxDate)&&!c.includes(u)&&!r.datesDisabled.includes(u)&&!r.daysOfWeekDisabled.includes(new Date(u).getDay())&&c.push(u),c},[]);if(o.length!==0)return r.multidate&&!n&&(o=o.reduce(function(c,l){return i.includes(l)||c.push(l),c},i.filter(function(c){return!o.includes(c)}))),r.maxNumberOfDates&&o.length>r.maxNumberOfDates?o.slice(r.maxNumberOfDates*-1):o}function Li(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=t.config,i=t.picker,s=t.inputField;if(e&2){var a=i.active?r.pickLevel:r.startView;i.update().changeView(a).render(n)}e&1&&s&&(s.value=Nl(t.dates,r))}function hc(t,e,n){var r=n.clear,i=n.render,s=n.autohide;i===void 0&&(i=!0),i?s===void 0&&(s=t.config.autohide):s=!1;var a=jl(t,e,r);a&&(a.toString()!==t.dates.toString()?(t.dates=a,Li(t,i?3:1),hn(t,"changeDate")):Li(t,1),s&&t.hide())}var Qr=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;Gt(this,t),e.datepicker=this,this.element=e;var i=this.config=Object.assign({buttonClass:n.buttonClass&&String(n.buttonClass)||"button",container:document.body,defaultViewDate:Yt(),maxDate:void 0,minDate:void 0},bs(xr,this));this._options=n,Object.assign(i,bs(n,this));var s=this.inline=e.tagName!=="INPUT",a,o;if(s)i.container=e,o=ps(e.dataset.date,i.dateDelimiter),delete e.dataset.date;else{var c=n.container?document.querySelector(n.container):null;c&&(i.container=c),a=this.inputField=e,a.classList.add("datepicker-input"),o=ps(a.value,i.dateDelimiter)}if(r){var l=r.inputs.indexOf(a),u=r.datepickers;if(l<0||l>1||!Array.isArray(u))throw Error("Invalid rangepicker object.");u[l]=this,Object.defineProperty(this,"rangepicker",{get:function(){return r}})}this.dates=[];var d=jl(this,o);d&&d.length>0&&(this.dates=d),a&&(a.value=Nl(this.dates,i));var f=this.picker=new Xh(this);if(s)this.show();else{var h=tm.bind(null,this),g=[[a,"keydown",Yh.bind(null,this)],[a,"focus",Jh.bind(null,this)],[a,"mousedown",Kh.bind(null,this)],[a,"click",Qh.bind(null,this)],[a,"paste",em.bind(null,this)],[document,"mousedown",h],[document,"touchstart",h],[window,"resize",f.place.bind(f)]];Fa(this,g)}}return Xt(t,[{key:"active",get:function(){return!!(this.picker&&this.picker.active)}},{key:"pickerElement",get:function(){return this.picker?this.picker.element:void 0}},{key:"setOptions",value:function(n){var r=this.picker,i=bs(n,this);Object.assign(this._options,n),Object.assign(this.config,i),r.setOptions(i),Li(this,3)}},{key:"show",value:function(){if(this.inputField){if(this.inputField.disabled)return;this.inputField!==document.activeElement&&(this._showing=!0,this.inputField.focus(),delete this._showing)}this.picker.show()}},{key:"hide",value:function(){this.inline||(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}},{key:"destroy",value:function(){return this.hide(),Il(this),this.picker.detach(),this.inline||this.inputField.classList.remove("datepicker-input"),delete this.element.datepicker,this}},{key:"getDate",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=r?function(s){return sr(s,r,n.config.locale)}:function(s){return new Date(s)};if(this.config.multidate)return this.dates.map(i);if(this.dates.length>0)return i(this.dates[0])}},{key:"setDate",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=[].concat(r),a={},o=La(r);Ci(o)==="object"&&!Array.isArray(o)&&!(o instanceof Date)&&o&&Object.assign(a,s.pop());var c=Array.isArray(s[0])?s[0]:s;hc(this,c,a)}},{key:"update",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(!this.inline){var r={clear:!0,autohide:!!(n&&n.autohide)},i=ps(this.inputField.value,this.config.dateDelimiter);hc(this,i,r)}}},{key:"refresh",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&typeof n!="string"&&(r=n,n=void 0);var i;n==="picker"?i=2:n==="input"?i=1:i=3,Li(this,i,!r)}},{key:"enterEditMode",value:function(){this.inline||!this.picker.active||this.editMode||(this.editMode=!0,this.inputField.classList.add("in-edit","border-blue-700","!border-primary-700"))}},{key:"exitEditMode",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(!(this.inline||!this.editMode)){var r=Object.assign({update:!1},n);delete this.editMode,this.inputField.classList.remove("in-edit","border-blue-700","!border-primary-700"),r.update&&this.update(r)}}}],[{key:"formatDate",value:function(n,r,i){return sr(n,r,i&&Tn[i]||Tn.en)}},{key:"parseDate",value:function(n,r,i){return ir(n,r,i&&Tn[i]||Tn.en)}},{key:"locales",get:function(){return Tn}}])}();function mc(t){var e=Object.assign({},t);return delete e.inputs,delete e.allowOneSidedRange,delete e.maxNumberOfDates,e}function pc(t,e,n,r){Fa(t,[[n,"changeDate",e]]),new Qr(n,r,t)}function Rn(t,e){if(!t._updating){t._updating=!0;var n=e.target;if(n.datepicker!==void 0){var r=t.datepickers,i={render:!1},s=t.inputs.indexOf(n),a=s===0?1:0,o=r[s].dates[0],c=r[a].dates[0];o!==void 0&&c!==void 0?s===0&&o>c?(r[0].setDate(c,i),r[1].setDate(o,i)):s===1&&o<c&&(r[0].setDate(o,i),r[1].setDate(c,i)):t.allowOneSidedRange||(o!==void 0||c!==void 0)&&(i.clear=!0,r[a].setDate(r[s].dates,i)),r[0].picker.update().render(),r[1].picker.update().render(),delete t._updating}}}var Ps=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Gt(this,t);var r=Array.isArray(n.inputs)?n.inputs:Array.from(e.querySelectorAll("input"));if(!(r.length<2)){e.rangepicker=this,this.element=e,this.inputs=r.slice(0,2),this.allowOneSidedRange=!!n.allowOneSidedRange;var i=Rn.bind(null,this),s=mc(n),a=[];Object.defineProperty(this,"datepickers",{get:function(){return a}}),pc(this,i,this.inputs[0],s),pc(this,i,this.inputs[1],s),Object.freeze(a),a[0].dates.length>0?Rn(this,{target:this.inputs[0]}):a[1].dates.length>0&&Rn(this,{target:this.inputs[1]})}}return Xt(t,[{key:"dates",get:function(){return this.datepickers.length===2?[this.datepickers[0].dates[0],this.datepickers[1].dates[0]]:void 0}},{key:"setOptions",value:function(n){this.allowOneSidedRange=!!n.allowOneSidedRange;var r=mc(n);this.datepickers[0].setOptions(r),this.datepickers[1].setOptions(r)}},{key:"destroy",value:function(){this.datepickers[0].destroy(),this.datepickers[1].destroy(),Il(this),delete this.element.rangepicker}},{key:"getDates",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=r?function(s){return sr(s,r,n.datepickers[0].config.locale)}:function(s){return new Date(s)};return this.dates.map(function(s){return s===void 0?s:i(s)})}},{key:"setDates",value:function(n,r){var i=_e(this.datepickers,2),s=i[0],a=i[1],o=this.dates;this._updating=!0,s.setDate(n),a.setDate(r),delete this._updating,a.dates[0]!==o[1]?Rn(this,{target:this.inputs[1]}):s.dates[0]!==o[0]&&Rn(this,{target:this.inputs[0]})}}])}(),Ni=function(){return Ni=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ni.apply(this,arguments)},Me={defaultDatepickerId:null,autohide:!1,format:"mm/dd/yyyy",maxDate:null,minDate:null,orientation:"bottom",buttons:!1,autoSelectToday:0,title:null,language:"en",rangePicker:!1,onShow:function(){},onHide:function(){}},nm={id:null,override:!0},Fl=function(){function t(e,n,r){e===void 0&&(e=null),n===void 0&&(n=Me),r===void 0&&(r=nm),this._instanceId=r.id?r.id:e.id,this._datepickerEl=e,this._datepickerInstance=null,this._options=Ni(Ni({},Me),n),this._initialized=!1,this.init(),V.addInstance("Datepicker",this,this._instanceId,r.override)}return t.prototype.init=function(){this._datepickerEl&&!this._initialized&&(this._options.rangePicker?this._datepickerInstance=new Ps(this._datepickerEl,this._getDatepickerOptions(this._options)):this._datepickerInstance=new Qr(this._datepickerEl,this._getDatepickerOptions(this._options)),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1,this._datepickerInstance.destroy())},t.prototype.removeInstance=function(){this.destroy(),V.removeInstance("Datepicker",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getDatepickerInstance=function(){return this._datepickerInstance},t.prototype.getDate=function(){if(this._options.rangePicker&&this._datepickerInstance instanceof Ps)return this._datepickerInstance.getDates();if(!this._options.rangePicker&&this._datepickerInstance instanceof Qr)return this._datepickerInstance.getDate()},t.prototype.setDate=function(e){if(this._options.rangePicker&&this._datepickerInstance instanceof Ps)return this._datepickerInstance.setDates(e);if(!this._options.rangePicker&&this._datepickerInstance instanceof Qr)return this._datepickerInstance.setDate(e)},t.prototype.show=function(){this._datepickerInstance.show(),this._options.onShow(this)},t.prototype.hide=function(){this._datepickerInstance.hide(),this._options.onHide(this)},t.prototype._getDatepickerOptions=function(e){var n={};return e.buttons&&(n.todayBtn=!0,n.clearBtn=!0,e.autoSelectToday&&(n.todayBtnMode=1)),e.autohide&&(n.autohide=!0),e.format&&(n.format=e.format),e.maxDate&&(n.maxDate=e.maxDate),e.minDate&&(n.minDate=e.minDate),e.orientation&&(n.orientation=e.orientation),e.title&&(n.title=e.title),e.language&&(n.language=e.language),n},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t}();function Ba(){document.querySelectorAll("[datepicker], [inline-datepicker], [date-rangepicker]").forEach(function(t){if(t){var e=t.hasAttribute("datepicker-buttons"),n=t.hasAttribute("datepicker-autoselect-today"),r=t.hasAttribute("datepicker-autohide"),i=t.getAttribute("datepicker-format"),s=t.getAttribute("datepicker-max-date"),a=t.getAttribute("datepicker-min-date"),o=t.getAttribute("datepicker-orientation"),c=t.getAttribute("datepicker-title"),l=t.getAttribute("datepicker-language"),u=t.hasAttribute("date-rangepicker");new Fl(t,{buttons:e||Me.buttons,autoSelectToday:n||Me.autoSelectToday,autohide:r||Me.autohide,format:i||Me.format,maxDate:s||Me.maxDate,minDate:a||Me.minDate,orientation:o||Me.orientation,title:c||Me.title,language:l||Me.language,rangePicker:u||Me.rangePicker})}else console.error("The datepicker element does not exist. Please check the datepicker attribute.")})}typeof window<"u"&&(window.Datepicker=Fl,window.initDatepickers=Ba);function rm(){fa(),ha(),ma(),pa(),xa(),ka(),Aa(),Ea(),Sa(),Ca(),Ia(),Oa(),Da(),Ba()}typeof window<"u"&&(window.initFlowbite=rm);var im=new Yd("load",[fa,ha,ma,pa,xa,ka,Aa,Ea,Sa,Ca,Ia,Oa,Da,Ba]);im.init();var sm=Object.defineProperty,am=Object.defineProperties,om=Object.getOwnPropertyDescriptors,gc=Object.getOwnPropertySymbols,cm=Object.prototype.hasOwnProperty,lm=Object.prototype.propertyIsEnumerable,$l=t=>{throw TypeError(t)},vc=(t,e,n)=>e in t?sm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,De=(t,e)=>{for(var n in e||(e={}))cm.call(e,n)&&vc(t,n,e[n]);if(gc)for(var n of gc(e))lm.call(e,n)&&vc(t,n,e[n]);return t},gt=(t,e)=>am(t,om(e)),Va=(t,e,n)=>e.has(t)||$l("Cannot "+n),S=(t,e,n)=>(Va(t,e,"read from private field"),n?n.call(t):e.get(t)),ne=(t,e,n)=>e.has(t)?$l("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),J=(t,e,n,r)=>(Va(t,e,"write to private field"),e.set(t,n),n),ei=(t,e,n)=>(Va(t,e,"access private method"),n),me=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{o(n.next(c))}catch(l){i(l)}},a=c=>{try{o(n.throw(c))}catch(l){i(l)}},o=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,a);o((n=n.apply(t,e)).next())});function ti(t){const e=t.filter(n=>!!n);return e.reduce((n,r)=>{const i="output"in n?n.output:n,s="input"in r?r.input:r;return i.connect(s),r}),()=>{e.reduce((n,r)=>{const i="output"in n?n.output:n,s="input"in r?r.input:r;return i.disconnect(s),r})}}function um(t){let e=t;const n=new Set;function r(a){return n.add(a),a(e),()=>{n.delete(a)}}function i(a){e=a,n.forEach(o=>o(e))}function s(){return e}return{subscribe:r,set:i,get:s}}function dm(){const t=new Set;function e(r){return t.add(r),()=>{t.delete(r)}}function n(r){t.forEach(i=>i(r))}return{subscribe:e,trigger:n}}function fm(t){let e=!1;return()=>{e||(e=!0,t.forEach(n=>n==null?void 0:n()))}}function Bl(t){return t*t/16129}function hm(t){return Math.pow(10,t/20)}var Tt,ut,nn,rn,ni,Rt,Lt,Vl=class{constructor(t,e){this.context=t,ne(this,Tt),ne(this,ut),ne(this,nn),ne(this,rn),ne(this,ni),ne(this,Rt),ne(this,Lt,!1);var n,r,i;J(this,Rt,{destination:(n=e==null?void 0:e.destination)!=null?n:t.destination,volume:(r=e==null?void 0:e.volume)!=null?r:100,volumeToGain:(i=e==null?void 0:e.volumeToGain)!=null?i:Bl}),this.input=t.createGain(),J(this,Tt,t.createGain()),J(this,rn,ti([this.input,S(this,Tt),S(this,Rt).destination]));const s=um(S(this,Rt).volume);this.setVolume=s.set,J(this,ni,s.subscribe(a=>{S(this,Tt).gain.value=S(this,Rt).volumeToGain(a)}))}addInsert(t){var e;if(S(this,Lt))throw Error("Can't add insert to disconnected channel");(e=S(this,nn))!=null||J(this,nn,[]),S(this,nn).push(t),S(this,rn).call(this),J(this,rn,ti([this.input,...S(this,nn),S(this,Tt),S(this,Rt).destination]))}addEffect(t,e,n){var r;if(S(this,Lt))throw Error("Can't add effect to disconnected channel");const i=this.context.createGain();i.gain.value=n;const s="input"in e?e.input:e,a=ti([S(this,Tt),i,s]);(r=S(this,ut))!=null||J(this,ut,[]),S(this,ut).push({name:t,mix:i,disconnect:a})}sendEffect(t,e){var n;if(S(this,Lt))throw Error("Can't send effect to disconnected channel");const r=(n=S(this,ut))==null?void 0:n.find(i=>i.name===t);r?r.mix.gain.value=e:console.warn("Send bus not found: "+t)}disconnect(){var t;S(this,Lt)||(J(this,Lt,!0),S(this,rn).call(this),S(this,ni).call(this),(t=S(this,ut))==null||t.forEach(e=>e.disconnect()),J(this,ut,void 0))}};Tt=new WeakMap;ut=new WeakMap;nn=new WeakMap;rn=new WeakMap;ni=new WeakMap;Rt=new WeakMap;Lt=new WeakMap;var ge,mm=class{constructor(t){this.compare=t,ne(this,ge,[])}push(t){const e=S(this,ge).length;let n=0,r=e-1,i=e;for(;n<=r;){const s=Math.floor((n+r)/2);this.compare(t,S(this,ge)[s])<0?(i=s,r=s-1):n=s+1}S(this,ge).splice(i,0,t)}pop(){return S(this,ge).shift()}peek(){return S(this,ge)[0]}removeAll(t){const e=S(this,ge).length;return J(this,ge,S(this,ge).filter(n=>!t(n))),S(this,ge).length!==e}clear(){J(this,ge,[])}size(){return S(this,ge).length}};ge=new WeakMap;function yc(t,e){return t&&e?n=>{t(n),e(n)}:t??e}function pm(t){var e,n,r;const i={disableScheduler:(e=t.disableScheduler)!=null?e:!1,scheduleLookaheadMs:(n=t.scheduleLookaheadMs)!=null?n:200,scheduleIntervalMs:(r=t.scheduleIntervalMs)!=null?r:50,onStart:t.onStart,onEnded:t.onEnded};if(i.scheduleLookaheadMs<1)throw Error("scheduleLookaheadMs must be greater than 0");if(i.scheduleIntervalMs<1)throw Error("scheduleIntervalMs must be greater than 0");if(i.scheduleLookaheadMs<i.scheduleIntervalMs)throw Error("scheduleLookaheadMs must be greater than scheduleIntervalMs");return i}var Ye,Pe,Nt,Hl=class{constructor(t,e={}){ne(this,Ye),ne(this,Pe),ne(this,Nt),J(this,Ye,pm(e)),J(this,Pe,new mm((n,r)=>n.time-r.time)),this.player=t}get context(){return this.player.context}get buffers(){return this.player.buffers}get isRunning(){return S(this,Nt)!==void 0}start(t){var e;if(S(this,Ye).disableScheduler)return this.player.start(t);const n=this.player.context,r=n.currentTime,i=(e=t.time)!=null?e:r,s=S(this,Ye).scheduleLookaheadMs/1e3;return t.onStart=yc(t.onStart,S(this,Ye).onStart),t.onEnded=yc(t.onEnded,S(this,Ye).onEnded),i<r+s?this.player.start(t):(S(this,Pe).push(gt(De({},t),{time:i})),S(this,Nt)||J(this,Nt,setInterval(()=>{const a=n.currentTime+s;for(;S(this,Pe).size()&&S(this,Pe).peek().time<=a;){const o=S(this,Pe).pop();o&&this.player.start(o)}S(this,Pe).size()||(clearInterval(S(this,Nt)),J(this,Nt,void 0))},S(this,Ye).scheduleIntervalMs)),a=>{!a||a<i?S(this,Pe).removeAll(o=>o===t)||this.player.stop(gt(De({},t),{time:a})):this.player.stop(gt(De({},t),{time:a}))})}stop(t){var e;if(S(this,Ye).disableScheduler)return this.player.stop(t);if(this.player.stop(t),!t){S(this,Pe).clear();return}const n=(e=t==null?void 0:t.time)!=null?e:0,r=t==null?void 0:t.stopId;r?S(this,Pe).removeAll(i=>i.time>=n&&i.stopId?i.stopId===r:i.note===r):S(this,Pe).removeAll(i=>i.time>=n)}disconnect(){this.player.disconnect()}};Ye=new WeakMap;Pe=new WeakMap;Nt=new WeakMap;var Ln,sn,Nn,zl=class{constructor(t,e){this.context=t,this.options=e,ne(this,Ln),ne(this,sn,!1),ne(this,Nn);var n,r;J(this,Ln,{velocityToGain:(n=e.velocityToGain)!=null?n:Bl,destination:(r=e.destination)!=null?r:t.destination}),this.buffers={},J(this,Nn,dm())}start(t){var e,n,r,i,s,a,o,c,l,u,d,f,h,g;if(S(this,sn))throw new Error("Can't start a sample on disconnected player");const m=this.context,p=t.name&&this.buffers[t.name]||this.buffers[t.note];if(!p)return console.warn(`Sample not found: '${t.note}'`),()=>{};const x=m.createBufferSource();x.buffer=p;const _=(n=(e=t.detune)!=null?e:this.options.detune)!=null?n:0;x.detune?x.detune.value=_:x.playbackRate&&(x.playbackRate.value=Math.pow(2,_/1200));const k=(r=t.lpfCutoffHz)!=null?r:this.options.lpfCutoffHz,v=k?m.createBiquadFilter():void 0;k&&v&&(v.type="lowpass",v.frequency.value=k);const A=m.createGain(),w=(s=(i=t.velocity)!=null?i:this.options.velocity)!=null?s:100;A.gain.value=S(this,Ln).velocityToGain(w),((a=t.loop)!=null?a:this.options.loop)&&(x.loop=!0,x.loopStart=(o=t.loopStart)!=null?o:0,x.loopEnd=(c=t.loopEnd)!=null?c:p.duration);const N=(l=t.decayTime)!=null?l:this.options.decayTime,[O,E]=gm(m,N);function C(z){if(z??(z=m.currentTime),z<=W)x.stop(z);else{const At=E(z);x.stop(At)}}const U=t.gainOffset?m.createGain():void 0;U&&t.gainOffset&&(U.gain.value=t.gainOffset);const q=(u=t.stopId)!=null?u:t.note,re=fm([ti([x,v,A,O,U,S(this,Ln).destination]),(d=t.stop)==null?void 0:d.call(t,C),S(this,Nn).subscribe(z=>{(!z||z.stopId===void 0||z.stopId===q)&&C(z==null?void 0:z.time)})]);x.onended=()=>{var z;re(),(z=t.onEnded)==null||z.call(t,t)},(f=t.onStart)==null||f.call(t,t);const W=Math.max((h=t.time)!=null?h:0,m.currentTime);x.start(t.time);let K=(g=t.duration)!=null?g:p.duration;return typeof t.duration=="number"&&C(W+K),C}stop(t){S(this,Nn).trigger(t)}disconnect(){S(this,sn)||(J(this,sn,!0),this.stop(),Object.keys(this.buffers).forEach(t=>{delete this.buffers[t]}))}get connected(){return!S(this,sn)}};Ln=new WeakMap;sn=new WeakMap;Nn=new WeakMap;function gm(t,e=.2){let n=0;const r=t.createGain();r.gain.value=1;function i(s){if(n)return n;r.gain.cancelScheduledValues(s);const a=s||t.currentTime;return n=a+e,r.gain.setValueAtTime(1,a),r.gain.linearRampToValueAtTime(0,n),n}return[r,i]}var Ji=class{constructor(t,e){this.context=t;const n=new Vl(t,e);this.player=new Hl(new zl(t,gt(De({},e),{destination:n.input})),e),this.output=n}get buffers(){return this.player.buffers}start(t){return this.player.start(t)}stop(t){this.player.stop(typeof t=="object"?t:t!==void 0?{stopId:t}:void 0)}disconnect(){this.output.disconnect(),this.player.disconnect()}};function Ha(t,e,n){return me(this,null,function*(){e=e.replace(/#/g,"%23").replace(/([^:]\/)\/+/g,"$1");const r=yield n.fetch(e);if(r.status!==200){console.warn("Error loading buffer. Invalid status: ",r.status,e);return}try{const i=yield r.arrayBuffer();return yield t.decodeAudioData(i)}catch(i){console.warn("Error loading buffer",i,e)}})}function Ki(t){if(typeof document>"u")return null;const e=document.createElement("audio");for(let n=0;n<t.length;n++){const r=t[n],i=e.canPlayType(`audio/${r}`);if(i==="probably"||i==="maybe")return r;if(r==="m4a"){const s=e.canPlayType("audio/aac");if(s==="probably"||s==="maybe")return r}}return null}function vm(){var t;return"."+((t=Ki(["ogg","m4a"]))!=null?t:"ogg")}var kr={fetch(t){return fetch(t)}};function Wl(t){return typeof t=="object"&&typeof t.baseUrl=="string"&&typeof t.name=="string"&&Array.isArray(t.samples)&&Array.isArray(t.groupNames)&&typeof t.nameToSampleName=="object"&&typeof t.sampleGroupVariations=="object"}var ym={baseUrl:"",name:"",samples:[],groupNames:[],nameToSampleName:{},sampleGroupVariations:{}};function _m(t,e){return me(this,null,function*(){var n,r,i,s;const o=yield(yield e.fetch(t)).json();o.baseUrl=t.replace("/dm.json",""),o.groupNames=[],o.nameToSampleName={},o.sampleGroupVariations={};for(const c of o.samples){o.nameToSampleName[c]=c;const l=c.indexOf("/")!==-1?"/":"-",[u,d]=c.split(l);o.groupNames.includes(u)||o.groupNames.push(u),(r=(n=o.nameToSampleName)[u])!=null||(n[u]=c),(s=(i=o.sampleGroupVariations)[u])!=null||(i[u]=[]),d&&o.sampleGroupVariations[u].push(`${u}${l}${d}`)}return o})}function u_(){return Object.keys(Ul)}var Ul={"TR-808":"https://smpldsnds.github.io/drum-machines/TR-808/dm.json","Casio-RZ1":"https://smpldsnds.github.io/drum-machines/Casio-RZ1/dm.json","LM-2":"https://smpldsnds.github.io/drum-machines/LM-2/dm.json","MFB-512":"https://smpldsnds.github.io/drum-machines/MFB-512/dm.json","Roland CR-8000":"https://smpldsnds.github.io/drum-machines/Roland-CR-8000/dm.json"};function bm(t){var e,n,r;const i={instrument:(e=t==null?void 0:t.instrument)!=null?e:"TR-808",storage:(n=t==null?void 0:t.storage)!=null?n:kr,url:(r=t==null?void 0:t.url)!=null?r:""};if(typeof i.instrument=="string"){if(i.url||(i.url=Ul[i.instrument]),!i.url)throw new Error("Invalid instrument: "+i.instrument)}else if(!Wl(i.instrument))throw new Error("Invalid instrument: "+i.instrument);return i}var Je,d_=class{constructor(t,e){ne(this,Je,ym);const n=bm(e),r=Wl(n.instrument)?Promise.resolve(n.instrument):_m(n.url,n.storage);this.player=new Ji(t,e),this.output=this.player.output,this.load=wm(t,this.player.buffers,r,n.storage).then(()=>this),r.then(i=>{J(this,Je,i)})}getSampleNames(){return S(this,Je).samples.slice()}getGroupNames(){return S(this,Je).groupNames.slice()}getSampleNamesForGroup(t){var e;return(e=S(this,Je).sampleGroupVariations[t])!=null?e:[]}start(t){var e;const n=S(this,Je).nameToSampleName[t.note];return this.player.start(gt(De({},t),{note:n||t.note,stopId:(e=t.stopId)!=null?e:t.note}))}stop(t){return this.player.stop(t)}loaded(){return me(this,null,function*(){return console.warn("deprecated: use load instead"),this.load})}get sampleNames(){return console.log("deprecated: Use getGroupNames instead"),S(this,Je).groupNames.slice()}getVariations(t){var e;return console.warn("deprecated: use getSampleNamesForGroup"),(e=S(this,Je).sampleGroupVariations[t])!=null?e:[]}};Je=new WeakMap;function wm(t,e,n,r){var i;const s=(i=Ki(["ogg","m4a"]))!=null?i:"ogg";return n.then(a=>Promise.all(a.samples.map(o=>me(this,null,function*(){const c=`${a.baseUrl}/${o}.${s}`,l=yield Ha(t,c,r);l&&(e[o]=l)}))))}function Pm(t){const n=/^([a-gA-G]?)(#{1,}|b{1,}|)(-?\d+)$/.exec(t);if(!n)return;const r=n[1].toUpperCase();if(!r)return;const i=n[2],s=i[0]==="b"?-i.length:i.length,a=n[3]?+n[3]:4,o=(r.charCodeAt(0)+3)%7;return[0,2,4,5,7,9,11][o]+s+12*(a+1)}function it(t){return t===void 0?void 0:typeof t=="number"?t:Pm(t)}function Mm(t={}){return{groups:[],options:t}}function za(){return{regions:[]}}function Zl(t,e,n,r){const i=[],s=it(e.note);if(s===void 0)return i;for(const a of t.regions){const o=ql(s,n??0,e,a,r);o&&i.push(o)}return i}function xm(t,e,n,r){const i=it(e.note);if(i!==void 0)for(const s of t.regions){const a=ql(i,0,e,s,r);if(a)return a}}function ql(t,e,n,r,i){var s,a,o,c,l,u,d,f,h,g,m,p,x,_,k,v,A,w,P,N,O,E,C,U,q,re,W,K;if(!(t>=((s=r.midiLow)!=null?s:0)&&t<((a=r.midiHigh)!=null?a:127)+1)||!(n.velocity===void 0||n.velocity>=((o=r.velLow)!=null?o:0)&&n.velocity<=((c=r.velHigh)!=null?c:127)))return;if(r.seqLength){const at=e%r.seqLength,Ne=((l=r.seqPosition)!=null?l:1)-1;if(at!==Ne)return}const Ge=t-r.midiPitch,Et=(u=n.velocity)!=null?u:i==null?void 0:i.velocity,In=r.volume?hm(r.volume):0,St=(f=(d=n.gainOffset)!=null?d:void 0)!=null?f:0,Jt=(h=n.detune)!=null?h:0;return{decayTime:(p=(m=n==null?void 0:n.decayTime)!=null?m:(g=r.sample)==null?void 0:g.decayTime)!=null?p:i==null?void 0:i.decayTime,detune:100*(Ge+((x=r.tune)!=null?x:0))+Jt,duration:(v=(k=n==null?void 0:n.duration)!=null?k:(_=r.sample)==null?void 0:_.duration)!=null?v:i==null?void 0:i.duration,gainOffset:St+In||void 0,loop:(P=(w=n==null?void 0:n.loop)!=null?w:(A=r.sample)==null?void 0:A.loop)!=null?P:i==null?void 0:i.loop,loopEnd:(E=(O=n==null?void 0:n.loopEnd)!=null?O:(N=r.sample)==null?void 0:N.loopEnd)!=null?E:i==null?void 0:i.loopEnd,loopStart:(q=(U=n==null?void 0:n.loopStart)!=null?U:(C=r.sample)==null?void 0:C.loopStart)!=null?q:i==null?void 0:i.loopStart,lpfCutoffHz:(K=(W=n==null?void 0:n.lpfCutoffHz)!=null?W:(re=r.sample)==null?void 0:re.lpfCutoffHz)!=null?K:i==null?void 0:i.lpfCutoffHz,name:r.sampleName,note:t,onEnded:n.onEnded,onStart:n.onStart,stopId:n.name,time:n.time,velocity:Et??void 0}}function km(t){if(t.length===0)return[];if(t.sort((e,n)=>e.midiPitch-n.midiPitch),t[0].midiLow=0,t[0].midiHigh=127,t.length===1)return t;for(let e=1;e<t.length;e++){const n=t[e-1],r=t[e],i=Math.floor((n.midiPitch+r.midiPitch)/2);n.midiHigh=i,r.midiLow=i+1}return t[t.length-1].midiHigh=127,t}var Am=class{constructor(t,e){this.context=t,this.seqNum=0;const n=new Vl(t,e);this.instrument=Mm(e),this.player=new Hl(new zl(t,gt(De({},e),{destination:n.input})),e),this.output=n}get buffers(){return this.player.buffers}start(t){const e=[],n=typeof t=="object"?t:{note:t};for(const r of this.instrument.groups){const i=Zl(r,n,this.seqNum);this.seqNum++;for(const s of i){let a=this.player.start(s);e.push(a)}}return r=>e.forEach(i=>i(r))}stop(t){if(t==null){this.player.stop();return}const e=typeof t=="object"?t:{stopId:t},n=it(e.stopId);n&&(e.stopId=n,this.player.stop(e))}disconnect(){this.output.disconnect(),this.player.disconnect()}};function Gl(t,e){const n=vm();return(r,i)=>me(this,null,function*(){const s=yield fetch(t).then(c=>c.text()),a=Em(s,e.group);a.length&&console.warn("Problems converting sfz",a);const o=new Set;return e.group.regions.forEach(c=>o.add(c.sampleName)),Promise.all(Array.from(o).map(c=>me(this,null,function*(){const l=e.urlFromSampleName(c,n),u=yield Ha(r,l,i);e.buffers[c]=u}))).then(()=>e.group)})}function Em(t,e){let n="global";const r=t.split(`
`).map(Dm).filter(a=>!!a),i=new Tm;let s=[];for(const a of r)switch(a.type){case"mode":s.push(i.closeScope(n,e)),n=a.value;break;case"prop:num":case"prop:str":case"prop:num_arr":i.push(a.key,a.value);break;case"unknown":console.warn("Unknown SFZ token",a.value);break}return s.filter(a=>!!a)}var Sm=/^<([^>]+)>$/,Cm=/^([^=]+)=([-\.\d]+)$/,Im=/^([^=]+)=(.+)$/,Om=/^([^=]+)_(\d+)=(\d+)$/;function Dm(t){if(t=t.trim(),t===""||t.startsWith("//"))return;const e=t.match(Sm);if(e)return{type:"mode",value:e[1]};const n=t.match(Om);if(n)return{type:"prop:num_arr",key:n[1],value:[Number(n[2]),Number(n[3])]};const r=t.match(Cm);if(r)return{type:"prop:num",key:r[1],value:Number(r[2])};const i=t.match(Im);return i?{type:"prop:str",key:i[1],value:i[2]}:{type:"unknown",value:t}}var jn,ri,Tm=class{constructor(){ne(this,jn),this.values={},this.global={},this.group={}}closeScope(t,e){if(t==="global")ei(this,jn,ri).call(this,this.global);else if(t==="group")this.group=ei(this,jn,ri).call(this,{});else if(t==="region"){const n=ei(this,jn,ri).call(this,De(De({sampleName:"",midiPitch:-1},this.global),this.group));if(n.sampleName==="")return"Missing sample name";if(n.midiPitch===-1)if(n.midiLow!==void 0)n.midiPitch=n.midiLow;else return"Missing pitch_keycenter";n.seqLength&&n.seqPosition===void 0&&(n.seqPosition=1),n.ampRelease&&(n.sample={decayTime:n.ampRelease},delete n.ampRelease),e.regions.push(n)}}get empty(){return Object.keys(this.values).length===0}get keys(){return Object.keys(this.values)}push(t,e){this.values[t]=e}popNum(t,e,n){return typeof this.values[t]!="number"?!1:(e[n]=this.values[t],delete this.values[t],!0)}popStr(t,e,n){return typeof this.values[t]!="string"?!1:(e[n]=this.values[t],delete this.values[t],!0)}popNumArr(t,e,n){return Array.isArray(this.values[t])?(e[n]=this.values[t],delete this.values[t],!0):!1}};jn=new WeakSet;ri=function(t){return this.popStr("sample",t,"sampleName"),this.popNum("pitch_keycenter",t,"midiPitch"),this.popNum("ampeg_attack",t,"ampAttack"),this.popNum("ampeg_release",t,"ampRelease"),this.popNum("bend_down",t,"bendDown"),this.popNum("bend_up",t,"bendUp"),this.popNum("group",t,"group"),this.popNum("hikey",t,"midiHigh"),this.popNum("hivel",t,"velHigh"),this.popNum("lokey",t,"midiLow"),this.popNum("offset",t,"offset"),this.popNum("lovel",t,"velLow"),this.popNum("off_by",t,"groupOffBy"),this.popNum("pitch_keytrack",t,"ignore"),this.popNum("seq_length",t,"seqLength"),this.popNum("seq_position",t,"seqPosition"),this.popNum("tune",t,"tune"),this.popNum("volume",t,"volume"),this.popNumArr("amp_velcurve",t,"ampVelCurve"),this.values={},t};var Rm="https://smpldsnds.github.io/sgossner-vcsl/";function Lm(t){return Rm+t+".sfz"}function Nm(t,e){const n=Lm(t),i=`https://smpldsnds.github.io/sgossner-vcsl/${t.slice(0,t.lastIndexOf("/")+1)}`,s=za();return Gl(n,{buffers:e,group:s,urlFromSampleName:(a,o)=>i+"/"+a.replace(".wav",o)})}var jm=class{constructor(t,e={}){var n,r;this.config={instrument:(n=e.instrument)!=null?n:"Arco",storage:(r=e.storage)!=null?r:kr},this.player=new Am(t,e);const i=Nm(this.config.instrument,this.player.buffers);this.load=i(t,this.config.storage).then(s=>(this.player.instrument.groups.push(s),this))}get output(){return this.player.output}get buffers(){return this.player.buffers}get context(){return this.player.context}start(t){return this.player.start(t)}stop(t){return this.player.stop(t)}disconnect(){this.player.disconnect()}};function f_(){return Object.keys(Xl)}var h_=class extends jm{constructor(t,e){var n;super(t,gt(De({},e),{instrument:Xl[(n=e.instrument)!=null?n:""]}))}},Xl={"Balafon - Hard Mallet":"Idiophones/Struck Idiophones/Balafon - Hard Mallet","Balafon - Keyswitch":"Idiophones/Struck Idiophones/Balafon - Keyswitch","Balafon - Soft Mallet":"Idiophones/Struck Idiophones/Balafon - Soft Mallet","Balafon - Traditional Mallet":"Idiophones/Struck Idiophones/Balafon - Traditional Mallet","Tubular Bells 1":"Idiophones/Struck Idiophones/Tubular Bells 1","Tubular Bells 2":"Idiophones/Struck Idiophones/Tubular Bells 2","Vibraphone - Bowed":"Idiophones/Struck Idiophones/Vibraphone - Bowed","Vibraphone - Hard Mallets":"Idiophones/Struck Idiophones/Vibraphone - Hard Mallets","Vibraphone - Keyswitch":"Idiophones/Struck Idiophones/Vibraphone - Keyswitch","Vibraphone - Soft Mallets":"Idiophones/Struck Idiophones/Vibraphone - Soft Mallets","Xylophone - Hard Mallets":"Idiophones/Struck Idiophones/Xylophone - Hard Mallets","Xylophone - Keyswitch":"Idiophones/Struck Idiophones/Xylophone - Keyswitch","Xylophone - Medium Mallets":"Idiophones/Struck Idiophones/Xylophone - Medium Mallets","Xylophone - Soft Mallets":"Idiophones/Struck Idiophones/Xylophone - Soft Mallets"};function m_(){return["Pizzicato","Arco","Switched"]}function Fm(t){return`https://smpldsnds.github.io/sfzinstruments-dsmolken-double-bass/d_smolken_rubner_bass_${{Arco:"arco",Pizzicato:"pizz",Switched:"switched"}[t]}.sfz`}var p_=class{constructor(t,e={}){this.seqNum=0;var n,r;this.config={instrument:(n=e.instrument)!=null?n:"Arco",storage:(r=e.storage)!=null?r:kr},this.player=new Ji(t,e),this.group=za();const i=Fm(this.config.instrument),s=Gl(i,{buffers:this.player.buffers,group:this.group,urlFromSampleName:(a,o)=>`https://smpldsnds.github.io/sfzinstruments-dsmolken-double-bass/${a.replace("\\","/").replace(".wav",o)}`});this.load=s(t,this.config.storage).then(()=>this)}get output(){return this.player.output}get buffers(){return this.player.buffers}get context(){return this.player.context}start(t){const e=Zl(this.group,typeof t=="object"?t:{note:t},this.seqNum);this.seqNum++;const n=e.map(r=>this.player.start(r));return r=>n.forEach(i=>i(r))}stop(t){if(t==null){this.player.stop();return}const e=typeof t=="object"?t:{stopId:t},n=it(e.stopId);n&&(e.stopId=n,this.player.stop(e))}disconnect(){this.player.disconnect()}};function $m(t,e){var n;const r=(n=Ki(["ogg","mp3"]))!=null?n:"mp3";return`https://gleitz.github.io/midi-js-soundfonts/${e}/${t}-${r}.js`}function Bm(t,e,n){return(r,i)=>me(this,null,function*(){const s=yield(yield i.fetch(t)).text(),a=Vm(s),o=Object.keys(a);yield Promise.all(o.map(c=>me(this,null,function*(){const l=it(c);if(!l)return;const u=zm(Hm(a[c])),d=yield r.decodeAudioData(u);e[c]=d,n.regions.push({sampleName:c,midiPitch:l})}))),km(n.regions)})}function Vm(t){const e=t.indexOf("MIDI.Soundfont.");if(e<0)throw Error("Invalid MIDI.js Soundfont format");const n=t.indexOf("=",e)+2,r=t.lastIndexOf(",");return JSON.parse(t.slice(n,r)+"}")}function Hm(t){return t.slice(t.indexOf(",")+1)}function zm(t){const e=window.atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return r.buffer}var Wm=["MusyngKite","FluidR3_GM"],Um=["accordion","acoustic_bass","acoustic_grand_piano","acoustic_guitar_nylon","acoustic_guitar_steel","agogo","alto_sax","applause","bagpipe","banjo","baritone_sax","bassoon","bird_tweet","blown_bottle","brass_section","breath_noise","bright_acoustic_piano","celesta","cello","choir_aahs","church_organ","clarinet","clavinet","contrabass","distortion_guitar","drawbar_organ","dulcimer","electric_bass_finger","electric_bass_pick","electric_grand_piano","electric_guitar_clean","electric_guitar_jazz","electric_guitar_muted","electric_piano_1","electric_piano_2","english_horn","fiddle","flute","french_horn","fretless_bass","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","glockenspiel","guitar_fret_noise","guitar_harmonics","gunshot","harmonica","harpsichord","helicopter","honkytonk_piano","kalimba","koto","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass__lead","marimba","melodic_tom","music_box","muted_trumpet","oboe","ocarina","orchestra_hit","orchestral_harp","overdriven_guitar","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","pan_flute","percussive_organ","piccolo","pizzicato_strings","recorder","reed_organ","reverse_cymbal","rock_organ","seashore","shakuhachi","shamisen","shanai","sitar","slap_bass_1","slap_bass_2","soprano_sax","steel_drums","string_ensemble_1","string_ensemble_2","synth_bass_1","synth_bass_2","synth_brass_1","synth_brass_2","synth_choir","synth_drum","synth_strings_1","synth_strings_2","taiko_drum","tango_accordion","telephone_ring","tenor_sax","timpani","tinkle_bell","tremolo_strings","trombone","trumpet","tuba","tubular_bells","vibraphone","viola","violin","voice_oohs","whistle","woodblock","xylophone"];function Zm(t,e){if(!t.startsWith("http"))return`https://goldst.dev/midi-js-soundfonts/${e}/${t}-loop.json`}function qm(t,e=44100){return me(this,null,function*(){if(t)try{const n=yield fetch(t);if(n.status!==200)return;const r=yield n.json(),i={};return Object.keys(r).forEach(s=>{const a=it(s);if(a){const o=r[s];i[a]=[o[0]/e,o[1]/e]}}),i}catch{return}})}function g_(){return Wm}function v_(){return Um}var Fn,y_=class{constructor(t,e){this.context=t,ne(this,Fn),this.config=Xm(e),this.player=new Ji(t,e),this.group=za(),J(this,Fn,!1);const n=Gm(this.config.instrumentUrl,this.config.loopDataUrl,this.player.buffers,this.group);this.load=n(t,this.config.storage).then(i=>(J(this,Fn,i),this));const r=t.createGain();r.gain.value=this.config.extraGain,this.player.output.addInsert(r)}get output(){return this.player.output}get hasLoops(){return S(this,Fn)}loaded(){return me(this,null,function*(){return console.warn("deprecated: use load instead"),this.load})}disconnect(){this.player.disconnect()}start(t){const e=xm(this.group,typeof t=="object"?t:{note:t});return e?this.player.start(e):()=>{}}stop(t){return this.player.stop(t)}};Fn=new WeakMap;function Gm(t,e,n,r){const i=Bm(t,n,r);return(s,a)=>me(this,null,function*(){const[o,c]=yield Promise.all([i(s,a),qm(e)]);return c&&r.regions.forEach(l=>{var u;const d=c[l.midiPitch];d&&((u=l.sample)!=null||(l.sample={}),l.sample.loop=!0,l.sample.loopStart=d[0],l.sample.loopEnd=d[1])}),!!c})}function Xm(t){var e,n,r,i;if(!t.instrument&&!t.instrumentUrl)throw Error("Soundfont: instrument or instrumentUrl is required");const s={kit:"MusyngKite",instrument:t.instrument,storage:(e=t.storage)!=null?e:kr,extraGain:(n=t.extraGain)!=null?n:5,loadLoopData:(r=t.loadLoopData)!=null?r:!1,loopDataUrl:t.loopDataUrl,instrumentUrl:(i=t.instrumentUrl)!=null?i:""};if(s.instrument&&s.instrument.startsWith("http")&&(console.warn("Use 'instrumentUrl' instead of 'instrument' to load from a URL"),s.instrumentUrl=s.instrument,s.instrument=void 0),s.instrumentUrl)(s.kit||s.instrument)&&console.warn("Soundfont: 'kit' and 'instrument' config parameters are ignored because 'instrumentUrl' is explicitly set.");else if(s.instrument)s.instrumentUrl=$m(s.instrument,s.kit);else throw Error("Soundfont: 'instrument' or 'instrumentUrl' configuration parameter is required");return s.loadLoopData&&s.instrument&&!s.loopDataUrl&&(s.loopDataUrl=Zm(s.instrument,s.kit)),s}var Ym="https://danigb.github.io/samples/splendid-grand-piano",zs,Yl,__=class{constructor(t,e){this.context=t,ne(this,zs),this.options=Object.assign({baseUrl:Ym,storage:kr,detune:0,volume:100,velocity:100,decayTime:.5},e),this.player=new Ji(t,this.options);const n=Km(this.options.baseUrl,this.options.storage,this.options.notesToLoad);this.load=n(t,this.player.buffers).then(()=>this)}get output(){return this.player.output}get buffers(){return this.player.buffers}loaded(){return me(this,null,function*(){return console.warn("deprecated: use load instead"),this.load})}start(t){var e,n;const r=typeof t=="object"?De({},t):{note:t},i=ei(this,zs,Yl).call(this,r);return i?(r.note=i[0],r.stopId=(e=r.stopId)!=null?e:i[1],r.detune=i[2]+((n=r.detune)!=null?n:this.options.detune),this.player.start(r)):()=>{}}stop(t){var e;if(typeof t=="string")return this.player.stop((e=it(t))!=null?e:t);if(typeof t=="object"){const n=it(t.stopId);return this.player.stop(n!==void 0?gt(De({},t),{stopId:n}):t)}else return this.player.stop(t)}};zs=new WeakSet;Yl=function(t){var e;const n=it(t.note);if(!n)return;const r=(e=t.velocity)!=null?e:this.options.velocity,i=ji.findIndex(a=>r>=a.vel_range[0]&&r<=a.vel_range[1]),s=ji[i];if(s)return Jm(s.name,n,this.player.buffers)};function Jm(t,e,n){let r=0;for(;n[t+(e+r)]===void 0&&r<128;)r>0?r=-r:r=-r+1;return r===127?[t+e,e,0]:[t+(e+r),e,-r*100]}function Km(t,e,n){var r;const i=(r=Ki(["ogg","m4a"]))!=null?r:"ogg";let s=n?ji.filter(a=>a.vel_range[0]<=n.velocityRange[1]&&a.vel_range[1]>=n.velocityRange[0]):ji;return(a,o)=>me(this,null,function*(){for(const c of s){const l=n?c.samples.filter(u=>n.notes.includes(u[0])):c.samples;yield Promise.all(l.map(u=>me(this,[u],function*([d,f]){const h=`${t}/${f}.${i}`,g=yield Ha(a,h,e);g&&(o[c.name+d]=g)})))}})}var ji=[{name:"PPP",vel_range:[1,40],cutoff:1e3,samples:[[23,"PP-B-1"],[27,"PP-D#0"],[29,"PP-F0"],[31,"PP-G0"],[33,"PP-A0"],[35,"PP-B0"],[37,"PP-C#1"],[38,"PP-D1"],[40,"PP-E1"],[41,"PP-F1"],[43,"PP-G1"],[45,"PP-A1"],[47,"PP-B1"],[48,"PP-C2"],[50,"PP-D2"],[52,"PP-E2"],[53,"PP-F2"],[55,"PP-G2"],[56,"PP-G#2"],[57,"PP-A2"],[58,"PP-A#2"],[59,"PP-B2"],[60,"PP-C3"],[62,"PP-D3"],[64,"PP-E3"],[65,"PP-F3"],[67,"PP-G3"],[69,"PP-A3"],[71,"PP-B3"],[72,"PP-C4"],[74,"PP-D4"],[76,"PP-E4"],[77,"PP-F4"],[79,"PP-G4"],[80,"PP-G#4"],[81,"PP-A4"],[82,"PP-A#4"],[83,"PP-B4"],[85,"PP-C#5"],[86,"PP-D5"],[87,"PP-D#5"],[89,"PP-F5"],[90,"PP-F#5"],[91,"PP-G5"],[92,"PP-G#5"],[93,"PP-A5"],[94,"PP-A#5"],[95,"PP-B5"],[96,"PP-C6"],[97,"PP-C#6"],[98,"PP-D6"],[99,"PP-D#6"],[100,"PP-E6"],[101,"PP-F6"],[102,"PP-F#6"],[103,"PP-G6"],[104,"PP-G#6"],[105,"PP-A6"],[106,"PP-A#6"],[107,"PP-B6"],[108,"PP-C7"]]},{name:"PP",vel_range:[41,67],samples:[[23,"PP-B-1"],[27,"PP-D#0"],[29,"PP-F0"],[31,"PP-G0"],[33,"PP-A0"],[35,"PP-B0"],[37,"PP-C#1"],[38,"PP-D1"],[40,"PP-E1"],[41,"PP-F1"],[43,"PP-G1"],[45,"PP-A1"],[47,"PP-B1"],[48,"PP-C2"],[50,"PP-D2"],[52,"PP-E2"],[53,"PP-F2"],[55,"PP-G2"],[56,"PP-G#2"],[57,"PP-A2"],[58,"PP-A#2"],[59,"PP-B2"],[60,"PP-C3"],[62,"PP-D3"],[64,"PP-E3"],[65,"PP-F3"],[67,"PP-G3"],[69,"PP-A3"],[71,"PP-B3"],[72,"PP-C4"],[74,"PP-D4"],[76,"PP-E4"],[77,"PP-F4"],[79,"PP-G4"],[80,"PP-G#4"],[81,"PP-A4"],[82,"PP-A#4"],[83,"PP-B4"],[85,"PP-C#5"],[86,"PP-D5"],[87,"PP-D#5"],[89,"PP-F5"],[90,"PP-F#5"],[91,"PP-G5"],[92,"PP-G#5"],[93,"PP-A5"],[94,"PP-A#5"],[95,"PP-B5"],[96,"PP-C6"],[97,"PP-C#6"],[98,"PP-D6"],[99,"PP-D#6"],[100,"PP-E6"],[101,"PP-F6"],[102,"PP-F#6"],[103,"PP-G6"],[104,"PP-G#6"],[105,"PP-A6"],[106,"PP-A#6"],[107,"PP-B6"],[108,"PP-C7"]]},{name:"MP",vel_range:[68,84],samples:[[23,"Mp-B-1"],[27,"Mp-D#0"],[29,"Mp-F0"],[31,"Mp-G0"],[33,"Mp-A0"],[35,"Mp-B0"],[37,"Mp-C#1"],[38,"Mp-D1"],[40,"Mp-E1"],[41,"Mp-F1"],[43,"Mp-G1"],[45,"Mp-A1"],[47,"Mp-B1"],[48,"Mp-C2"],[50,"Mp-D2"],[52,"Mp-E2"],[53,"Mp-F2"],[55,"Mp-G2"],[56,"Mp-G#2"],[57,"Mp-A2"],[58,"Mp-A#2"],[59,"Mp-B2"],[60,"Mp-C3"],[62,"Mp-D3"],[64,"Mp-E3"],[65,"Mp-F3"],[67,"Mp-G3"],[69,"Mp-A3"],[71,"Mp-B3"],[72,"Mp-C4"],[74,"Mp-D4"],[76,"Mp-E4"],[77,"Mp-F4"],[79,"Mp-G4"],[80,"Mp-G#4"],[81,"Mp-A4"],[82,"Mp-A#4"],[83,"Mp-B4"],[85,"Mp-C#5"],[86,"Mp-D5"],[87,"Mp-D#5"],[88,"Mp-E5"],[89,"Mp-F5"],[90,"Mp-F#5"],[91,"Mp-G5"],[92,"Mp-G#5"],[93,"Mp-A5"],[94,"Mp-A#5"],[95,"Mp-B5"],[96,"Mp-C6"],[97,"Mp-C#6"],[98,"Mp-D6"],[99,"Mp-D#6"],[100,"PP-E6"],[101,"Mp-F6"],[102,"Mp-F#6"],[103,"Mp-G6"],[104,"Mp-G#6"],[105,"Mp-A6"],[106,"Mp-A#6"],[107,"PP-B6"],[108,"PP-C7"]]},{name:"MF",vel_range:[85,100],samples:[[23,"Mf-B-1"],[27,"Mf-D#0"],[29,"Mf-F0"],[31,"Mf-G0"],[33,"Mf-A0"],[35,"Mf-B0"],[37,"Mf-C#1"],[38,"Mf-D1"],[40,"Mf-E1"],[41,"Mf-F1"],[43,"Mf-G1"],[45,"Mf-A1"],[47,"Mf-B1"],[48,"Mf-C2"],[50,"Mf-D2"],[52,"Mf-E2"],[53,"Mf-F2"],[55,"Mf-G2"],[56,"Mf-G#2"],[57,"Mf-A2"],[58,"Mf-A#2"],[59,"Mf-B2"],[60,"Mf-C3"],[62,"Mf-D3"],[64,"Mf-E3"],[65,"Mf-F3"],[67,"Mf-G3"],[69,"Mf-A3"],[71,"Mf-B3"],[72,"Mf-C4"],[74,"Mf-D4"],[76,"Mf-E4"],[77,"Mf-F4"],[79,"Mf-G4"],[80,"Mf-G#4"],[81,"Mf-A4"],[82,"Mf-A#4"],[83,"Mf-B4"],[85,"Mf-C#5"],[86,"Mf-D5"],[87,"Mf-D#5"],[88,"Mf-E5"],[89,"Mf-F5"],[90,"Mf-F#5"],[91,"Mf-G5"],[92,"Mf-G#5"],[93,"Mf-A5"],[94,"Mf-A#5"],[95,"Mf-B5"],[96,"Mf-C6"],[97,"Mf-C#6"],[98,"Mf-D6"],[99,"Mf-D#6"],[100,"Mf-E6"],[101,"Mf-F6"],[102,"Mf-F#6"],[103,"Mf-G6"],[104,"Mf-G#6"],[105,"Mf-A6"],[106,"Mf-A#6"],[107,"Mf-B6"],[108,"PP-C7"]]},{name:"FF",vel_range:[101,127],samples:[[23,"FF-B-1"],[27,"FF-D#0"],[29,"FF-F0"],[31,"FF-G0"],[33,"FF-A0"],[35,"FF-B0"],[37,"FF-C#1"],[38,"FF-D1"],[40,"FF-E1"],[41,"FF-F1"],[43,"FF-G1"],[45,"FF-A1"],[47,"FF-B1"],[48,"FF-C2"],[50,"FF-D2"],[52,"FF-E2"],[53,"FF-F2"],[55,"FF-G2"],[56,"FF-G#2"],[57,"FF-A2"],[58,"FF-A#2"],[59,"FF-B2"],[60,"FF-C3"],[62,"FF-D3"],[64,"FF-E3"],[65,"FF-F3"],[67,"FF-G3"],[69,"FF-A3"],[71,"FF-B3"],[72,"FF-C4"],[74,"FF-D4"],[76,"FF-E4"],[77,"FF-F4"],[79,"FF-G4"],[80,"FF-G#4"],[81,"FF-A4"],[82,"FF-A#4"],[83,"FF-B4"],[85,"FF-C#5"],[86,"FF-D5"],[88,"FF-E5"],[89,"FF-F5"],[91,"FF-G5"],[93,"FF-A5"],[95,"Mf-B5"],[96,"Mf-C6"],[97,"Mf-C#6"],[98,"Mf-D6"],[99,"Mf-D#6"],[100,"Mf-E6"],[102,"Mf-F#6"],[103,"Mf-G6"],[104,"Mf-G#6"],[105,"Mf-A6"],[106,"Mf-A#6"],[107,"Mf-B6"],[108,"Mf-C7"]]}];function Qm(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function ep(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"&&!isNaN(t.step)&&!isNaN(t.alt)}var Jl=[0,2,4,-1,1,3,5],tp=Jl.map(t=>Math.floor(t*7/12));function np(t){const{step:e,alt:n,oct:r,dir:i=1}=t,s=Jl[e]+7*n;if(r===void 0)return[i*s];const a=r-tp[e]-4*n;return[i*s,i*a]}var _c=(t,e)=>Array(Math.abs(e)+1).join(t),Ws=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),rp="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",ip="(AA|A|P|M|m|d|dd)([-+]?\\d+)",sp=new RegExp("^"+rp+"|"+ip+"$");function ap(t){const e=sp.exec(`${t}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var bc={};function Us(t){return typeof t=="string"?bc[t]||(bc[t]=op(t)):ep(t)?Us(lp(t)):Qm(t)?Us(t.name):Ws}var wc=[0,2,4,5,7,9,11],Kl="PMMPPMM";function op(t){const e=ap(t);if(e[0]==="")return Ws;const n=+e[0],r=e[1],i=(Math.abs(n)-1)%7,s=Kl[i];if(s==="M"&&r==="P")return Ws;const a=s==="M"?"majorable":"perfectable",o=""+n+r,c=n<0?-1:1,l=n===8||n===-8?n:c*(i+1),u=cp(a,r),d=Math.floor((Math.abs(n)-1)/7),f=c*(wc[i]+u+12*d),h=(c*(wc[i]+u)%12+12)%12,g=np({step:i,alt:u,oct:d,dir:c});return{empty:!1,name:o,num:n,q:r,step:i,alt:u,dir:c,type:a,simple:l,semitones:f,chroma:h,coord:g,oct:d}}function cp(t,e){return e==="M"&&t==="majorable"||e==="P"&&t==="perfectable"?0:e==="m"&&t==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(t==="perfectable"?e.length:e.length+1):0}function lp(t){const{step:e,alt:n,oct:r=0,dir:i}=t;if(!i)return"";const s=e+1+7*r,a=s===0?e+1:s,o=i<0?"-":"",c=Kl[e]==="M"?"majorable":"perfectable";return o+a+up(c,n)}function up(t,e){return e===0?t==="majorable"?"M":"P":e===-1&&t==="majorable"?"m":e>0?_c("A",e):_c("d",t==="perfectable"?e:e+1)}function dp(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function fp(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"&&!isNaN(t.step)&&!isNaN(t.alt)}var Ql=[0,2,4,-1,1,3,5],eu=Ql.map(t=>Math.floor(t*7/12));function hp(t){const{step:e,alt:n,oct:r,dir:i=1}=t,s=Ql[e]+7*n;if(r===void 0)return[i*s];const a=r-eu[e]-4*n;return[i*s,i*a]}var mp=[3,0,4,1,5,2,6];function pp(t){const[e,n,r]=t,i=mp[gp(e)],s=Math.floor((e+1)/7);if(n===void 0)return{step:i,alt:s,dir:r};const a=n+4*s+eu[i];return{step:i,alt:s,oct:a,dir:r}}function gp(t){const e=(t+1)%7;return e<0?7+e:e}var Pc=(t,e)=>Array(Math.abs(e)+1).join(t),tu=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),Mc=new Map,vp=t=>"CDEFGAB".charAt(t),yp=t=>t<0?Pc("b",-t):Pc("#",t),_p=t=>t[0]==="b"?-t.length:t.length;function se(t){const e=JSON.stringify(t),n=Mc.get(e);if(n)return n;const r=typeof t=="string"?xp(t):fp(t)?se(kp(t)):dp(t)?se(t.name):tu;return Mc.set(e,r),r}var bp=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function wp(t){const e=bp.exec(t);return e?[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]:["","","",""]}function Pp(t){return se(pp(t))}var Mp=(t,e)=>(t%e+e)%e,Ms=[0,2,4,5,7,9,11];function xp(t){const e=wp(t);if(e[0]===""||e[3]!=="")return tu;const n=e[0],r=e[1],i=e[2],s=(n.charCodeAt(0)+3)%7,a=_p(r),o=i.length?+i:void 0,c=hp({step:s,alt:a,oct:o}),l=n+r+i,u=n+r,d=(Ms[s]+a+120)%12,f=o===void 0?Mp(Ms[s]+a,12)-12*99:Ms[s]+a+12*(o+1),h=f>=0&&f<=127?f:null,g=o===void 0?null:Math.pow(2,(f-69)/12)*440;return{empty:!1,acc:r,alt:a,chroma:d,coord:c,freq:g,height:f,letter:n,midi:h,name:l,oct:o,pc:u,step:s}}function kp(t){const{step:e,alt:n,oct:r}=t,i=vp(e);if(!i)return"";const s=i+yp(n);return r||r===0?s+r:s}function Fi(t,e){const n=se(t),r=Array.isArray(e)?e:Us(e).coord;if(n.empty||!r||r.length<2)return"";const i=n.coord,s=i.length===1?[i[0]+r[0]]:[i[0]+r[0],i[1]+r[1]];return Pp(s).name}function nu(t,e){const n=t.length;return r=>{if(!e)return"";const i=r<0?(n- -r%n)%n:r%n,s=Math.floor(r/n),a=Fi(e,[0,s]);return Fi(a,t[i])}}function Ap(t,e){const n=[];for(;e--;n[e]=e+t);return n}function Ep(t,e){const n=[];for(;e--;n[e]=t-e);return n}function Sp(t,e){return t<e?Ap(t,e-t+1):Ep(t,t-e+1)}function Ar(t,e){const n=e.length,r=(t%n+n)%n;return e.slice(r,n).concat(e.slice(0,r))}function Cp(t){return t.filter(e=>e===0||e)}function Ip(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function Op(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"&&!isNaN(t.step)&&!isNaN(t.alt)}var ru=[0,2,4,-1,1,3,5],Dp=ru.map(t=>Math.floor(t*7/12));function Tp(t){const{step:e,alt:n,oct:r,dir:i=1}=t,s=ru[e]+7*n;if(r===void 0)return[i*s];const a=r-Dp[e]-4*n;return[i*s,i*a]}var xc=(t,e)=>Array(Math.abs(e)+1).join(t),Zs=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),Rp="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",Lp="(AA|A|P|M|m|d|dd)([-+]?\\d+)",Np=new RegExp("^"+Rp+"|"+Lp+"$");function jp(t){const e=Np.exec(`${t}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var kc={};function qs(t){return typeof t=="string"?kc[t]||(kc[t]=Fp(t)):Op(t)?qs(Bp(t)):Ip(t)?qs(t.name):Zs}var Ac=[0,2,4,5,7,9,11],iu="PMMPPMM";function Fp(t){const e=jp(t);if(e[0]==="")return Zs;const n=+e[0],r=e[1],i=(Math.abs(n)-1)%7,s=iu[i];if(s==="M"&&r==="P")return Zs;const a=s==="M"?"majorable":"perfectable",o=""+n+r,c=n<0?-1:1,l=n===8||n===-8?n:c*(i+1),u=$p(a,r),d=Math.floor((Math.abs(n)-1)/7),f=c*(Ac[i]+u+12*d),h=(c*(Ac[i]+u)%12+12)%12,g=Tp({step:i,alt:u,oct:d,dir:c});return{empty:!1,name:o,num:n,q:r,step:i,alt:u,dir:c,type:a,simple:l,semitones:f,chroma:h,coord:g,oct:d}}function $p(t,e){return e==="M"&&t==="majorable"||e==="P"&&t==="perfectable"?0:e==="m"&&t==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(t==="perfectable"?e.length:e.length+1):0}function Bp(t){const{step:e,alt:n,oct:r=0,dir:i}=t;if(!i)return"";const s=e+1+7*r,a=s===0?e+1:s,o=i<0?"-":"",c=iu[e]==="M"?"majorable":"perfectable";return o+a+Vp(c,n)}function Vp(t,e){return e===0?t==="majorable"?"M":"P":e===-1&&t==="majorable"?"m":e>0?xc("A",e):xc("d",t==="perfectable"?e:e+1)}var We={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},su=t=>Number(t).toString(2).padStart(12,"0"),Ec=t=>parseInt(t,2),Hp=/^[01]{12}$/;function Wa(t){return Hp.test(t)}var zp=t=>typeof t=="number"&&t>=0&&t<=4095,Wp=t=>t&&Wa(t.chroma),Sc={[We.chroma]:We};function Re(t){const e=Wa(t)?t:zp(t)?su(t):Array.isArray(t)?Kp(t):Wp(t)?t.chroma:We.chroma;return Sc[e]=Sc[e]||Jp(e)}var Up=t=>Re(t).chroma,Zp=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function qp(t){const e=[];for(let n=0;n<12;n++)t.charAt(n)==="1"&&e.push(Zp[n]);return e}function Gp(t,e=!0){const r=Re(t).chroma.split("");return Cp(r.map((i,s)=>{const a=Ar(s,r);return e&&a[0]==="0"?null:a.join("")}))}function au(t){const e=Re(t).setNum;return n=>{const r=Re(n).setNum;return e&&e!==r&&(r&e)===r}}function Xp(t){const e=Re(t).setNum;return n=>{const r=Re(n).setNum;return e&&e!==r&&(r|e)===r}}function Yp(t){const e=t.split("");return e.map((n,r)=>Ar(r,e).join(""))}function Jp(t){const e=Ec(t),n=Yp(t).map(Ec).filter(s=>s>=2048).sort()[0],r=su(n),i=qp(t);return{empty:!1,name:"",setNum:e,chroma:t,normalized:r,intervals:i}}function Kp(t){if(t.length===0)return We.chroma;let e;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<t.length;r++)e=se(t[r]),e.empty&&(e=qs(t[r])),e.empty||(n[e.chroma]=1);return n.join("")}var Qp=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],eg=Qp;({...We});var ou=[],ii={};function tg(t,e,n){const r=rg(t),i={...Re(t),name:n||"",quality:r,intervals:t,aliases:e};ou.push(i),i.name&&(ii[i.name]=i),ii[i.setNum]=i,ii[i.chroma]=i,i.aliases.forEach(s=>ng(i,s))}function ng(t,e){ii[e]=t}function rg(t){const e=n=>t.indexOf(n)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}eg.forEach(([t,e,n])=>tg(t.split(" "),n.split(" "),e));ou.sort((t,e)=>t.setNum-e.setNum);var ig=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],sg=ig;({...We});var cu=[],si={};function ag(t,e,n){const r=cg(t),i={...Re(t),name:n||"",quality:r,intervals:t,aliases:e};cu.push(i),i.name&&(si[i.name]=i),si[i.setNum]=i,si[i.chroma]=i,i.aliases.forEach(s=>og(i,s))}function og(t,e){si[e]=t}function cg(t){const e=n=>t.indexOf(n)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}sg.forEach(([t,e,n])=>ag(t.split(" "),n.split(" "),e));cu.sort((t,e)=>t.setNum-e.setNum);var lg=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],ug=lg,dg={...We,intervals:[],aliases:[]},Ua=[],Kn={};function fg(){return Ua.map(t=>t.name)}function lu(t){return Kn[t]||dg}function Za(){return Ua.slice()}function hg(t,e,n=[]){const r={...Re(t),name:e,intervals:t,aliases:n};return Ua.push(r),Kn[r.name]=r,Kn[r.setNum]=r,Kn[r.chroma]=r,r.aliases.forEach(i=>mg(r,i)),r}function mg(t,e){Kn[e]=t}ug.forEach(([t,e,...n])=>hg(t.split(" "),e,n));var pg=[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]],gg=pg;gg.forEach(([t,e,n])=>void 0);var vg="C C# D D# E F F# G G# A A# B".split(" "),yg="C Db D Eb E F Gb G Ab A Bb B".split(" ");function uu(t,e={}){if(isNaN(t)||t===-1/0||t===1/0)return"";t=Math.round(t);const r=(e.sharps===!0?vg:yg)[t%12];if(e.pitchClass)return r;const i=Math.floor(t/12)-1;return r+i}var _g=t=>t.name,bg=t=>t.map(se).filter(e=>!e.empty),Cc=se;function wg(t){return uu(t)}var du=(t,e)=>t.height-e.height;function Pg(t,e){return e=e||du,bg(t).sort(e).map(_g)}function Mg(t){return Pg(t,du).filter((e,n,r)=>n===0||e!==r[n-1])}function xg(t,e){const n=Cc(t);if(n.empty)return"";const r=Cc(e||uu(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(r.empty||r.chroma!==n.chroma)return"";if(n.oct===void 0)return r.pc;const i=n.chroma-n.alt,s=r.chroma-r.alt,a=i>11||s<0?-1:i<0||s>11?1:0,o=n.oct+a;return r.pc+o}var qa=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],Ic={...We,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},kg=qa.map(Ag),Gs={};kg.forEach(t=>{Gs[t.name]=t,t.aliases.forEach(e=>{Gs[e]=t})});function fu(t){return typeof t=="string"?Gs[t.toLowerCase()]||Ic:t&&t.name?fu(t.name):Ic}function Ag(t){const[e,n,r,i,s,a,o]=t,c=o?[o]:[],l=Number(n).toString(2);return{empty:!1,intervals:lu(i).intervals,modeNum:e,chroma:l,normalized:l,name:i,setNum:n,alt:r,triad:s,seventh:a,aliases:c}}function hu(t){return(e,n)=>{const r=fu(e);if(r.empty)return[];const i=Ar(r.modeNum,t),s=r.intervals.map(a=>Fi(n,a));return i.map((a,o)=>s[o]+a)}}hu(qa.map(t=>t[4]));hu(qa.map(t=>t[5]));var Eg=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],Sg=Eg;({...We});var mu=[],ai={};function Cg(t,e,n){const r=Og(t),i={...Re(t),name:n||"",quality:r,intervals:t,aliases:e};mu.push(i),i.name&&(ai[i.name]=i),ai[i.setNum]=i,ai[i.chroma]=i,i.aliases.forEach(s=>Ig(i,s))}function Ig(t,e){ai[e]=t}function Og(t){const e=n=>t.indexOf(n)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}Sg.forEach(([t,e,n])=>Cg(t.split(" "),n.split(" "),e));mu.sort((t,e)=>t.setNum-e.setNum);var Dg=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],Tg=Dg;({...We});var Ga=[],oi={};function Rg(){return Ga.slice()}function Lg(t,e,n){const r=jg(t),i={...Re(t),name:n||"",quality:r,intervals:t,aliases:e};Ga.push(i),i.name&&(oi[i.name]=i),oi[i.setNum]=i,oi[i.chroma]=i,i.aliases.forEach(s=>Ng(i,s))}function Ng(t,e){oi[e]=t}function jg(t){const e=n=>t.indexOf(n)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}Tg.forEach(([t,e,n])=>Lg(t.split(" "),n.split(" "),e));Ga.sort((t,e)=>t.setNum-e.setNum);var Fg={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function pu(t){if(typeof t!="string")return["",""];const e=t.indexOf(" "),n=se(t.substring(0,e));if(n.empty){const i=se(t);return i.empty?["",t.toLowerCase()]:[i.name,""]}const r=t.substring(n.name.length+1).toLowerCase();return[n.name,r.length?r:""]}var $g=fg;function Ue(t){const e=Array.isArray(t)?t:pu(t),n=se(e[0]).name,r=lu(e[1]);if(r.empty)return Fg;const i=r.name,s=n?r.intervals.map(o=>Fi(n,o)):[],a=n?n+" "+i:i;return{...r,name:a,type:i,tonic:n,notes:s}}var Bg=Ue;function Vg(t,e={}){const n=Up(t),r=se(e.tonic??t[0]??""),i=r.chroma;if(i===void 0)return[];const s=n.split("");s[i]="1";const a=Ar(i,s).join(""),o=Za().find(l=>l.chroma===a),c=[];return o&&c.push(r.name+" "+o.name),e.match==="exact"||gu(a).forEach(l=>{c.push(r.name+" "+l)}),c}function Hg(t){const e=Ue(t),n=au(e.chroma);return Rg().filter(r=>n(r.chroma)).map(r=>r.aliases[0])}function gu(t){const e=Wa(t)?t:Ue(t).chroma,n=Xp(e);return Za().filter(r=>n(r.chroma)).map(r=>r.name)}function zg(t){const e=au(Ue(t).chroma);return Za().filter(n=>e(n.chroma)).map(n=>n.name)}function vu(t){const e=t.map(i=>se(i).pc).filter(i=>i),n=e[0],r=Mg(e);return Ar(r.indexOf(n),r)}function Wg(t){const e=Ue(t);if(e.empty)return[];const n=e.tonic?e.notes:e.intervals;return Gp(e.chroma).map((r,i)=>{const s=Ue(r).name;return s?[n[i],s]:["",""]}).filter(r=>r[0])}function Ug(t){const e=Array.isArray(t)?vu(t):Ue(t).notes,n=e.map(r=>se(r).chroma);return r=>{const i=se(typeof r=="number"?wg(r):r),s=i.height;if(s===void 0)return;const a=s%12,o=n.indexOf(a);if(o!==-1)return xg(i.name,e[o])}}function Zg(t){const e=Ug(t);return(n,r)=>{const i=se(n).height,s=se(r).height;return i===void 0||s===void 0?[]:Sp(i,s).map(e).filter(a=>a)}}function qg(t){const{intervals:e,tonic:n}=Ue(t),r=nu(e,n);return i=>i?r(i>0?i-1:i):""}function Gg(t){const{intervals:e,tonic:n}=Ue(t);return nu(e,n)}var b_={degrees:qg,detect:Vg,extended:gu,get:Ue,modeNames:Wg,names:$g,rangeOf:Zg,reduced:zg,scaleChords:Hg,scaleNotes:vu,steps:Gg,tokenize:pu,scale:Bg},H;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(H||(H={}));var Xs;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Xs||(Xs={}));const M=H.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),et=t=>{switch(typeof t){case"undefined":return M.undefined;case"string":return M.string;case"number":return isNaN(t)?M.nan:M.number;case"boolean":return M.boolean;case"function":return M.function;case"bigint":return M.bigint;case"symbol":return M.symbol;case"object":return Array.isArray(t)?M.array:t===null?M.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?M.promise:typeof Map<"u"&&t instanceof Map?M.map:typeof Set<"u"&&t instanceof Set?M.set:typeof Date<"u"&&t instanceof Date?M.date:M.object;default:return M.unknown}},y=H.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Xg=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class be extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,c=0;for(;c<a.path.length;){const l=a.path[c];c===a.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(n(a))):o[l]=o[l]||{_errors:[]},o=o[l],c++}}};return i(this),r}static assert(e){if(!(e instanceof be))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,H.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}be.create=t=>new be(t);const Mn=(t,e)=>{let n;switch(t.code){case y.invalid_type:t.received===M.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case y.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,H.jsonStringifyReplacer)}`;break;case y.unrecognized_keys:n=`Unrecognized key(s) in object: ${H.joinValues(t.keys,", ")}`;break;case y.invalid_union:n="Invalid input";break;case y.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${H.joinValues(t.options)}`;break;case y.invalid_enum_value:n=`Invalid enum value. Expected ${H.joinValues(t.options)}, received '${t.received}'`;break;case y.invalid_arguments:n="Invalid function arguments";break;case y.invalid_return_type:n="Invalid function return type";break;case y.invalid_date:n="Invalid date";break;case y.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:H.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case y.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case y.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case y.custom:n="Invalid input";break;case y.invalid_intersection_types:n="Intersection results could not be merged";break;case y.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case y.not_finite:n="Number must be finite";break;default:n=e.defaultError,H.assertNever(t)}return{message:n}};let yu=Mn;function Yg(t){yu=t}function $i(){return yu}const Bi=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)o=l(a,{data:e,defaultError:o}).message;return{...i,path:s,message:o}},Jg=[];function b(t,e){const n=$i(),r=Bi({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Mn?void 0:Mn].filter(i=>!!i)});t.common.issues.push(r)}class le{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return L;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,a=await i.value;r.push({key:s,value:a})}return le.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return L;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}}const L=Object.freeze({status:"aborted"}),ln=t=>({status:"dirty",value:t}),ue=t=>({status:"valid",value:t}),Ys=t=>t.status==="aborted",Js=t=>t.status==="dirty",Ut=t=>t.status==="valid",ar=t=>typeof Promise<"u"&&t instanceof Promise;function Vi(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function _u(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var I;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(I||(I={}));var $n,Bn;class Ze{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Oc=(t,e)=>{if(Ut(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new be(t.common.issues);return this._error=n,this._error}}};function F(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>{var c,l;const{message:u}=t;return a.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(c=u??r)!==null&&c!==void 0?c:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(l=u??n)!==null&&l!==void 0?l:o.defaultError}},description:i}}class B{get description(){return this._def.description}_getType(e){return et(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:et(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new le,ctx:{common:e.parent.common,data:e.data,parsedType:et(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(ar(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:et(e)},s=this._parseSync({data:e,path:i.path,parent:i});return Oc(i,s)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:et(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:i});return Ut(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((r=(n=s==null?void 0:s.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>Ut(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:et(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(ar(i)?i:Promise.resolve(i));return Oc(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const a=e(i),o=()=>s.addIssue({code:y.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Le({schema:this,typeName:R.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return He.create(this,this._def)}nullable(){return Pt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Te.create(this)}promise(){return kn.create(this,this._def)}or(e){return ur.create([this,e],this._def)}and(e){return dr.create(this,e,this._def)}transform(e){return new Le({...F(this._def),schema:this,typeName:R.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new gr({...F(this._def),innerType:this,defaultValue:n,typeName:R.ZodDefault})}brand(){return new Xa({typeName:R.ZodBranded,type:this,...F(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new vr({...F(this._def),innerType:this,catchValue:n,typeName:R.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Er.create(this,e)}readonly(){return yr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Kg=/^c[^\s-]{8,}$/i,Qg=/^[0-9a-z]+$/,ev=/^[0-9A-HJKMNP-TV-Z]{26}$/i,tv=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nv=/^[a-z0-9_-]{21}$/i,rv=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,iv=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sv=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,av="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let xs;const ov=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,cv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,lv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,uv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,dv=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,fv=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,bu="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",hv=new RegExp(`^${bu}$`);function wu(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function mv(t){return new RegExp(`^${wu(t)}$`)}function Pu(t){let e=`${bu}T${wu(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function pv(t,e){return!!((e==="v4"||!e)&&ov.test(t)||(e==="v6"||!e)&&lv.test(t))}function gv(t,e){if(!rv.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function vv(t,e){return!!((e==="v4"||!e)&&cv.test(t)||(e==="v6"||!e)&&uv.test(t))}class Ie extends B{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==M.string){const s=this._getOrReturnCtx(e);return b(s,{code:y.invalid_type,expected:M.string,received:s.parsedType}),L}const r=new le;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),b(i,{code:y.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),b(i,{code:y.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,o=e.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?b(i,{code:y.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&b(i,{code:y.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")sv.test(e.data)||(i=this._getOrReturnCtx(e,i),b(i,{validation:"email",code:y.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")xs||(xs=new RegExp(av,"u")),xs.test(e.data)||(i=this._getOrReturnCtx(e,i),b(i,{validation:"emoji",code:y.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")tv.test(e.data)||(i=this._getOrReturnCtx(e,i),b(i,{validation:"uuid",code:y.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")nv.test(e.data)||(i=this._getOrReturnCtx(e,i),b(i,{validation:"nanoid",code:y.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Kg.test(e.data)||(i=this._getOrReturnCtx(e,i),b(i,{validation:"cuid",code:y.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Qg.test(e.data)||(i=this._getOrReturnCtx(e,i),b(i,{validation:"cuid2",code:y.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")ev.test(e.data)||(i=this._getOrReturnCtx(e,i),b(i,{validation:"ulid",code:y.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),b(i,{validation:"url",code:y.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),b(i,{validation:"regex",code:y.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),b(i,{code:y.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),b(i,{code:y.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),b(i,{code:y.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Pu(s).test(e.data)||(i=this._getOrReturnCtx(e,i),b(i,{code:y.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?hv.test(e.data)||(i=this._getOrReturnCtx(e,i),b(i,{code:y.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?mv(s).test(e.data)||(i=this._getOrReturnCtx(e,i),b(i,{code:y.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?iv.test(e.data)||(i=this._getOrReturnCtx(e,i),b(i,{validation:"duration",code:y.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?pv(e.data,s.version)||(i=this._getOrReturnCtx(e,i),b(i,{validation:"ip",code:y.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?gv(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),b(i,{validation:"jwt",code:y.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?vv(e.data,s.version)||(i=this._getOrReturnCtx(e,i),b(i,{validation:"cidr",code:y.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?dv.test(e.data)||(i=this._getOrReturnCtx(e,i),b(i,{validation:"base64",code:y.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?fv.test(e.data)||(i=this._getOrReturnCtx(e,i),b(i,{validation:"base64url",code:y.invalid_string,message:s.message}),r.dirty()):H.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:y.invalid_string,...I.errToObj(r)})}_addCheck(e){return new Ie({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...I.errToObj(e)})}url(e){return this._addCheck({kind:"url",...I.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...I.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...I.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...I.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...I.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...I.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...I.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...I.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...I.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...I.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...I.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...I.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...I.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...I.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...I.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...I.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...I.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...I.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...I.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...I.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...I.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...I.errToObj(n)})}nonempty(e){return this.min(1,I.errToObj(e))}trim(){return new Ie({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ie({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ie({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ie.create=t=>{var e;return new Ie({checks:[],typeName:R.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...F(t)})};function yv(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),a=parseInt(e.toFixed(i).replace(".",""));return s%a/Math.pow(10,i)}class _t extends B{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==M.number){const s=this._getOrReturnCtx(e);return b(s,{code:y.invalid_type,expected:M.number,received:s.parsedType}),L}let r;const i=new le;for(const s of this._def.checks)s.kind==="int"?H.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),b(r,{code:y.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),b(r,{code:y.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),b(r,{code:y.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?yv(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),b(r,{code:y.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),b(r,{code:y.not_finite,message:s.message}),i.dirty()):H.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,I.toString(n))}gt(e,n){return this.setLimit("min",e,!1,I.toString(n))}lte(e,n){return this.setLimit("max",e,!0,I.toString(n))}lt(e,n){return this.setLimit("max",e,!1,I.toString(n))}setLimit(e,n,r,i){return new _t({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:I.toString(i)}]})}_addCheck(e){return new _t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:I.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:I.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:I.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:I.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:I.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:I.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:I.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:I.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:I.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&H.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}_t.create=t=>new _t({checks:[],typeName:R.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...F(t)});class bt extends B{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==M.bigint)return this._getInvalidInput(e);let r;const i=new le;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),b(r,{code:y.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),b(r,{code:y.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),b(r,{code:y.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):H.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return b(n,{code:y.invalid_type,expected:M.bigint,received:n.parsedType}),L}gte(e,n){return this.setLimit("min",e,!0,I.toString(n))}gt(e,n){return this.setLimit("min",e,!1,I.toString(n))}lte(e,n){return this.setLimit("max",e,!0,I.toString(n))}lt(e,n){return this.setLimit("max",e,!1,I.toString(n))}setLimit(e,n,r,i){return new bt({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:I.toString(i)}]})}_addCheck(e){return new bt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:I.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:I.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:I.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:I.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:I.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}bt.create=t=>{var e;return new bt({checks:[],typeName:R.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...F(t)})};class or extends B{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==M.boolean){const r=this._getOrReturnCtx(e);return b(r,{code:y.invalid_type,expected:M.boolean,received:r.parsedType}),L}return ue(e.data)}}or.create=t=>new or({typeName:R.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...F(t)});class Zt extends B{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==M.date){const s=this._getOrReturnCtx(e);return b(s,{code:y.invalid_type,expected:M.date,received:s.parsedType}),L}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return b(s,{code:y.invalid_date}),L}const r=new le;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),b(i,{code:y.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),b(i,{code:y.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):H.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Zt({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:I.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:I.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Zt.create=t=>new Zt({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:R.ZodDate,...F(t)});class Hi extends B{_parse(e){if(this._getType(e)!==M.symbol){const r=this._getOrReturnCtx(e);return b(r,{code:y.invalid_type,expected:M.symbol,received:r.parsedType}),L}return ue(e.data)}}Hi.create=t=>new Hi({typeName:R.ZodSymbol,...F(t)});class cr extends B{_parse(e){if(this._getType(e)!==M.undefined){const r=this._getOrReturnCtx(e);return b(r,{code:y.invalid_type,expected:M.undefined,received:r.parsedType}),L}return ue(e.data)}}cr.create=t=>new cr({typeName:R.ZodUndefined,...F(t)});class lr extends B{_parse(e){if(this._getType(e)!==M.null){const r=this._getOrReturnCtx(e);return b(r,{code:y.invalid_type,expected:M.null,received:r.parsedType}),L}return ue(e.data)}}lr.create=t=>new lr({typeName:R.ZodNull,...F(t)});class xn extends B{constructor(){super(...arguments),this._any=!0}_parse(e){return ue(e.data)}}xn.create=t=>new xn({typeName:R.ZodAny,...F(t)});class Ht extends B{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ue(e.data)}}Ht.create=t=>new Ht({typeName:R.ZodUnknown,...F(t)});class st extends B{_parse(e){const n=this._getOrReturnCtx(e);return b(n,{code:y.invalid_type,expected:M.never,received:n.parsedType}),L}}st.create=t=>new st({typeName:R.ZodNever,...F(t)});class zi extends B{_parse(e){if(this._getType(e)!==M.undefined){const r=this._getOrReturnCtx(e);return b(r,{code:y.invalid_type,expected:M.void,received:r.parsedType}),L}return ue(e.data)}}zi.create=t=>new zi({typeName:R.ZodVoid,...F(t)});class Te extends B{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==M.array)return b(n,{code:y.invalid_type,expected:M.array,received:n.parsedType}),L;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(a||o)&&(b(n,{code:a?y.too_big:y.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(b(n,{code:y.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(b(n,{code:y.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>i.type._parseAsync(new Ze(n,a,n.path,o)))).then(a=>le.mergeArray(r,a));const s=[...n.data].map((a,o)=>i.type._parseSync(new Ze(n,a,n.path,o)));return le.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Te({...this._def,minLength:{value:e,message:I.toString(n)}})}max(e,n){return new Te({...this._def,maxLength:{value:e,message:I.toString(n)}})}length(e,n){return new Te({...this._def,exactLength:{value:e,message:I.toString(n)}})}nonempty(e){return this.min(1,e)}}Te.create=(t,e)=>new Te({type:t,minLength:null,maxLength:null,exactLength:null,typeName:R.ZodArray,...F(e)});function an(t){if(t instanceof X){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=He.create(an(r))}return new X({...t._def,shape:()=>e})}else return t instanceof Te?new Te({...t._def,type:an(t.element)}):t instanceof He?He.create(an(t.unwrap())):t instanceof Pt?Pt.create(an(t.unwrap())):t instanceof qe?qe.create(t.items.map(e=>an(e))):t}class X extends B{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=H.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==M.object){const l=this._getOrReturnCtx(e);return b(l,{code:y.invalid_type,expected:M.object,received:l.parsedType}),L}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof st&&this._def.unknownKeys==="strip"))for(const l in i.data)a.includes(l)||o.push(l);const c=[];for(const l of a){const u=s[l],d=i.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Ze(i,d,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof st){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of o)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(l==="strict")o.length>0&&(b(i,{code:y.unrecognized_keys,keys:o}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of o){const d=i.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Ze(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key,f=await u.value;l.push({key:d,value:f,alwaysSet:u.alwaysSet})}return l}).then(l=>le.mergeObjectSync(r,l)):le.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return I.errToObj,new X({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,a,o;const c=(a=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=I.errToObj(e).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new X({...this._def,unknownKeys:"strip"})}passthrough(){return new X({...this._def,unknownKeys:"passthrough"})}extend(e){return new X({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new X({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:R.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new X({...this._def,catchall:e})}pick(e){const n={};return H.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new X({...this._def,shape:()=>n})}omit(e){const n={};return H.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new X({...this._def,shape:()=>n})}deepPartial(){return an(this)}partial(e){const n={};return H.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new X({...this._def,shape:()=>n})}required(e){const n={};return H.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof He;)s=s._def.innerType;n[r]=s}}),new X({...this._def,shape:()=>n})}keyof(){return Mu(H.objectKeys(this.shape))}}X.create=(t,e)=>new X({shape:()=>t,unknownKeys:"strip",catchall:st.create(),typeName:R.ZodObject,...F(e)});X.strictCreate=(t,e)=>new X({shape:()=>t,unknownKeys:"strict",catchall:st.create(),typeName:R.ZodObject,...F(e)});X.lazycreate=(t,e)=>new X({shape:t,unknownKeys:"strip",catchall:st.create(),typeName:R.ZodObject,...F(e)});class ur extends B{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new be(o.ctx.common.issues));return b(n,{code:y.invalid_union,unionErrors:a}),L}if(n.common.async)return Promise.all(r.map(async s=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:l}),l.common.issues.length&&a.push(l.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(c=>new be(c));return b(n,{code:y.invalid_union,unionErrors:o}),L}}get options(){return this._def.options}}ur.create=(t,e)=>new ur({options:t,typeName:R.ZodUnion,...F(e)});const Ke=t=>t instanceof hr?Ke(t.schema):t instanceof Le?Ke(t.innerType()):t instanceof mr?[t.value]:t instanceof wt?t.options:t instanceof pr?H.objectValues(t.enum):t instanceof gr?Ke(t._def.innerType):t instanceof cr?[void 0]:t instanceof lr?[null]:t instanceof He?[void 0,...Ke(t.unwrap())]:t instanceof Pt?[null,...Ke(t.unwrap())]:t instanceof Xa||t instanceof yr?Ke(t.unwrap()):t instanceof vr?Ke(t._def.innerType):[];class Qi extends B{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==M.object)return b(n,{code:y.invalid_type,expected:M.object,received:n.parsedType}),L;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(b(n,{code:y.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),L)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const a=Ke(s.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,s)}}return new Qi({typeName:R.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...F(r)})}}function Ks(t,e){const n=et(t),r=et(e);if(t===e)return{valid:!0,data:t};if(n===M.object&&r===M.object){const i=H.objectKeys(e),s=H.objectKeys(t).filter(o=>i.indexOf(o)!==-1),a={...t,...e};for(const o of s){const c=Ks(t[o],e[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(n===M.array&&r===M.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],o=e[s],c=Ks(a,o);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===M.date&&r===M.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class dr extends B{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,a)=>{if(Ys(s)||Ys(a))return L;const o=Ks(s.value,a.value);return o.valid?((Js(s)||Js(a))&&n.dirty(),{status:n.value,value:o.data}):(b(r,{code:y.invalid_intersection_types}),L)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}dr.create=(t,e,n)=>new dr({left:t,right:e,typeName:R.ZodIntersection,...F(n)});class qe extends B{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==M.array)return b(r,{code:y.invalid_type,expected:M.array,received:r.parsedType}),L;if(r.data.length<this._def.items.length)return b(r,{code:y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),L;!this._def.rest&&r.data.length>this._def.items.length&&(b(r,{code:y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((a,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new Ze(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>le.mergeArray(n,a)):le.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new qe({...this._def,rest:e})}}qe.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qe({items:t,typeName:R.ZodTuple,rest:null,...F(e)})};class fr extends B{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==M.object)return b(r,{code:y.invalid_type,expected:M.object,received:r.parsedType}),L;const i=[],s=this._def.keyType,a=this._def.valueType;for(const o in r.data)i.push({key:s._parse(new Ze(r,o,r.path,o)),value:a._parse(new Ze(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?le.mergeObjectAsync(n,i):le.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof B?new fr({keyType:e,valueType:n,typeName:R.ZodRecord,...F(r)}):new fr({keyType:Ie.create(),valueType:e,typeName:R.ZodRecord,...F(n)})}}class Wi extends B{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==M.map)return b(r,{code:y.invalid_type,expected:M.map,received:r.parsedType}),L;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([o,c],l)=>({key:i._parse(new Ze(r,o,r.path,[l,"key"])),value:s._parse(new Ze(r,c,r.path,[l,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of a){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return L;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(l.value,u.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const c of a){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return L;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(l.value,u.value)}return{status:n.value,value:o}}}}Wi.create=(t,e,n)=>new Wi({valueType:e,keyType:t,typeName:R.ZodMap,...F(n)});class qt extends B{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==M.set)return b(r,{code:y.invalid_type,expected:M.set,received:r.parsedType}),L;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(b(r,{code:y.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(b(r,{code:y.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function a(c){const l=new Set;for(const u of c){if(u.status==="aborted")return L;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const o=[...r.data.values()].map((c,l)=>s._parse(new Ze(r,c,r.path,l)));return r.common.async?Promise.all(o).then(c=>a(c)):a(o)}min(e,n){return new qt({...this._def,minSize:{value:e,message:I.toString(n)}})}max(e,n){return new qt({...this._def,maxSize:{value:e,message:I.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}qt.create=(t,e)=>new qt({valueType:t,minSize:null,maxSize:null,typeName:R.ZodSet,...F(e)});class mn extends B{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==M.function)return b(n,{code:y.invalid_type,expected:M.function,received:n.parsedType}),L;function r(o,c){return Bi({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,$i(),Mn].filter(l=>!!l),issueData:{code:y.invalid_arguments,argumentsError:c}})}function i(o,c){return Bi({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,$i(),Mn].filter(l=>!!l),issueData:{code:y.invalid_return_type,returnTypeError:c}})}const s={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof kn){const o=this;return ue(async function(...c){const l=new be([]),u=await o._def.args.parseAsync(c,s).catch(h=>{throw l.addIssue(r(c,h)),l}),d=await Reflect.apply(a,this,u);return await o._def.returns._def.type.parseAsync(d,s).catch(h=>{throw l.addIssue(i(d,h)),l})})}else{const o=this;return ue(function(...c){const l=o._def.args.safeParse(c,s);if(!l.success)throw new be([r(c,l.error)]);const u=Reflect.apply(a,this,l.data),d=o._def.returns.safeParse(u,s);if(!d.success)throw new be([i(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new mn({...this._def,args:qe.create(e).rest(Ht.create())})}returns(e){return new mn({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new mn({args:e||qe.create([]).rest(Ht.create()),returns:n||Ht.create(),typeName:R.ZodFunction,...F(r)})}}class hr extends B{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}hr.create=(t,e)=>new hr({getter:t,typeName:R.ZodLazy,...F(e)});class mr extends B{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return b(n,{received:n.data,code:y.invalid_literal,expected:this._def.value}),L}return{status:"valid",value:e.data}}get value(){return this._def.value}}mr.create=(t,e)=>new mr({value:t,typeName:R.ZodLiteral,...F(e)});function Mu(t,e){return new wt({values:t,typeName:R.ZodEnum,...F(e)})}class wt extends B{constructor(){super(...arguments),$n.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return b(n,{expected:H.joinValues(r),received:n.parsedType,code:y.invalid_type}),L}if(Vi(this,$n)||_u(this,$n,new Set(this._def.values)),!Vi(this,$n).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return b(n,{received:n.data,code:y.invalid_enum_value,options:r}),L}return ue(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return wt.create(e,{...this._def,...n})}exclude(e,n=this._def){return wt.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}$n=new WeakMap;wt.create=Mu;class pr extends B{constructor(){super(...arguments),Bn.set(this,void 0)}_parse(e){const n=H.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==M.string&&r.parsedType!==M.number){const i=H.objectValues(n);return b(r,{expected:H.joinValues(i),received:r.parsedType,code:y.invalid_type}),L}if(Vi(this,Bn)||_u(this,Bn,new Set(H.getValidEnumValues(this._def.values))),!Vi(this,Bn).has(e.data)){const i=H.objectValues(n);return b(r,{received:r.data,code:y.invalid_enum_value,options:i}),L}return ue(e.data)}get enum(){return this._def.values}}Bn=new WeakMap;pr.create=(t,e)=>new pr({values:t,typeName:R.ZodNativeEnum,...F(e)});class kn extends B{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==M.promise&&n.common.async===!1)return b(n,{code:y.invalid_type,expected:M.promise,received:n.parsedType}),L;const r=n.parsedType===M.promise?n.data:Promise.resolve(n.data);return ue(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}kn.create=(t,e)=>new kn({type:t,typeName:R.ZodPromise,...F(e)});class Le extends B{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===R.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{b(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return L;const c=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return c.status==="aborted"?L:c.status==="dirty"||n.value==="dirty"?ln(c.value):c});{if(n.value==="aborted")return L;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?L:o.status==="dirty"||n.value==="dirty"?ln(o.value):o}}if(i.type==="refinement"){const a=o=>{const c=i.refinement(o,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?L:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?L:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ut(a))return a;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Ut(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:n.value,value:o})):a);H.assertNever(i)}}Le.create=(t,e,n)=>new Le({schema:t,typeName:R.ZodEffects,effect:e,...F(n)});Le.createWithPreprocess=(t,e,n)=>new Le({schema:e,effect:{type:"preprocess",transform:t},typeName:R.ZodEffects,...F(n)});class He extends B{_parse(e){return this._getType(e)===M.undefined?ue(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}He.create=(t,e)=>new He({innerType:t,typeName:R.ZodOptional,...F(e)});class Pt extends B{_parse(e){return this._getType(e)===M.null?ue(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Pt.create=(t,e)=>new Pt({innerType:t,typeName:R.ZodNullable,...F(e)});class gr extends B{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===M.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}gr.create=(t,e)=>new gr({innerType:t,typeName:R.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...F(e)});class vr extends B{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ar(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new be(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new be(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}vr.create=(t,e)=>new vr({innerType:t,typeName:R.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...F(e)});class Ui extends B{_parse(e){if(this._getType(e)!==M.nan){const r=this._getOrReturnCtx(e);return b(r,{code:y.invalid_type,expected:M.nan,received:r.parsedType}),L}return{status:"valid",value:e.data}}}Ui.create=t=>new Ui({typeName:R.ZodNaN,...F(t)});const _v=Symbol("zod_brand");class Xa extends B{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Er extends B{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?L:s.status==="dirty"?(n.dirty(),ln(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?L:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Er({in:e,out:n,typeName:R.ZodPipeline})}}class yr extends B{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Ut(i)&&(i.value=Object.freeze(i.value)),i);return ar(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}yr.create=(t,e)=>new yr({innerType:t,typeName:R.ZodReadonly,...F(e)});function Dc(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function xu(t,e={},n){return t?xn.create().superRefine((r,i)=>{var s,a;const o=t(r);if(o instanceof Promise)return o.then(c=>{var l,u;if(!c){const d=Dc(e,r),f=(u=(l=d.fatal)!==null&&l!==void 0?l:n)!==null&&u!==void 0?u:!0;i.addIssue({code:"custom",...d,fatal:f})}});if(!o){const c=Dc(e,r),l=(a=(s=c.fatal)!==null&&s!==void 0?s:n)!==null&&a!==void 0?a:!0;i.addIssue({code:"custom",...c,fatal:l})}}):xn.create()}const bv={object:X.lazycreate};var R;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(R||(R={}));const wv=(t,e={message:`Input not instance of ${t.name}`})=>xu(n=>n instanceof t,e),ku=Ie.create,Au=_t.create,Pv=Ui.create,Mv=bt.create,Eu=or.create,xv=Zt.create,kv=Hi.create,Av=cr.create,Ev=lr.create,Sv=xn.create,Cv=Ht.create,Iv=st.create,Ov=zi.create,Dv=Te.create,Tv=X.create,Rv=X.strictCreate,Lv=ur.create,Nv=Qi.create,jv=dr.create,Fv=qe.create,$v=fr.create,Bv=Wi.create,Vv=qt.create,Hv=mn.create,zv=hr.create,Wv=mr.create,Uv=wt.create,Zv=pr.create,qv=kn.create,Tc=Le.create,Gv=He.create,Xv=Pt.create,Yv=Le.createWithPreprocess,Jv=Er.create,Kv=()=>ku().optional(),Qv=()=>Au().optional(),ey=()=>Eu().optional(),ty={string:t=>Ie.create({...t,coerce:!0}),number:t=>_t.create({...t,coerce:!0}),boolean:t=>or.create({...t,coerce:!0}),bigint:t=>bt.create({...t,coerce:!0}),date:t=>Zt.create({...t,coerce:!0})},ny=L;var w_=Object.freeze({__proto__:null,defaultErrorMap:Mn,setErrorMap:Yg,getErrorMap:$i,makeIssue:Bi,EMPTY_PATH:Jg,addIssueToContext:b,ParseStatus:le,INVALID:L,DIRTY:ln,OK:ue,isAborted:Ys,isDirty:Js,isValid:Ut,isAsync:ar,get util(){return H},get objectUtil(){return Xs},ZodParsedType:M,getParsedType:et,ZodType:B,datetimeRegex:Pu,ZodString:Ie,ZodNumber:_t,ZodBigInt:bt,ZodBoolean:or,ZodDate:Zt,ZodSymbol:Hi,ZodUndefined:cr,ZodNull:lr,ZodAny:xn,ZodUnknown:Ht,ZodNever:st,ZodVoid:zi,ZodArray:Te,ZodObject:X,ZodUnion:ur,ZodDiscriminatedUnion:Qi,ZodIntersection:dr,ZodTuple:qe,ZodRecord:fr,ZodMap:Wi,ZodSet:qt,ZodFunction:mn,ZodLazy:hr,ZodLiteral:mr,ZodEnum:wt,ZodNativeEnum:pr,ZodPromise:kn,ZodEffects:Le,ZodTransformer:Le,ZodOptional:He,ZodNullable:Pt,ZodDefault:gr,ZodCatch:vr,ZodNaN:Ui,BRAND:_v,ZodBranded:Xa,ZodPipeline:Er,ZodReadonly:yr,custom:xu,Schema:B,ZodSchema:B,late:bv,get ZodFirstPartyTypeKind(){return R},coerce:ty,any:Sv,array:Dv,bigint:Mv,boolean:Eu,date:xv,discriminatedUnion:Nv,effect:Tc,enum:Uv,function:Hv,instanceof:wv,intersection:jv,lazy:zv,literal:Wv,map:Bv,nan:Pv,nativeEnum:Zv,never:Iv,null:Ev,nullable:Xv,number:Au,object:Tv,oboolean:ey,onumber:Qv,optional:Gv,ostring:Kv,pipeline:Jv,preprocess:Yv,promise:qv,record:$v,set:Vv,strictObject:Rv,string:ku,symbol:kv,transformer:Tc,tuple:Fv,undefined:Av,union:Lv,unknown:Cv,void:Ov,NEVER:ny,ZodIssueCode:y,quotelessJson:Xg,ZodError:be});const Qs="RFC3986",ea={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},ry="RFC1738",iy=Array.isArray,je=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),ks=1024,sy=(t,e,n,r,i)=>{if(t.length===0)return t;let s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let a="";for(let o=0;o<s.length;o+=ks){const c=s.length>=ks?s.slice(o,o+ks):s,l=[];for(let u=0;u<c.length;++u){let d=c.charCodeAt(u);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||i===ry&&(d===40||d===41)){l[l.length]=c.charAt(u);continue}if(d<128){l[l.length]=je[d];continue}if(d<2048){l[l.length]=je[192|d>>6]+je[128|d&63];continue}if(d<55296||d>=57344){l[l.length]=je[224|d>>12]+je[128|d>>6&63]+je[128|d&63];continue}u+=1,d=65536+((d&1023)<<10|c.charCodeAt(u)&1023),l[l.length]=je[240|d>>18]+je[128|d>>12&63]+je[128|d>>6&63]+je[128|d&63]}a+=l.join("")}return a};function ay(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function Rc(t,e){if(iy(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const oy=Object.prototype.hasOwnProperty,Su={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},Fe=Array.isArray,cy=Array.prototype.push,Cu=function(t,e){cy.apply(t,Fe(e)?e:[e])},ly=Date.prototype.toISOString,ee={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:sy,encodeValuesOnly:!1,format:Qs,formatter:ea[Qs],indices:!1,serializeDate(t){return ly.call(t)},skipNulls:!1,strictNullHandling:!1};function uy(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const As={};function Iu(t,e,n,r,i,s,a,o,c,l,u,d,f,h,g,m,p,x){let _=t,k=x,v=0,A=!1;for(;(k=k.get(As))!==void 0&&!A;){const E=k.get(t);if(v+=1,typeof E<"u"){if(E===v)throw new RangeError("Cyclic object value");A=!0}typeof k.get(As)>"u"&&(v=0)}if(typeof l=="function"?_=l(e,_):_ instanceof Date?_=f==null?void 0:f(_):n==="comma"&&Fe(_)&&(_=Rc(_,function(E){return E instanceof Date?f==null?void 0:f(E):E})),_===null){if(s)return c&&!m?c(e,ee.encoder,p,"key",h):e;_=""}if(uy(_)||ay(_)){if(c){const E=m?e:c(e,ee.encoder,p,"key",h);return[(g==null?void 0:g(E))+"="+(g==null?void 0:g(c(_,ee.encoder,p,"value",h)))]}return[(g==null?void 0:g(e))+"="+(g==null?void 0:g(String(_)))]}const w=[];if(typeof _>"u")return w;let P;if(n==="comma"&&Fe(_))m&&c&&(_=Rc(_,c)),P=[{value:_.length>0?_.join(",")||null:void 0}];else if(Fe(l))P=l;else{const E=Object.keys(_);P=u?E.sort(u):E}const N=o?String(e).replace(/\./g,"%2E"):String(e),O=r&&Fe(_)&&_.length===1?N+"[]":N;if(i&&Fe(_)&&_.length===0)return O+"[]";for(let E=0;E<P.length;++E){const C=P[E],U=typeof C=="object"&&typeof C.value<"u"?C.value:_[C];if(a&&U===null)continue;const q=d&&o?C.replace(/\./g,"%2E"):C,re=Fe(_)?typeof n=="function"?n(O,q):O:O+(d?"."+q:"["+q+"]");x.set(t,v);const W=new WeakMap;W.set(As,x),Cu(w,Iu(U,re,n,r,i,s,a,o,n==="comma"&&m&&Fe(_)?null:c,l,u,d,f,h,g,m,p,W))}return w}function dy(t=ee){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||ee.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Qs;if(typeof t.format<"u"){if(!oy.call(ea,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=ea[n];let i=ee.filter;(typeof t.filter=="function"||Fe(t.filter))&&(i=t.filter);let s;if(t.arrayFormat&&t.arrayFormat in Su?s=t.arrayFormat:"indices"in t?s=t.indices?"indices":"repeat":s=ee.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:ee.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:ee.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:ee.allowEmptyArrays,arrayFormat:s,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:ee.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?ee.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:ee.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:ee.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:ee.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:ee.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:ee.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:ee.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:ee.strictNullHandling}}function fy(t,e={}){let n=t;const r=dy(e);let i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):Fe(r.filter)&&(s=r.filter,i=s);const a=[];if(typeof n!="object"||n===null)return"";const o=Su[r.arrayFormat],c=o==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);const l=new WeakMap;for(let f=0;f<i.length;++f){const h=i[f];r.skipNulls&&n[h]===null||Cu(a,Iu(n[h],h,o,c,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,l))}const u=a.join(r.delimiter);let d=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),u.length>0?d+u:""}const on="4.98.0";let Lc=!1,Qn,Ou,Du,ta,Tu,Ru,Lu,Nu,ju;function hy(t,e={auto:!1}){if(Lc)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(Qn)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${Qn}'\``);Lc=e.auto,Qn=t.kind,Ou=t.fetch,Du=t.FormData,ta=t.File,Tu=t.ReadableStream,Ru=t.getMultipartRequestOptions,Lu=t.getDefaultAgent,Nu=t.fileFromPath,ju=t.isFsReadStream}class my{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function py({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,i,s;try{n=fetch,r=Request,i=Response,s=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:s,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(a,o)=>({...o,body:new my(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:a=>!1}}const Fu=()=>{Qn||hy(py(),{auto:!0})};Fu();class T extends Error{}class ae extends T{constructor(e,n,r,i){super(`${ae.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.request_id=i==null?void 0:i["x-request-id"],this.error=n;const s=n;this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new es({message:r,cause:ra(n)});const s=n==null?void 0:n.error;return e===400?new $u(e,s,r,i):e===401?new Bu(e,s,r,i):e===403?new Vu(e,s,r,i):e===404?new Hu(e,s,r,i):e===409?new zu(e,s,r,i):e===422?new Wu(e,s,r,i):e===429?new Uu(e,s,r,i):e>=500?new Zu(e,s,r,i):new ae(e,s,r,i)}}class xe extends ae{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class es extends ae{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Ya extends es{constructor({message:e}={}){super({message:e??"Request timed out."})}}class $u extends ae{}class Bu extends ae{}class Vu extends ae{}class Hu extends ae{}class zu extends ae{}class Wu extends ae{}class Uu extends ae{}class Zu extends ae{}class qu extends T{constructor(){super("Could not parse response content as the length limit was reached")}}class Gu extends T{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var Hr=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Ot=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},ve;class ts{constructor(){ve.set(this,void 0),this.buffer=new Uint8Array,Hr(this,ve,null,"f")}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?new TextEncoder().encode(e):e;let r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;const i=[];let s;for(;(s=gy(this.buffer,Ot(this,ve,"f")))!=null;){if(s.carriage&&Ot(this,ve,"f")==null){Hr(this,ve,s.index,"f");continue}if(Ot(this,ve,"f")!=null&&(s.index!==Ot(this,ve,"f")+1||s.carriage)){i.push(this.decodeText(this.buffer.slice(0,Ot(this,ve,"f")-1))),this.buffer=this.buffer.slice(Ot(this,ve,"f")),Hr(this,ve,null,"f");continue}const a=Ot(this,ve,"f")!==null?s.preceding-1:s.preceding,o=this.decodeText(this.buffer.slice(0,a));i.push(o),this.buffer=this.buffer.slice(s.index),Hr(this,ve,null,"f")}return i}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new T(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new T(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new T("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}ve=new WeakMap;ts.NEWLINE_CHARS=new Set([`
`,"\r"]);ts.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function gy(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function vy(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}function Xu(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Be{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const a of yy(e,n))if(!s){if(a.data.startsWith("[DONE]")){s=!0;continue}if(a.event===null||a.event.startsWith("response.")||a.event.startsWith("transcript.")){let o;try{o=JSON.parse(a.data)}catch(c){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),c}if(o&&o.error)throw new ae(void 0,o.error,void 0,nd(e.headers));yield o}else{let o;try{o=JSON.parse(a.data)}catch(c){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),c}if(a.event=="error")throw new ae(void 0,o.error,o.message,void 0);yield{event:a.event,data:o}}}s=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{s||n.abort()}}return new Be(i,n)}static fromReadableStream(e,n){let r=!1;async function*i(){const a=new ts,o=Xu(e);for await(const c of o)for(const l of a.decode(c))yield l;for(const c of a.flush())yield c}async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{for await(const o of i())a||o&&(yield JSON.parse(o));a=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{a||n.abort()}}return new Be(s,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const a=r.next();e.push(a),n.push(a)}return s.shift()}});return[new Be(()=>i(e),this.controller),new Be(()=>i(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new Tu({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:s,done:a}=await n.next();if(a)return i.close();const o=r.encode(JSON.stringify(s)+`
`);i.enqueue(o)}catch(s){i.error(s)}},async cancel(){var i;await((i=n.return)==null?void 0:i.call(n))}})}}async function*yy(t,e){if(!t.body)throw e.abort(),new T("Attempted to iterate over a response with no body");const n=new by,r=new ts,i=Xu(t.body);for await(const s of _y(i))for(const a of r.decode(s)){const o=n.decode(a);o&&(yield o)}for(const s of r.flush()){const a=n.decode(s);a&&(yield a)}}async function*_y(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let i=new Uint8Array(e.length+r.length);i.set(e),i.set(r,e.length),e=i;let s;for(;(s=vy(e))!==-1;)yield e.slice(0,s),e=e.slice(s)}e.length>0&&(yield e)}class by{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=wy(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function wy(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}const Yu=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",Ju=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&ns(t),ns=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Py=t=>Ju(t)||Yu(t)||ju(t);async function Ku(t,e,n){var i;if(t=await t,Ju(t))return t;if(Yu(t)){const s=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const a=ns(s)?[await s.arrayBuffer()]:[s];return new ta(a,e,n)}const r=await My(t);if(e||(e=ky(t)??"unknown_file"),!(n!=null&&n.type)){const s=(i=r[0])==null?void 0:i.type;typeof s=="string"&&(n={...n,type:s})}return new ta(r,e,n)}async function My(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(ns(t))e.push(await t.arrayBuffer());else if(Ay(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${xy(t)}`);return e}function xy(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function ky(t){var e;return Es(t.name)||Es(t.filename)||((e=Es(t.path))==null?void 0:e.split(/[\\/]/).pop())}const Es=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},Ay=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",Nc=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",An=async t=>{const e=await Ey(t.body);return Ru(e,t)},Ey=async t=>{const e=new Du;return await Promise.all(Object.entries(t||{}).map(([n,r])=>na(e,n,r))),e},na=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(Py(n)){const r=await Ku(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>na(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>na(t,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var pn={},Sy=function(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},Cy=function(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},zr;Fu();async function Qu(t){var a;const{response:e}=t;if(t.options.stream)return vt("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):Be.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type"),r=(a=n==null?void 0:n.split(";")[0])==null?void 0:a.trim();if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.endsWith("+json"))){const o=await e.json();return vt("response",e.status,e.url,e.headers,o),ed(o,e)}const s=await e.text();return vt("response",e.status,e.url,e.headers,s),s}function ed(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class rs extends Promise{constructor(e,n=Qu){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new rs(this.responsePromise,async n=>ed(e(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class Iy{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e5,httpAgent:i,fetch:s}){this.baseURL=e,this.maxRetries=Ss("maxRetries",n),this.timeout=Ss("timeout",r),this.httpAgent=i,this.fetch=s??Ou}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...Ly(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${$y()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async i=>{const s=i&&ns(i==null?void 0:i.body)?new DataView(await i.body.arrayBuffer()):(i==null?void 0:i.body)instanceof DataView?i.body:(i==null?void 0:i.body)instanceof ArrayBuffer?new DataView(i.body):i&&ArrayBuffer.isView(i==null?void 0:i.body)?new DataView(i.body.buffer):i==null?void 0:i.body;return{method:e,path:n,...i,body:s}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var m;const r={...e},{method:i,path:s,query:a,headers:o={}}=r,c=ArrayBuffer.isView(r.body)||r.__binaryRequest&&typeof r.body=="string"?r.body:Nc(r.body)?r.body.body:r.body?JSON.stringify(r.body,null,2):null,l=this.calculateContentLength(c),u=this.buildURL(s,a);"timeout"in r&&Ss("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const d=r.httpAgent??this.httpAgent??Lu(u),f=r.timeout+1e3;typeof((m=d==null?void 0:d.options)==null?void 0:m.timeout)=="number"&&f>(d.options.timeout??0)&&(d.options.timeout=f),this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const h=this.buildHeaders({options:r,headers:o,contentLength:l,retryCount:n});return{req:{method:i,...c&&{body:c},headers:h,...d&&{agent:d},signal:r.signal??null},url:u,timeout:r.timeout}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:i}){const s={};r&&(s["content-length"]=r);const a=this.defaultHeaders(e);return Bc(s,a),Bc(s,n),Nc(e.body)&&Qn!=="node"&&delete s["content-type"],Ur(a,"x-stainless-retry-count")===void 0&&Ur(n,"x-stainless-retry-count")===void 0&&(s["x-stainless-retry-count"]=String(i)),Ur(a,"x-stainless-timeout")===void 0&&Ur(n,"x-stainless-timeout")===void 0&&e.timeout&&(s["x-stainless-timeout"]=String(Math.trunc(e.timeout/1e3))),this.validateHeaders(s,n),s}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,i){return ae.generate(e,n,r,i)}request(e,n=null){return new rs(this.makeRequest(e,n))}async makeRequest(e,n){var d,f;const r=await e,i=r.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(r);const{req:s,url:a,timeout:o}=this.buildRequest(r,{retryCount:i-n});if(await this.prepareRequest(s,{url:a,options:r}),vt("request",a,r,s.headers),(d=r.signal)!=null&&d.aborted)throw new xe;const c=new AbortController,l=await this.fetchWithTimeout(a,s,o,c).catch(ra);if(l instanceof Error){if((f=r.signal)!=null&&f.aborted)throw new xe;if(n)return this.retryRequest(r,n);throw l.name==="AbortError"?new Ya:new es({cause:l})}const u=nd(l.headers);if(!l.ok){if(n&&this.shouldRetry(l)){const _=`retrying, ${n} attempts remaining`;return vt(`response (error; ${_})`,l.status,a,u),this.retryRequest(r,n,u)}const h=await l.text().catch(_=>ra(_).message),g=Ny(h),m=g?void 0:h;throw vt(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,l.status,a,u,m),this.makeStatusError(l.status,g,m,u)}return{response:l,options:r,controller:c}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new Oy(this,r,e)}buildURL(e,n){const r=Fy(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return rd(i)||(n={...i,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new T(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,i){const{signal:s,...a}=n||{};s&&s.addEventListener("abort",()=>i.abort());const o=setTimeout(()=>i.abort(),r),c={signal:i.signal,...a};return c.method&&(c.method=c.method.toUpperCase()),this.fetch.call(void 0,e,c).finally(()=>{clearTimeout(o)})}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let i;const s=r==null?void 0:r["retry-after-ms"];if(s){const o=parseFloat(s);Number.isNaN(o)||(i=o)}const a=r==null?void 0:r["retry-after"];if(a&&!i){const o=parseFloat(a);Number.isNaN(o)?i=Date.parse(a)-Date.now():i=o*1e3}if(!(i&&0<=i&&i<60*1e3)){const o=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,o)}return await Sr(i),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,a=Math.min(.5*Math.pow(2,s),8),o=1-Math.random()*.25;return a*o*1e3}getUserAgent(){return`${this.constructor.name}/JS ${on}`}}class td{constructor(e,n,r,i){zr.set(this,void 0),Sy(this,zr,e),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new T("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const r=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[i,s]of r)e.url.searchParams.set(i,s);n.query=void 0,n.path=e.url.toString()}return await Cy(this,zr,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(zr=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class Oy extends rs{constructor(e,n,r){super(n,async i=>new r(e,i.response,await Qu(i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const nd=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),Dy={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Y=t=>typeof t=="object"&&t!==null&&!rd(t)&&Object.keys(t).every(e=>id(Dy,e)),Ty=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":on,"X-Stainless-OS":Fc(Deno.build.os),"X-Stainless-Arch":jc(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":on,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":on,"X-Stainless-OS":Fc(process.platform),"X-Stainless-Arch":jc(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=Ry();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":on,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":on,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Ry(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,a=r[3]||0;return{browser:e,version:`${i}.${s}.${a}`}}}return null}const jc=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Fc=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let $c;const Ly=()=>$c??($c=Ty()),Ny=t=>{try{return JSON.parse(t)}catch{return}},jy=/^[a-z][a-z0-9+.-]*:/i,Fy=t=>jy.test(t),Sr=t=>new Promise(e=>setTimeout(e,t)),Ss=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new T(`${t} must be an integer`);if(e<0)throw new T(`${t} must be a positive integer`);return e},ra=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},Wr=t=>{var e,n,r,i;if(typeof process<"u")return((e=pn==null?void 0:pn[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(i=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:i.trim()};function rd(t){if(!t)return!0;for(const e in t)return!1;return!0}function id(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Bc(t,e){for(const n in e){if(!id(e,n))continue;const r=n.toLowerCase();if(!r)continue;const i=e[n];i===null?delete t[r]:i!==void 0&&(t[r]=i)}}const Vc=new Set(["authorization","api-key"]);function vt(t,...e){if(typeof process<"u"&&(pn==null?void 0:pn.DEBUG)==="true"){const n=e.map(r=>{if(!r)return r;if(r.headers){const s={...r,headers:{...r.headers}};for(const a in r.headers)Vc.has(a.toLowerCase())&&(s.headers[a]="REDACTED");return s}let i=null;for(const s in r)Vc.has(s.toLowerCase())&&(i??(i={...r}),i[s]="REDACTED");return i??r});console.log(`OpenAI:DEBUG:${t}`,...n)}}const $y=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),By=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",Vy=t=>typeof(t==null?void 0:t.get)=="function",Ur=(t,e)=>{var r;const n=e.toLowerCase();if(Vy(t)){const i=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(s,a,o)=>a+o.toUpperCase());for(const s of[e,n,e.toUpperCase(),i]){const a=t.get(s);if(a)return a}}for(const[i,s]of Object.entries(t))if(i.toLowerCase()===n)return Array.isArray(s)?(s.length<=1||console.warn(`Received ${s.length} entries for the ${e} header, using the first entry.`),s[0]):s},Hy=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return Array.from(new Float32Array(r.buffer))}};function Cs(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class is extends td{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class oe extends td{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const e=this.getPaginatedItems();if(!e.length)return null;const n=(r=e[e.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class j{constructor(e){this._client=e}}let sd=class extends j{list(e,n={},r){return Y(n)?this.list(e,{},n):this._client.getAPIList(`/chat/completions/${e}/messages`,zy,{query:n,...r})}},ss=class extends j{constructor(){super(...arguments),this.messages=new sd(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(`/chat/completions/${e}`,n)}update(e,n,r){return this._client.post(`/chat/completions/${e}`,{body:n,...r})}list(e={},n){return Y(e)?this.list({},e):this._client.getAPIList("/chat/completions",as,{query:e,...n})}del(e,n){return this._client.delete(`/chat/completions/${e}`,n)}};class as extends oe{}class zy extends oe{}ss.ChatCompletionsPage=as;ss.Messages=sd;let os=class extends j{constructor(){super(...arguments),this.completions=new ss(this._client)}};os.Completions=ss;os.ChatCompletionsPage=as;class ad extends j{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class od extends j{create(e,n){return this._client.post("/audio/transcriptions",An({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}}))}}class cd extends j{create(e,n){return this._client.post("/audio/translations",An({body:e,...n,__metadata:{model:e.model}}))}}class Cr extends j{constructor(){super(...arguments),this.transcriptions=new od(this._client),this.translations=new cd(this._client),this.speech=new ad(this._client)}}Cr.Transcriptions=od;Cr.Translations=cd;Cr.Speech=ad;class Ja extends j{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return Y(e)?this.list({},e):this._client.getAPIList("/batches",Ka,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class Ka extends oe{}Ja.BatchesPage=Ka;var Se=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},G=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},ia,ci,li,Vn,Hn,ui,zn,Qe,Wn,Zi,qi,cn,ld;class Qa{constructor(){ia.add(this),this.controller=new AbortController,ci.set(this,void 0),li.set(this,()=>{}),Vn.set(this,()=>{}),Hn.set(this,void 0),ui.set(this,()=>{}),zn.set(this,()=>{}),Qe.set(this,{}),Wn.set(this,!1),Zi.set(this,!1),qi.set(this,!1),cn.set(this,!1),Se(this,ci,new Promise((e,n)=>{Se(this,li,e,"f"),Se(this,Vn,n,"f")}),"f"),Se(this,Hn,new Promise((e,n)=>{Se(this,ui,e,"f"),Se(this,zn,n,"f")}),"f"),G(this,ci,"f").catch(()=>{}),G(this,Hn,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},G(this,ia,"m",ld).bind(this))},0)}_connected(){this.ended||(G(this,li,"f").call(this),this._emit("connect"))}get ended(){return G(this,Wn,"f")}get errored(){return G(this,Zi,"f")}get aborted(){return G(this,qi,"f")}abort(){this.controller.abort()}on(e,n){return(G(this,Qe,"f")[e]||(G(this,Qe,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=G(this,Qe,"f")[e];if(!r)return this;const i=r.findIndex(s=>s.listener===n);return i>=0&&r.splice(i,1),this}once(e,n){return(G(this,Qe,"f")[e]||(G(this,Qe,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{Se(this,cn,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){Se(this,cn,!0,"f"),await G(this,Hn,"f")}_emit(e,...n){if(G(this,Wn,"f"))return;e==="end"&&(Se(this,Wn,!0,"f"),G(this,ui,"f").call(this));const r=G(this,Qe,"f")[e];if(r&&(G(this,Qe,"f")[e]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),e==="abort"){const i=n[0];!G(this,cn,"f")&&!(r!=null&&r.length)&&Promise.reject(i),G(this,Vn,"f").call(this,i),G(this,zn,"f").call(this,i),this._emit("end");return}if(e==="error"){const i=n[0];!G(this,cn,"f")&&!(r!=null&&r.length)&&Promise.reject(i),G(this,Vn,"f").call(this,i),G(this,zn,"f").call(this,i),this._emit("end")}}_emitFinal(){}}ci=new WeakMap,li=new WeakMap,Vn=new WeakMap,Hn=new WeakMap,ui=new WeakMap,zn=new WeakMap,Qe=new WeakMap,Wn=new WeakMap,Zi=new WeakMap,qi=new WeakMap,cn=new WeakMap,ia=new WeakSet,ld=function(e){if(Se(this,Zi,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new xe),e instanceof xe)return Se(this,qi,!0,"f"),this._emit("abort",e);if(e instanceof T)return this._emit("error",e);if(e instanceof Error){const n=new T(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new T(String(e)))};var D=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},pe=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},ie,sa,$e,di,Ce,Bt,un,$t,Gi,ye,fi,hi,er,Un,Zn,Hc,zc,Wc,Uc,Zc,qc,Gc;class Oe extends Qa{constructor(){super(...arguments),ie.add(this),sa.set(this,[]),$e.set(this,{}),di.set(this,{}),Ce.set(this,void 0),Bt.set(this,void 0),un.set(this,void 0),$t.set(this,void 0),Gi.set(this,void 0),ye.set(this,void 0),fi.set(this,void 0),hi.set(this,void 0),er.set(this,void 0)}[(sa=new WeakMap,$e=new WeakMap,di=new WeakMap,Ce=new WeakMap,Bt=new WeakMap,un=new WeakMap,$t=new WeakMap,Gi=new WeakMap,ye=new WeakMap,fi=new WeakMap,hi=new WeakMap,er=new WeakMap,ie=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,a)=>n.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Oe;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var s;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=Be.fromReadableStream(e,this.controller);for await(const a of i)D(this,ie,"m",Un).call(this,a);if((s=i.controller.signal)!=null&&s.aborted)throw new xe;return this._addRun(D(this,ie,"m",Zn).call(this))}toReadableStream(){return new Be(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,i,s){const a=new Oe;return a._run(()=>a._runToolAssistantStream(e,n,r,i,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(e,n,r,i,s){var l;const a=s==null?void 0:s.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const o={...i,stream:!0},c=await e.submitToolOutputs(n,r,o,{...s,signal:this.controller.signal});this._connected();for await(const u of c)D(this,ie,"m",Un).call(this,u);if((l=c.controller.signal)!=null&&l.aborted)throw new xe;return this._addRun(D(this,ie,"m",Zn).call(this))}static createThreadAssistantStream(e,n,r){const i=new Oe;return i._run(()=>i._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(e,n,r,i){const s=new Oe;return s._run(()=>s._runAssistantStream(e,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return D(this,fi,"f")}currentRun(){return D(this,hi,"f")}currentMessageSnapshot(){return D(this,Ce,"f")}currentRunStepSnapshot(){return D(this,er,"f")}async finalRunSteps(){return await this.done(),Object.values(D(this,$e,"f"))}async finalMessages(){return await this.done(),Object.values(D(this,di,"f"))}async finalRun(){if(await this.done(),!D(this,Bt,"f"))throw Error("Final run was not received.");return D(this,Bt,"f")}async _createThreadAssistantStream(e,n,r){var o;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},a=await e.createAndRun(s,{...r,signal:this.controller.signal});this._connected();for await(const c of a)D(this,ie,"m",Un).call(this,c);if((o=a.controller.signal)!=null&&o.aborted)throw new xe;return this._addRun(D(this,ie,"m",Zn).call(this))}async _createAssistantStream(e,n,r,i){var c;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},o=await e.create(n,a,{...i,signal:this.controller.signal});this._connected();for await(const l of o)D(this,ie,"m",Un).call(this,l);if((c=o.controller.signal)!=null&&c.aborted)throw new xe;return this._addRun(D(this,ie,"m",Zn).call(this))}static accumulateDelta(e,n){for(const[r,i]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=i;continue}let s=e[r];if(s==null){e[r]=i;continue}if(r==="index"||r==="type"){e[r]=i;continue}if(typeof s=="string"&&typeof i=="string")s+=i;else if(typeof s=="number"&&typeof i=="number")s+=i;else if(Cs(s)&&Cs(i))s=this.accumulateDelta(s,i);else if(Array.isArray(s)&&Array.isArray(i)){if(s.every(a=>typeof a=="string"||typeof a=="number")){s.push(...i);continue}for(const a of i){if(!Cs(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const o=a.index;if(o==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const c=s[o];c==null?s.push(a):s[o]=this.accumulateDelta(c,a)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${s}`);e[r]=s}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,i){return await this._createAssistantStream(n,e,r,i)}async _runToolAssistantStream(e,n,r,i,s){return await this._createToolAssistantStream(r,e,n,i,s)}}Un=function(e){if(!this.ended)switch(pe(this,fi,e,"f"),D(this,ie,"m",Wc).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":D(this,ie,"m",Gc).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":D(this,ie,"m",zc).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":D(this,ie,"m",Hc).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Zn=function(){if(this.ended)throw new T("stream has ended, this shouldn't happen");if(!D(this,Bt,"f"))throw Error("Final run has not been received");return D(this,Bt,"f")},Hc=function(e){const[n,r]=D(this,ie,"m",Zc).call(this,e,D(this,Ce,"f"));pe(this,Ce,n,"f"),D(this,di,"f")[n.id]=n;for(const i of r){const s=n.content[i.index];(s==null?void 0:s.type)=="text"&&this._emit("textCreated",s.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const i of e.data.delta.content){if(i.type=="text"&&i.text){let s=i.text,a=n.content[i.index];if(a&&a.type=="text")this._emit("textDelta",s,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=D(this,un,"f")){if(D(this,$t,"f"))switch(D(this,$t,"f").type){case"text":this._emit("textDone",D(this,$t,"f").text,D(this,Ce,"f"));break;case"image_file":this._emit("imageFileDone",D(this,$t,"f").image_file,D(this,Ce,"f"));break}pe(this,un,i.index,"f")}pe(this,$t,n.content[i.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(D(this,un,"f")!==void 0){const i=e.data.content[D(this,un,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,D(this,Ce,"f"));break;case"text":this._emit("textDone",i.text,D(this,Ce,"f"));break}}D(this,Ce,"f")&&this._emit("messageDone",e.data),pe(this,Ce,void 0,"f")}},zc=function(e){const n=D(this,ie,"m",Uc).call(this,e);switch(pe(this,er,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const s of r.step_details.tool_calls)s.index==D(this,Gi,"f")?this._emit("toolCallDelta",s,n.step_details.tool_calls[s.index]):(D(this,ye,"f")&&this._emit("toolCallDone",D(this,ye,"f")),pe(this,Gi,s.index,"f"),pe(this,ye,n.step_details.tool_calls[s.index],"f"),D(this,ye,"f")&&this._emit("toolCallCreated",D(this,ye,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":pe(this,er,void 0,"f"),e.data.step_details.type=="tool_calls"&&D(this,ye,"f")&&(this._emit("toolCallDone",D(this,ye,"f")),pe(this,ye,void 0,"f")),this._emit("runStepDone",e.data,n);break}},Wc=function(e){D(this,sa,"f").push(e),this._emit("event",e)},Uc=function(e){switch(e.event){case"thread.run.step.created":return D(this,$e,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=D(this,$e,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const i=Oe.accumulateDelta(n,r.delta);D(this,$e,"f")[e.data.id]=i}return D(this,$e,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":D(this,$e,"f")[e.data.id]=e.data;break}if(D(this,$e,"f")[e.data.id])return D(this,$e,"f")[e.data.id];throw new Error("No snapshot available")},Zc=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(const s of i.delta.content)if(s.index in n.content){let a=n.content[s.index];n.content[s.index]=D(this,ie,"m",qc).call(this,s,a)}else n.content[s.index]=s,r.push(s);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},qc=function(e,n){return Oe.accumulateDelta(n,e)},Gc=function(e){switch(pe(this,hi,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":pe(this,Bt,e.data,"f"),D(this,ye,"f")&&(this._emit("toolCallDone",D(this,ye,"f")),pe(this,ye,void 0,"f"));break}};class eo extends j{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/assistants/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return Y(e)?this.list({},e):this._client.getAPIList("/assistants",to,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class to extends oe{}eo.AssistantsPage=to;function Xc(t){return typeof t.parse=="function"}const gn=t=>(t==null?void 0:t.role)==="assistant",ud=t=>(t==null?void 0:t.role)==="function",dd=t=>(t==null?void 0:t.role)==="tool";function C_(t,e){const n={...t};return Object.defineProperties(n,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:e,enumerable:!1}}),n}function no(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function Ir(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function Wy(t,e){return!e||!fd(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:ro(t,e)}function ro(t,e){const n=t.choices.map(r=>{var i;if(r.finish_reason==="length")throw new qu;if(r.finish_reason==="content_filter")throw new Gu;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((i=r.message.tool_calls)==null?void 0:i.map(s=>Zy(e,s)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?Uy(e,r.message.content):null}}});return{...t,choices:n}}function Uy(t,e){var n,r;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=t.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function Zy(t,e){var r;const n=(r=t.tools)==null?void 0:r.find(i=>{var s;return((s=i.function)==null?void 0:s.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:Ir(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function qy(t,e){var r;if(!t)return!1;const n=(r=t.tools)==null?void 0:r.find(i=>{var s;return((s=i.function)==null?void 0:s.name)===e.function.name});return Ir(n)||(n==null?void 0:n.function.strict)||!1}function fd(t){var e;return no(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>Ir(n)||n.type==="function"&&n.function.strict===!0))??!1}function Gy(t){for(const e of t??[]){if(e.type!=="function")throw new T(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new T(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var de=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},ce,aa,Xi,oa,ca,la,hd,ua;const Yc=10;class md extends Qa{constructor(){super(...arguments),ce.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(ud(e)||dd(e))&&e.content)this._emit("functionCallResult",e.content);else if(gn(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(gn(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new T("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),de(this,ce,"m",aa).call(this)}async finalMessage(){return await this.done(),de(this,ce,"m",Xi).call(this)}async finalFunctionCall(){return await this.done(),de(this,ce,"m",oa).call(this)}async finalFunctionCallResult(){return await this.done(),de(this,ce,"m",ca).call(this)}async totalUsage(){return await this.done(),de(this,ce,"m",la).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=de(this,ce,"m",Xi).call(this);n&&this._emit("finalMessage",n);const r=de(this,ce,"m",aa).call(this);r&&this._emit("finalContent",r);const i=de(this,ce,"m",oa).call(this);i&&this._emit("finalFunctionCall",i);const s=de(this,ce,"m",ca).call(this);s!=null&&this._emit("finalFunctionCallResult",s),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",de(this,ce,"m",la).call(this))}async _createChatCompletion(e,n,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),de(this,ce,"m",hd).call(this,n);const s=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(ro(s,n))}async _runChatCompletion(e,n,r){for(const i of n.messages)this._addMessage(i,!1);return await this._createChatCompletion(e,n,r)}async _runFunctions(e,n,r){var f;const i="function",{function_call:s="auto",stream:a,...o}=n,c=typeof s!="string"&&(s==null?void 0:s.name),{maxChatCompletions:l=Yc}=r||{},u={};for(const h of n.functions)u[h.name||h.function.name]=h;const d=n.functions.map(h=>({name:h.name||h.function.name,parameters:h.parameters,description:h.description}));for(const h of n.messages)this._addMessage(h,!1);for(let h=0;h<l;++h){const m=(f=(await this._createChatCompletion(e,{...o,function_call:s,functions:d,messages:[...this.messages]},r)).choices[0])==null?void 0:f.message;if(!m)throw new T("missing message in ChatCompletion response");if(!m.function_call)return;const{name:p,arguments:x}=m.function_call,_=u[p];if(_){if(c&&c!==p){const w=`Invalid function_call: ${JSON.stringify(p)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:i,name:p,content:w});continue}}else{const w=`Invalid function_call: ${JSON.stringify(p)}. Available options are: ${d.map(P=>JSON.stringify(P.name)).join(", ")}. Please try again`;this._addMessage({role:i,name:p,content:w});continue}let k;try{k=Xc(_)?await _.parse(x):x}catch(w){this._addMessage({role:i,name:p,content:w instanceof Error?w.message:String(w)});continue}const v=await _.function(k,this),A=de(this,ce,"m",ua).call(this,v);if(this._addMessage({role:i,name:p,content:A}),c)return}}async _runTools(e,n,r){var h,g,m;const i="tool",{tool_choice:s="auto",stream:a,...o}=n,c=typeof s!="string"&&((h=s==null?void 0:s.function)==null?void 0:h.name),{maxChatCompletions:l=Yc}=r||{},u=n.tools.map(p=>{if(Ir(p)){if(!p.$callback)throw new T("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:p.$callback,name:p.function.name,description:p.function.description||"",parameters:p.function.parameters,parse:p.$parseRaw,strict:!0}}}return p}),d={};for(const p of u)p.type==="function"&&(d[p.function.name||p.function.function.name]=p.function);const f="tools"in n?u.map(p=>p.type==="function"?{type:"function",function:{name:p.function.name||p.function.function.name,parameters:p.function.parameters,description:p.function.description,strict:p.function.strict}}:p):void 0;for(const p of n.messages)this._addMessage(p,!1);for(let p=0;p<l;++p){const _=(g=(await this._createChatCompletion(e,{...o,tool_choice:s,tools:f,messages:[...this.messages]},r)).choices[0])==null?void 0:g.message;if(!_)throw new T("missing message in ChatCompletion response");if(!((m=_.tool_calls)!=null&&m.length))return;for(const k of _.tool_calls){if(k.type!=="function")continue;const v=k.id,{name:A,arguments:w}=k.function,P=d[A];if(P){if(c&&c!==A){const C=`Invalid tool_call: ${JSON.stringify(A)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:i,tool_call_id:v,content:C});continue}}else{const C=`Invalid tool_call: ${JSON.stringify(A)}. Available options are: ${Object.keys(d).map(U=>JSON.stringify(U)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:v,content:C});continue}let N;try{N=Xc(P)?await P.parse(w):w}catch(C){const U=C instanceof Error?C.message:String(C);this._addMessage({role:i,tool_call_id:v,content:U});continue}const O=await P.function(N,this),E=de(this,ce,"m",ua).call(this,O);if(this._addMessage({role:i,tool_call_id:v,content:E}),c)return}}}}ce=new WeakSet,aa=function(){return de(this,ce,"m",Xi).call(this).content??null},Xi=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(gn(n)){const{function_call:r,...i}=n,s={...i,content:n.content??null,refusal:n.refusal??null};return r&&(s.function_call=r),s}}throw new T("stream ended without producing a ChatCompletionMessage with role=assistant")},oa=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const i=this.messages[r];if(gn(i)&&(i!=null&&i.function_call))return i.function_call;if(gn(i)&&((e=i==null?void 0:i.tool_calls)!=null&&e.length))return(n=i.tool_calls.at(-1))==null?void 0:n.function}},ca=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(ud(n)&&n.content!=null||dd(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var i;return r.role==="assistant"&&((i=r.tool_calls)==null?void 0:i.some(s=>s.type==="function"&&s.id===n.tool_call_id))}))return n.content}},la=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},hd=function(e){if(e.n!=null&&e.n>1)throw new T("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},ua=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class _r extends md{static runFunctions(e,n,r){const i=new _r,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(e,n,s)),i}static runTools(e,n,r){const i=new _r,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}_addMessage(e,n=!0){super._addMessage(e,n),gn(e)&&e.content&&this._emit("content",e.content)}}const pd=1,gd=2,vd=4,yd=8,_d=16,bd=32,wd=64,Pd=128,Md=256,xd=Pd|Md,kd=_d|bd|xd|wd,Ad=pd|gd|kd,Ed=vd|yd,Xy=Ad|Ed,te={STR:pd,NUM:gd,ARR:vd,OBJ:yd,NULL:_d,BOOL:bd,NAN:wd,INFINITY:Pd,MINUS_INFINITY:Md,INF:xd,SPECIAL:kd,ATOM:Ad,COLLECTION:Ed,ALL:Xy};class Yy extends Error{}class Jy extends Error{}function Ky(t,e=te.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return Qy(t.trim(),e)}const Qy=(t,e)=>{const n=t.length;let r=0;const i=f=>{throw new Yy(`${f} at position ${r}`)},s=f=>{throw new Jy(`${f} at position ${r}`)},a=()=>(d(),r>=n&&i("Unexpected end of input"),t[r]==='"'?o():t[r]==="{"?c():t[r]==="["?l():t.substring(r,r+4)==="null"||te.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||te.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||te.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||te.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||te.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||te.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):u()),o=()=>{const f=r;let h=!1;for(r++;r<n&&(t[r]!=='"'||h&&t[r-1]==="\\");)h=t[r]==="\\"?!h:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(f,++r-Number(h)))}catch(g){s(String(g))}else if(te.STR&e)try{return JSON.parse(t.substring(f,r-Number(h))+'"')}catch{return JSON.parse(t.substring(f,t.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},c=()=>{r++,d();const f={};try{for(;t[r]!=="}";){if(d(),r>=n&&te.OBJ&e)return f;const h=o();d(),r++;try{const g=a();Object.defineProperty(f,h,{value:g,writable:!0,enumerable:!0,configurable:!0})}catch(g){if(te.OBJ&e)return f;throw g}d(),t[r]===","&&r++}}catch{if(te.OBJ&e)return f;i("Expected '}' at end of object")}return r++,f},l=()=>{r++;const f=[];try{for(;t[r]!=="]";)f.push(a()),d(),t[r]===","&&r++}catch{if(te.ARR&e)return f;i("Expected ']' at end of array")}return r++,f},u=()=>{if(r===0){t==="-"&&te.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t)}catch(h){if(te.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}s(String(h))}}const f=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(te.NUM&e)&&i("Unterminated number literal");try{return JSON.parse(t.substring(f,r))}catch{t.substring(f,r)==="-"&&te.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t.substring(f,t.lastIndexOf("e")))}catch(g){s(String(g))}}},d=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return a()},Jc=t=>Ky(t,te.ALL^te.NUM);var Kt=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Z=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Q,Xe,Qt,ot,Is,Zr,Os,Ds,Ts,qr,Rs,Kc;class br extends md{constructor(e){super(),Q.add(this),Xe.set(this,void 0),Qt.set(this,void 0),ot.set(this,void 0),Kt(this,Xe,e,"f"),Kt(this,Qt,[],"f")}get currentChatCompletionSnapshot(){return Z(this,ot,"f")}static fromReadableStream(e){const n=new br(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const i=new br(n);return i._run(()=>i._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(e,n,r){var a;super._createChatCompletion;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),Z(this,Q,"m",Is).call(this);const s=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const o of s)Z(this,Q,"m",Os).call(this,o);if((a=s.controller.signal)!=null&&a.aborted)throw new xe;return this._addChatCompletion(Z(this,Q,"m",qr).call(this))}async _fromReadableStream(e,n){var a;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Z(this,Q,"m",Is).call(this),this._connected();const i=Be.fromReadableStream(e,this.controller);let s;for await(const o of i)s&&s!==o.id&&this._addChatCompletion(Z(this,Q,"m",qr).call(this)),Z(this,Q,"m",Os).call(this,o),s=o.id;if((a=i.controller.signal)!=null&&a.aborted)throw new xe;return this._addChatCompletion(Z(this,Q,"m",qr).call(this))}[(Xe=new WeakMap,Qt=new WeakMap,ot=new WeakMap,Q=new WeakSet,Is=function(){this.ended||Kt(this,ot,void 0,"f")},Zr=function(n){let r=Z(this,Qt,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Z(this,Qt,"f")[n.index]=r,r)},Os=function(n){var i,s,a,o,c,l,u,d,f,h,g,m,p,x,_;if(this.ended)return;const r=Z(this,Q,"m",Kc).call(this,n);this._emit("chunk",n,r);for(const k of n.choices){const v=r.choices[k.index];k.delta.content!=null&&((i=v.message)==null?void 0:i.role)==="assistant"&&((s=v.message)!=null&&s.content)&&(this._emit("content",k.delta.content,v.message.content),this._emit("content.delta",{delta:k.delta.content,snapshot:v.message.content,parsed:v.message.parsed})),k.delta.refusal!=null&&((a=v.message)==null?void 0:a.role)==="assistant"&&((o=v.message)!=null&&o.refusal)&&this._emit("refusal.delta",{delta:k.delta.refusal,snapshot:v.message.refusal}),((c=k.logprobs)==null?void 0:c.content)!=null&&((l=v.message)==null?void 0:l.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(u=k.logprobs)==null?void 0:u.content,snapshot:((d=v.logprobs)==null?void 0:d.content)??[]}),((f=k.logprobs)==null?void 0:f.refusal)!=null&&((h=v.message)==null?void 0:h.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(g=k.logprobs)==null?void 0:g.refusal,snapshot:((m=v.logprobs)==null?void 0:m.refusal)??[]});const A=Z(this,Q,"m",Zr).call(this,v);v.finish_reason&&(Z(this,Q,"m",Ts).call(this,v),A.current_tool_call_index!=null&&Z(this,Q,"m",Ds).call(this,v,A.current_tool_call_index));for(const w of k.delta.tool_calls??[])A.current_tool_call_index!==w.index&&(Z(this,Q,"m",Ts).call(this,v),A.current_tool_call_index!=null&&Z(this,Q,"m",Ds).call(this,v,A.current_tool_call_index)),A.current_tool_call_index=w.index;for(const w of k.delta.tool_calls??[]){const P=(p=v.message.tool_calls)==null?void 0:p[w.index];P!=null&&P.type&&((P==null?void 0:P.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(x=P.function)==null?void 0:x.name,index:w.index,arguments:P.function.arguments,parsed_arguments:P.function.parsed_arguments,arguments_delta:((_=w.function)==null?void 0:_.arguments)??""}):(P==null||P.type,void 0))}}},Ds=function(n,r){var a,o,c;if(Z(this,Q,"m",Zr).call(this,n).done_tool_calls.has(r))return;const s=(a=n.message.tool_calls)==null?void 0:a[r];if(!s)throw new Error("no tool call snapshot");if(!s.type)throw new Error("tool call snapshot missing `type`");if(s.type==="function"){const l=(c=(o=Z(this,Xe,"f"))==null?void 0:o.tools)==null?void 0:c.find(u=>u.type==="function"&&u.function.name===s.function.name);this._emit("tool_calls.function.arguments.done",{name:s.function.name,index:r,arguments:s.function.arguments,parsed_arguments:Ir(l)?l.$parseRaw(s.function.arguments):l!=null&&l.function.strict?JSON.parse(s.function.arguments):null})}else s.type},Ts=function(n){var i,s;const r=Z(this,Q,"m",Zr).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const a=Z(this,Q,"m",Rs).call(this);this._emit("content.done",{content:n.message.content,parsed:a?a.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(i=n.logprobs)!=null&&i.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(s=n.logprobs)!=null&&s.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},qr=function(){if(this.ended)throw new T("stream has ended, this shouldn't happen");const n=Z(this,ot,"f");if(!n)throw new T("request ended without sending any chunks");return Kt(this,ot,void 0,"f"),Kt(this,Qt,[],"f"),e_(n,Z(this,Xe,"f"))},Rs=function(){var r;const n=(r=Z(this,Xe,"f"))==null?void 0:r.response_format;return no(n)?n:null},Kc=function(n){var r,i,s,a;let o=Z(this,ot,"f");const{choices:c,...l}=n;o?Object.assign(o,l):o=Kt(this,ot,{...l,choices:[]},"f");for(const{delta:u,finish_reason:d,index:f,logprobs:h=null,...g}of n.choices){let m=o.choices[f];if(m||(m=o.choices[f]={finish_reason:d,index:f,message:{},logprobs:h,...g}),h)if(!m.logprobs)m.logprobs=Object.assign({},h);else{const{content:w,refusal:P,...N}=h;Object.assign(m.logprobs,N),w&&((r=m.logprobs).content??(r.content=[]),m.logprobs.content.push(...w)),P&&((i=m.logprobs).refusal??(i.refusal=[]),m.logprobs.refusal.push(...P))}if(d&&(m.finish_reason=d,Z(this,Xe,"f")&&fd(Z(this,Xe,"f")))){if(d==="length")throw new qu;if(d==="content_filter")throw new Gu}if(Object.assign(m,g),!u)continue;const{content:p,refusal:x,function_call:_,role:k,tool_calls:v,...A}=u;if(Object.assign(m.message,A),x&&(m.message.refusal=(m.message.refusal||"")+x),k&&(m.message.role=k),_&&(m.message.function_call?(_.name&&(m.message.function_call.name=_.name),_.arguments&&((s=m.message.function_call).arguments??(s.arguments=""),m.message.function_call.arguments+=_.arguments)):m.message.function_call=_),p&&(m.message.content=(m.message.content||"")+p,!m.message.refusal&&Z(this,Q,"m",Rs).call(this)&&(m.message.parsed=Jc(m.message.content))),v){m.message.tool_calls||(m.message.tool_calls=[]);for(const{index:w,id:P,type:N,function:O,...E}of v){const C=(a=m.message.tool_calls)[w]??(a[w]={});Object.assign(C,E),P&&(C.id=P),N&&(C.type=N),O&&(C.function??(C.function={name:O.name??"",arguments:""})),O!=null&&O.name&&(C.function.name=O.name),O!=null&&O.arguments&&(C.function.arguments+=O.arguments,qy(Z(this,Xe,"f"),C)&&(C.function.parsed_arguments=Jc(C.function.arguments)))}}}return o},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,a)=>n.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Be(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function e_(t,e){const{id:n,choices:r,created:i,model:s,system_fingerprint:a,...o}=t,c={...o,id:n,choices:r.map(({message:l,finish_reason:u,index:d,logprobs:f,...h})=>{if(!u)throw new T(`missing finish_reason for choice ${d}`);const{content:g=null,function_call:m,tool_calls:p,...x}=l,_=l.role;if(!_)throw new T(`missing role for choice ${d}`);if(m){const{arguments:k,name:v}=m;if(k==null)throw new T(`missing function_call.arguments for choice ${d}`);if(!v)throw new T(`missing function_call.name for choice ${d}`);return{...h,message:{content:g,function_call:{arguments:k,name:v},role:_,refusal:l.refusal??null},finish_reason:u,index:d,logprobs:f}}return p?{...h,index:d,finish_reason:u,logprobs:f,message:{...x,role:_,content:g,refusal:l.refusal??null,tool_calls:p.map((k,v)=>{const{function:A,type:w,id:P,...N}=k,{arguments:O,name:E,...C}=A||{};if(P==null)throw new T(`missing choices[${d}].tool_calls[${v}].id
${Gr(t)}`);if(w==null)throw new T(`missing choices[${d}].tool_calls[${v}].type
${Gr(t)}`);if(E==null)throw new T(`missing choices[${d}].tool_calls[${v}].function.name
${Gr(t)}`);if(O==null)throw new T(`missing choices[${d}].tool_calls[${v}].function.arguments
${Gr(t)}`);return{...N,id:P,type:w,function:{...C,name:E,arguments:O}}})}}:{...h,message:{...x,content:g,role:_,refusal:l.refusal??null},finish_reason:u,index:d,logprobs:f}}),created:i,model:s,object:"chat.completion",...a?{system_fingerprint:a}:{}};return Wy(c,e)}function Gr(t){return JSON.stringify(t)}class vn extends br{static fromReadableStream(e){const n=new vn(null);return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,r){const i=new vn(null),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(e,n,s)),i}static runTools(e,n,r){const i=new vn(n),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}}let Sd=class extends j{parse(e,n){return Gy(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>ro(r,e))}runFunctions(e,n){return e.stream?vn.runFunctions(this._client,e,n):_r.runFunctions(this._client,e,n)}runTools(e,n){return e.stream?vn.runTools(this._client,e,n):_r.runTools(this._client,e,n)}stream(e,n){return br.createChatCompletion(this._client,e,n)}};class da extends j{constructor(){super(...arguments),this.completions=new Sd(this._client)}}(function(t){t.Completions=Sd})(da||(da={}));class Cd extends j{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Id extends j{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class cs extends j{constructor(){super(...arguments),this.sessions=new Cd(this._client),this.transcriptionSessions=new Id(this._client)}}cs.Sessions=Cd;cs.TranscriptionSessions=Id;class io extends j{create(e,n,r){return this._client.post(`/threads/${e}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/threads/${e}/messages/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return Y(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,so,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class so extends oe{}io.MessagesPage=so;class ao extends j{retrieve(e,n,r,i={},s){return Y(i)?this.retrieve(e,n,r,{},i):this._client.get(`/threads/${e}/runs/${n}/steps/${r}`,{query:i,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n,r={},i){return Y(r)?this.list(e,n,{},r):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,oo,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}}class oo extends oe{}ao.RunStepsPage=oo;let Or=class extends j{constructor(){super(...arguments),this.steps=new ao(this._client)}create(e,n,r){const{include:i,...s}=n;return this._client.post(`/threads/${e}/runs`,{query:{include:i},body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(e,n,r){return this._client.get(`/threads/${e}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/threads/${e}/runs/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return Y(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,co,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}createAndStream(e,n,r){return Oe.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:a}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...i}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const c=a.headers.get("openai-poll-after-ms");if(c){const l=parseInt(c);isNaN(l)||(o=l)}}await Sr(o);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(e,n,r){return Oe.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r,i){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,n,r,i){const s=await this.submitToolOutputs(e,n,r,i);return await this.poll(e,s.id,i)}submitToolOutputsStream(e,n,r,i){return Oe.createToolAssistantStream(e,n,this._client.beta.threads.runs,r,i)}};class co extends oe{}Or.RunsPage=co;Or.Steps=ao;Or.RunStepsPage=oo;class En extends j{constructor(){super(...arguments),this.runs=new Or(this._client),this.messages=new io(this._client)}create(e={},n){return Y(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/threads/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(e,n){return Oe.createThreadAssistantStream(e,this._client.beta.threads,n)}}En.Runs=Or;En.RunsPage=co;En.Messages=io;En.MessagesPage=so;class Sn extends j{constructor(){super(...arguments),this.realtime=new cs(this._client),this.chat=new da(this._client),this.assistants=new eo(this._client),this.threads=new En(this._client)}}Sn.Realtime=cs;Sn.Assistants=eo;Sn.AssistantsPage=to;Sn.Threads=En;class Od extends j{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class Dd extends j{create(e,n){const r=!!e.encoding_format;let i=r?e.encoding_format:"base64";r&&vt("Request","User defined encoding_format:",e.encoding_format);const s=this._client.post("/embeddings",{body:{...e,encoding_format:i},...n});return r?s:(vt("response","Decoding base64 embeddings to float32 array"),s._thenUnwrap(a=>(a&&a.data&&a.data.forEach(o=>{const c=o.embedding;o.embedding=Hy(c)}),a)))}}class lo extends j{retrieve(e,n,r,i){return this._client.get(`/evals/${e}/runs/${n}/output_items/${r}`,i)}list(e,n,r={},i){return Y(r)?this.list(e,n,{},r):this._client.getAPIList(`/evals/${e}/runs/${n}/output_items`,uo,{query:r,...i})}}class uo extends oe{}lo.OutputItemListResponsesPage=uo;class Dr extends j{constructor(){super(...arguments),this.outputItems=new lo(this._client)}create(e,n,r){return this._client.post(`/evals/${e}/runs`,{body:n,...r})}retrieve(e,n,r){return this._client.get(`/evals/${e}/runs/${n}`,r)}list(e,n={},r){return Y(n)?this.list(e,{},n):this._client.getAPIList(`/evals/${e}/runs`,fo,{query:n,...r})}del(e,n,r){return this._client.delete(`/evals/${e}/runs/${n}`,r)}cancel(e,n,r){return this._client.post(`/evals/${e}/runs/${n}`,r)}}class fo extends oe{}Dr.RunListResponsesPage=fo;Dr.OutputItems=lo;Dr.OutputItemListResponsesPage=uo;class Tr extends j{constructor(){super(...arguments),this.runs=new Dr(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(`/evals/${e}`,n)}update(e,n,r){return this._client.post(`/evals/${e}`,{body:n,...r})}list(e={},n){return Y(e)?this.list({},e):this._client.getAPIList("/evals",ho,{query:e,...n})}del(e,n){return this._client.delete(`/evals/${e}`,n)}}class ho extends oe{}Tr.EvalListResponsesPage=ho;Tr.Runs=Dr;Tr.RunListResponsesPage=fo;let mo=class extends j{create(e,n){return this._client.post("/files",An({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return Y(e)?this.list({},e):this._client.getAPIList("/files",po,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,n)}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const i=new Set(["processed","error","deleted"]),s=Date.now();let a=await this.retrieve(e);for(;!a.status||!i.has(a.status);)if(await Sr(n),a=await this.retrieve(e),Date.now()-s>r)throw new Ya({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return a}};class po extends oe{}mo.FileObjectsPage=po;class Td extends j{}let Rd=class extends j{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class go extends j{constructor(){super(...arguments),this.graders=new Rd(this._client)}}go.Graders=Rd;class vo extends j{create(e,n,r){return this._client.getAPIList(`/fine_tuning/checkpoints/${e}/permissions`,yo,{body:n,method:"post",...r})}retrieve(e,n={},r){return Y(n)?this.retrieve(e,{},n):this._client.get(`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...r})}del(e,n,r){return this._client.delete(`/fine_tuning/checkpoints/${e}/permissions/${n}`,r)}}class yo extends is{}vo.PermissionCreateResponsesPage=yo;let ls=class extends j{constructor(){super(...arguments),this.permissions=new vo(this._client)}};ls.Permissions=vo;ls.PermissionCreateResponsesPage=yo;class _o extends j{list(e,n={},r){return Y(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,bo,{query:n,...r})}}class bo extends oe{}_o.FineTuningJobCheckpointsPage=bo;class Cn extends j{constructor(){super(...arguments),this.checkpoints=new _o(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return Y(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",wo,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return Y(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,Po,{query:n,...r})}pause(e,n){return this._client.post(`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(`/fine_tuning/jobs/${e}/resume`,n)}}class wo extends oe{}class Po extends oe{}Cn.FineTuningJobsPage=wo;Cn.FineTuningJobEventsPage=Po;Cn.Checkpoints=_o;Cn.FineTuningJobCheckpointsPage=bo;class xt extends j{constructor(){super(...arguments),this.methods=new Td(this._client),this.jobs=new Cn(this._client),this.checkpoints=new ls(this._client),this.alpha=new go(this._client)}}xt.Methods=Td;xt.Jobs=Cn;xt.FineTuningJobsPage=wo;xt.FineTuningJobEventsPage=Po;xt.Checkpoints=ls;xt.Alpha=go;class Ld extends j{}class Mo extends j{constructor(){super(...arguments),this.graderModels=new Ld(this._client)}}Mo.GraderModels=Ld;class Nd extends j{createVariation(e,n){return this._client.post("/images/variations",An({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",An({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}class xo extends j{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",ko,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class ko extends is{}xo.ModelsPage=ko;class jd extends j{create(e,n){return this._client.post("/moderations",{body:e,...n})}}function t_(t,e){return!e||!r_(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:Fd(t,e)}function Fd(t,e){const n=t.output.map(i=>{if(i.type==="function_call")return{...i,parsed_arguments:a_(e,i)};if(i.type==="message"){const s=i.content.map(a=>a.type==="output_text"?{...a,parsed:n_(e,a.text)}:a);return{...i,content:s}}return i}),r=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||$d(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const i of r.output)if(i.type==="message"){for(const s of i.content)if(s.type==="output_text"&&s.parsed!==null)return s.parsed}return null}}),r}function n_(t,e){var n,r,i,s;return((r=(n=t.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((i=t.text)==null?void 0:i.format)?((s=t.text)==null?void 0:s.format).$parseRaw(e):JSON.parse(e)}function r_(t){var e;return!!no((e=t.text)==null?void 0:e.format)}function i_(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function s_(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function a_(t,e){const n=s_(t.tools??[],e.name);return{...e,...e,parsed_arguments:i_(n)?n.$parseRaw(e.arguments):n!=null&&n.strict?JSON.parse(e.arguments):null}}function $d(t){const e=[];for(const n of t.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&e.push(r.text);t.output_text=e.join("")}class Bd extends j{list(e,n={},r){return Y(n)?this.list(e,{},n):this._client.getAPIList(`/responses/${e}/input_items`,c_,{query:n,...r})}}var en=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},ct=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},tn,Xr,lt,Yr,Qc,el,tl,nl;class Ao extends Qa{constructor(e){super(),tn.add(this),Xr.set(this,void 0),lt.set(this,void 0),Yr.set(this,void 0),en(this,Xr,e,"f")}static createResponse(e,n,r){const i=new Ao(n);return i._run(()=>i._createResponse(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createResponse(e,n,r){var a;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),ct(this,tn,"m",Qc).call(this);const s=await e.responses.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const o of s)ct(this,tn,"m",el).call(this,o);if((a=s.controller.signal)!=null&&a.aborted)throw new xe;return ct(this,tn,"m",tl).call(this)}[(Xr=new WeakMap,lt=new WeakMap,Yr=new WeakMap,tn=new WeakSet,Qc=function(){this.ended||en(this,lt,void 0,"f")},el=function(n){if(this.ended)return;const r=ct(this,tn,"m",nl).call(this,n);switch(this._emit("event",n),n.type){case"response.output_text.delta":{const i=r.output[n.output_index];if(!i)throw new T(`missing output at index ${n.output_index}`);if(i.type==="message"){const s=i.content[n.content_index];if(!s)throw new T(`missing content at index ${n.content_index}`);if(s.type!=="output_text")throw new T(`expected content to be 'output_text', got ${s.type}`);this._emit("response.output_text.delta",{...n,snapshot:s.text})}break}case"response.function_call_arguments.delta":{const i=r.output[n.output_index];if(!i)throw new T(`missing output at index ${n.output_index}`);i.type==="function_call"&&this._emit("response.function_call_arguments.delta",{...n,snapshot:i.arguments});break}default:this._emit(n.type,n);break}},tl=function(){if(this.ended)throw new T("stream has ended, this shouldn't happen");const n=ct(this,lt,"f");if(!n)throw new T("request ended without sending any events");en(this,lt,void 0,"f");const r=o_(n,ct(this,Xr,"f"));return en(this,Yr,r,"f"),r},nl=function(n){let r=ct(this,lt,"f");if(!r){if(n.type!=="response.created")throw new T(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=en(this,lt,n.response,"f"),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const i=r.output[n.output_index];if(!i)throw new T(`missing output at index ${n.output_index}`);i.type==="message"&&i.content.push(n.part);break}case"response.output_text.delta":{const i=r.output[n.output_index];if(!i)throw new T(`missing output at index ${n.output_index}`);if(i.type==="message"){const s=i.content[n.content_index];if(!s)throw new T(`missing content at index ${n.content_index}`);if(s.type!=="output_text")throw new T(`expected content to be 'output_text', got ${s.type}`);s.text+=n.delta}break}case"response.function_call_arguments.delta":{const i=r.output[n.output_index];if(!i)throw new T(`missing output at index ${n.output_index}`);i.type==="function_call"&&(i.arguments+=n.delta);break}case"response.completed":{en(this,lt,n.response,"f");break}}return r},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,a)=>n.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=ct(this,Yr,"f");if(!e)throw new T("stream ended without producing a ChatCompletion");return e}}function o_(t,e){return t_(t,e)}class Eo extends j{constructor(){super(...arguments),this.inputItems=new Bd(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&$d(r),r))}retrieve(e,n={},r){return Y(n)?this.retrieve(e,{},n):this._client.get(`/responses/${e}`,{query:n,...r})}del(e,n){return this._client.delete(`/responses/${e}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(r=>Fd(r,e))}stream(e,n){return Ao.createResponse(this._client,e,n)}}class c_ extends oe{}Eo.InputItems=Bd;class Vd extends j{create(e,n,r){return this._client.post(`/uploads/${e}/parts`,An({body:n,...r}))}}class So extends j{constructor(){super(...arguments),this.parts=new Vd(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(`/uploads/${e}/complete`,{body:n,...r})}}So.Parts=Vd;const l_=async t=>{const e=await Promise.allSettled(t),n=e.filter(i=>i.status==="rejected");if(n.length){for(const i of n)console.error(i.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const i of e)i.status==="fulfilled"&&r.push(i.value);return r};class us extends j{create(e,n,r){return this._client.post(`/vector_stores/${e}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/vector_stores/${e}/files/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return Y(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,ds,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const s=await this.retrieve(e,n,{...r,headers:i}).withResponse(),a=s.data;switch(a.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const c=s.response.headers.get("openai-poll-after-ms");if(c){const l=parseInt(c);isNaN(l)||(o=l)}}await Sr(o);break;case"failed":case"completed":return a}}}async upload(e,n,r){const i=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:i.id},r)}async uploadAndPoll(e,n,r){const i=await this.upload(e,n,r);return await this.poll(e,i.id,r)}content(e,n,r){return this._client.getAPIList(`/vector_stores/${e}/files/${n}/content`,Co,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class ds extends oe{}class Co extends is{}us.VectorStoreFilesPage=ds;us.FileContentResponsesPage=Co;class Hd extends j{create(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n);return await this.poll(e,i.id,r)}listFiles(e,n,r={},i){return Y(r)?this.listFiles(e,n,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,ds,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:a}=await this.retrieve(e,n,{...r,headers:i}).withResponse();switch(s.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const c=a.headers.get("openai-poll-after-ms");if(c){const l=parseInt(c);isNaN(l)||(o=l)}}await Sr(o);break;case"failed":case"cancelled":case"completed":return s}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},i){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=(i==null?void 0:i.maxConcurrency)??5,a=Math.min(s,n.length),o=this._client,c=n.values(),l=[...r];async function u(f){for(let h of f){const g=await o.files.create({file:h,purpose:"assistants"},i);l.push(g.id)}}const d=Array(a).fill(c).map(u);return await l_(d),await this.createAndPoll(e,{file_ids:l})}}class kt extends j{constructor(){super(...arguments),this.files=new us(this._client),this.fileBatches=new Hd(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/vector_stores/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return Y(e)?this.list({},e):this._client.getAPIList("/vector_stores",Io,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}search(e,n,r){return this._client.getAPIList(`/vector_stores/${e}/search`,Oo,{body:n,method:"post",...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Io extends oe{}class Oo extends is{}kt.VectorStoresPage=Io;kt.VectorStoreSearchResponsesPage=Oo;kt.Files=us;kt.VectorStoreFilesPage=ds;kt.FileContentResponsesPage=Co;kt.FileBatches=Hd;var zd;class $ extends Iy{constructor({baseURL:e=Wr("OPENAI_BASE_URL"),apiKey:n=Wr("OPENAI_API_KEY"),organization:r=Wr("OPENAI_ORG_ID")??null,project:i=Wr("OPENAI_PROJECT_ID")??null,...s}={}){if(n===void 0)throw new T("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const a={apiKey:n,organization:r,project:i,...s,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&By())throw new T(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new Od(this),this.chat=new os(this),this.embeddings=new Dd(this),this.files=new mo(this),this.images=new Nd(this),this.audio=new Cr(this),this.moderations=new jd(this),this.models=new xo(this),this.fineTuning=new xt(this),this.graders=new Mo(this),this.vectorStores=new kt(this),this.beta=new Sn(this),this.batches=new Ja(this),this.uploads=new So(this),this.responses=new Eo(this),this.evals=new Tr(this),this._options=a,this.apiKey=n,this.organization=r,this.project=i}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return fy(e,{arrayFormat:"brackets"})}}zd=$;$.OpenAI=zd;$.DEFAULT_TIMEOUT=6e5;$.OpenAIError=T;$.APIError=ae;$.APIConnectionError=es;$.APIConnectionTimeoutError=Ya;$.APIUserAbortError=xe;$.NotFoundError=Hu;$.ConflictError=zu;$.RateLimitError=Uu;$.BadRequestError=$u;$.AuthenticationError=Bu;$.InternalServerError=Zu;$.PermissionDeniedError=Vu;$.UnprocessableEntityError=Wu;$.toFile=Ku;$.fileFromPath=Nu;$.Completions=Od;$.Chat=os;$.ChatCompletionsPage=as;$.Embeddings=Dd;$.Files=mo;$.FileObjectsPage=po;$.Images=Nd;$.Audio=Cr;$.Moderations=jd;$.Models=xo;$.ModelsPage=ko;$.FineTuning=xt;$.Graders=Mo;$.VectorStores=kt;$.VectorStoresPage=Io;$.VectorStoreSearchResponsesPage=Oo;$.Beta=Sn;$.Batches=Ja;$.BatchesPage=Ka;$.Uploads=So;$.Responses=Eo;$.Evals=Tr;$.EvalListResponsesPage=ho;export{d_ as D,h_ as M,$ as O,bl as P,p_ as S,R as Z,__ as a,y_ as b,f_ as c,m_ as d,v_ as e,g_ as f,u_ as g,vl as h,b_ as i,Sa as j,C_ as m,w_ as z};
